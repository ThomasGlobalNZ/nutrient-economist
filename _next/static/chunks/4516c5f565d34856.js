(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a({adults:e,children:a,infants:r,onUpdate:l,isVegetarian:i,isGlutenFree:n,isPreservativeFree:o,excludedAllergens:d,hasPantryStaples:c,preferredStore:u}){let[p,g]=(0,s.useState)("profile");return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex border-b border-slate-100",children:[{id:"profile",label:"1. Who",icon:"ğŸ‘¥"},{id:"preferences",label:"2. Preferences",icon:"âš™ï¸"}].map(e=>(0,t.jsxs)("button",{onClick:()=>g(e.id),className:`flex-1 py-4 text-sm font-bold transition-all relative ${p===e.id?"text-emerald-600 bg-emerald-50":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label,p===e.id&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-500"})]},e.id))}),(0,t.jsxs)("div",{className:"p-6",children:["profile"===p&&(0,t.jsx)("div",{className:"space-y-6 animate-fade-in",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Who's eating?"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Adults"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5,6].map(s=>(0,t.jsx)("button",{onClick:()=>l("adults",s),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${e===s?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-emerald-200"}`,children:s},s))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Children (5-12 yrs)"}),(0,t.jsx)("div",{className:"flex gap-2",children:[0,1,2,3,4].map(e=>(0,t.jsx)("button",{onClick:()=>l("children",e),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${a===e?"bg-cyan-500 border-cyan-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-cyan-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Infants (0-4 yrs)"}),(0,t.jsx)("div",{className:"flex gap-2",children:[0,1,2,3].map(e=>(0,t.jsx)("button",{onClick:()=>l("infants",e),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${r===e?"bg-purple-500 border-purple-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-purple-200"}`,children:e},e))})]})]})}),"preferences"===p&&(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Preferred Supermarket"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Any","Countdown","New World","PAK'nSAVE","FreshChoice","TheKaiCo"].map(e=>(0,t.jsx)("button",{onClick:()=>l("preferredStore",e),className:`py-2 px-3 rounded-lg border text-xs font-bold transition-all ${u===e?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-3 block",children:"Dietary Preferences"}),(0,t.jsx)("div",{className:"space-y-2",children:[{key:"isVegetarian",label:"Vegetarian",value:i},{key:"isGlutenFree",label:"Gluten Free",value:n},{key:"isPreservativeFree",label:"Preservative Free",value:o}].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${e.value?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:e.value&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:e.value,onChange:t=>l(e.key,t.target.checked)}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900",children:e.label})]},e.key))})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-3 block",children:"Exclude Allergens"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["Peanuts","Dairy","Gluten","Soy","Egg","Shellfish","Fish"].map(e=>{let s=d.includes(e);return(0,t.jsxs)("button",{onClick:()=>{l("excludedAllergens",s?d.filter(t=>t!==e):[...d,e])},className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${s?"bg-rose-500 border-rose-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-rose-200 hover:text-rose-500"}`,children:[s?"âœ• ":"",e]},e)})}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-2",children:"Tapping these will REMOVE items containing them from your cart."})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${c?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:c&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:c,onChange:e=>l("hasPantryStaples",e.target.checked)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900 block",children:"I have Staples"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"Skip Rice, Pasta, Oil, Butter"})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-4 flex justify-between items-center border-t border-slate-100",children:["profile"!==p?(0,t.jsx)("button",{onClick:()=>g("profile"),className:"text-xs font-bold text-slate-500 hover:text-slate-800",children:"â† Back"}):(0,t.jsx)("div",{}),"preferences"!==p?(0,t.jsx)("button",{onClick:()=>g("preferences"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-sm transition-all",children:"Next â†’"}):(0,t.jsx)("span",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest",children:"Setup Complete âœ“"})]})]})}let r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:d,...c},u)=>(0,s.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:l?24*Number(a)/Number(t):a,className:r("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let a=(0,s.forwardRef)(({className:a,...i},o)=>(0,s.createElement)(n,{ref:o,iconNode:t,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...i}));return a.displayName=l(e),a},d=o("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=o("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),u=o("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),p=o("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function g({isOpen:e,onClose:a,onSave:r,existingCollection:l}){let[i,n]=(0,s.useState)(l?.name||""),[o,d]=(0,s.useState)(l?.emoji||"ğŸ“‚");return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:l?"Edit Collection":"New Collection"}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-5 h-5 text-slate-500"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(r({id:l?.id||Math.random().toString(36).substr(2,9),name:i.trim(),emoji:o,recipeIds:l?.recipeIds||[],createdAt:l?.createdAt||new Date().toISOString()}),a())},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Collection Name"}),(0,t.jsx)("input",{autoFocus:!0,type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"e.g. Quick Weeknight Dinners",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Pick an Icon"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:["ğŸ“‚","ğŸ","ğŸ¥©","ğŸ¥¦","ğŸ•","ğŸ°","ğŸ£","ğŸ¥—","ğŸ²","â˜•","ğŸ‘¶","ğŸ”¥","â²ï¸","ğŸ’°"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>d(e),className:`text-2xl p-2 rounded-xl transition-all ${o===e?"bg-purple-100 scale-110 shadow-sm":"hover:bg-slate-50"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:!i.trim(),className:"flex-1 px-4 py-3 rounded-xl font-bold text-white bg-purple-600 hover:bg-purple-700 transition-all disabled:opacity-50",children:l?"Save Changes":"Create Collection"})]})]})]})}):null}function m({recipes:e,selectedMealIds:a,onSelectMeal:r,onViewRecipe:l,onEditRecipe:i,onDeleteRecipe:n,onUpdateMetadata:o,collections:p,onSaveCollection:m,onDeleteCollection:x,onDuplicateRecipe:h,onClearAllData:b,onExportData:f,onImportData:v}){let[y,j]=(0,s.useState)("all"),[_,w]=(0,s.useState)(null),[N,k]=(0,s.useState)(""),[S,C]=(0,s.useState)(null),[P,G]=(0,s.useState)("name"),[F,V]=(0,s.useState)("all"),[$,A]=(0,s.useState)(0),[M,T]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!1),[L,R]=(0,s.useState)(void 0),D=e.filter(e=>{let t="all"===y||("favorites"===y?e.isFavorite:e.mealType.includes(y)),s=!_||p.find(e=>e.id===_)?.recipeIds.includes(e.id),a=!S||e.tags.includes(S),r="all"===F||e.difficulty===F,l=(e.prepTime||0)+e.cookTime,i=0===$||l<=$,n=e.name.toLowerCase().includes(N.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(N.toLowerCase()))||e.ingredients.some(e=>e.name.toLowerCase().includes(N.toLowerCase()));return t&&s&&a&&r&&i&&n}).sort((e,t)=>e.isPinned&&!t.isPinned?-1:!e.isPinned&&t.isPinned?1:"name"===P?e.name.localeCompare(t.name):"time"===P?(e.prepTime||0)+e.cookTime-((t.prepTime||0)+t.cookTime):"servings"===P?t.servings-e.servings:0);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"relative flex-1",children:(0,t.jsx)("input",{type:"text",placeholder:"Find recipe or ingredient...",value:N,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})}),(0,t.jsxs)("select",{value:P,onChange:e=>G(e.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold text-slate-600 focus:ring-2 focus:ring-emerald-500 outline-none bg-white",children:[(0,t.jsx)("option",{value:"name",children:"Name A-Z"}),(0,t.jsx)("option",{value:"time",children:"Fastest First"}),(0,t.jsx)("option",{value:"servings",children:"Biggest Meals"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[D.length," ",1===D.length?"recipe":"recipes"," found"]}),N&&(0,t.jsx)("button",{onClick:()=>k(""),className:"text-[10px] font-bold text-emerald-600 hover:underline",children:"Clear search"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-none flex-1",children:["all","favorites","breakfast","lunch","dinner","snack","dessert"].map(e=>(0,t.jsx)("button",{onClick:()=>{j(e),w(null)},className:`px-4 py-1.5 rounded-full text-xs font-bold capitalize whitespace-nowrap transition-all border ${y===e&&!_?"bg-emerald-500 text-white border-emerald-500 shadow-sm":"bg-white text-slate-500 border-slate-100 hover:border-emerald-200"}`,children:"favorites"===e?"ğŸ’– Favorites":e},e))}),(0,t.jsx)("button",{onClick:()=>T(!M),className:`ml-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${M?"bg-slate-800 text-white border-slate-800":"bg-slate-100 text-slate-600 border-slate-100"}`,children:M?"âš™ï¸ Filters":"ğŸ” Advanced"})]}),p.length>0&&(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-none",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 self-center uppercase mr-1",children:"Collections:"}),p.map(e=>(0,t.jsxs)("button",{onClick:()=>{w(e.id===_?null:e.id),j("all")},className:`px-3 py-1 rounded-lg text-xs font-medium whitespace-nowrap transition-all border flex items-center gap-1 ${_===e.id?"bg-purple-500 text-white border-purple-500 shadow-sm":"bg-purple-50 text-purple-700 border-purple-100 hover:border-purple-300"}`,children:[(0,t.jsx)("span",{children:e.emoji}),(0,t.jsx)("span",{children:e.name})]},e.id))]}),M&&(0,t.jsxs)("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl space-y-4 animate-in fade-in slide-in-from-top-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Difficulty"}),(0,t.jsx)("div",{className:"flex gap-1",children:["all","easy","medium","hard"].map(e=>(0,t.jsx)("button",{onClick:()=>V(e),className:`flex-1 py-1 rounded text-[10px] font-bold uppercase border transition-all ${F===e?"bg-emerald-500 text-white border-emerald-500":"bg-white text-slate-500 border-slate-200 hover:border-emerald-300"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:["Max Time (",0===$?"Any":120===$?"2h+":`${$}m`,")"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"120",step:"15",value:$,onChange:e=>A(parseInt(e.target.value)),className:"w-full accent-emerald-500"})]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-slate-200",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Manage Collections"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{R(void 0),I(!0)},className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:border-emerald-500 transition-all flex items-center gap-1",children:[(0,t.jsx)("span",{children:"â•"})," New Collection"]}),_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>{let e=p.find(e=>e.id===_);e&&(R(e),I(!0))},className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:border-purple-500 transition-all flex items-center gap-1",children:[(0,t.jsx)("span",{children:"âœï¸"})," Edit"]}),(0,t.jsx)("button",{onClick:()=>{confirm("Delete this collection?")&&(x(_),w(null))},className:"px-3 py-1.5 bg-red-50 text-red-600 border border-red-100 rounded-lg text-xs font-bold hover:bg-red-100 transition-all",children:"ğŸ—‘ï¸ Delete"})]})]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-slate-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Backup & Data"}),(0,t.jsx)("button",{onClick:b,className:"text-[10px] font-bold text-red-400 hover:text-red-600 underline",children:"Clear All Data"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:f,className:"flex-1 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:border-emerald-500 transition-all flex items-center justify-center gap-1",children:"ğŸ“¤ Export Backup"}),(0,t.jsx)("button",{onClick:()=>document.getElementById("import-file")?.click(),className:"flex-1 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:border-emerald-500 transition-all flex items-center justify-center gap-1",children:"ğŸ“¥ Import Backup"}),(0,t.jsx)("input",{id:"import-file",type:"file",accept:".json",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&v(t),e.target.value=""}})]})]})]}),(0,t.jsx)(g,{isOpen:E,onClose:()=>I(!1),onSave:m,existingCollection:L}),(S||"all"!==F||0!==$)&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-1 border-t border-slate-100 mt-2",children:[S&&(0,t.jsxs)("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-1 rounded text-[10px] font-bold flex items-center gap-1",children:["Tag: ",S,(0,t.jsx)("button",{onClick:()=>C(null),className:"hover:text-emerald-900 border-l border-emerald-200 pl-1 ml-1",children:"Ã—"})]}),"all"!==F&&(0,t.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-[10px] font-bold flex items-center gap-1",children:["Difficulty: ",F,(0,t.jsx)("button",{onClick:()=>V("all"),className:"hover:text-blue-900 border-l border-blue-200 pl-1 ml-1",children:"Ã—"})]}),0!==$&&(0,t.jsxs)("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-[10px] font-bold flex items-center gap-1",children:["Time: â‰¤ ",$,"m",(0,t.jsx)("button",{onClick:()=>A(0),className:"hover:text-amber-900 border-l border-amber-200 pl-1 ml-1",children:"Ã—"})]}),(0,t.jsx)("button",{onClick:()=>{C(null),V("all"),A(0),j("all"),k("")},className:"text-[10px] font-bold text-slate-400 hover:text-slate-600 underline",children:"Reset All Filters"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:D.map(e=>{var s;let g=a.includes(e.id),x=(e.prepTime||0)+e.cookTime;return(0,t.jsx)("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${g?"border-emerald-500 bg-emerald-50":"border-slate-100 bg-white hover:border-emerald-200 hover:shadow-md"}`,onClick:()=>l(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-4xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 text-lg",children:e.name}),e.isPinned&&(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-bold",children:"ğŸ“Œ Pinned"}),e.isFavorite&&(0,t.jsx)("span",{className:"text-xs bg-rose-100 text-rose-700 px-2 py-0.5 rounded-full font-bold",children:"ğŸ’– Fav"}),"local"===e.source&&(0,t.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-bold",children:"ğŸ“ Draft"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.mealType.map(e=>(0,t.jsx)("span",{className:"text-[10px] bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full font-bold capitalize",children:e},e))}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[e.servings," servings"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[x," mins"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full font-bold ${"easy"===(s=e.difficulty)?"bg-green-100 text-green-700":"medium"===s?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:e.difficulty})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.tags.map(e=>(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),C(e===S?null:e)},className:`text-[10px] px-2 py-0.5 rounded-full transition-all ${S===e?"bg-emerald-500 text-white font-bold":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:e},e))}),e.notes&&(0,t.jsx)("div",{className:"bg-amber-50 border-l-2 border-amber-300 p-2 rounded-r-lg mt-1",children:(0,t.jsxs)("p",{className:"text-[10px] text-amber-800 italic leading-tight",children:["ğŸ’¡ ",e.notes]})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[o&&(0,t.jsxs)("div",{className:"flex gap-1 mb-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id,{isFavorite:!e.isFavorite})},className:`p-2 rounded-lg transition-all ${e.isFavorite?"bg-rose-100 text-rose-600":"bg-slate-100 text-slate-400 hover:bg-rose-50 hover:text-rose-400"}`,title:e.isFavorite?"Unfavorite":"Favorite",children:e.isFavorite?"â¤ï¸":"ğŸ¤"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id,{isPinned:!e.isPinned})},className:`p-2 rounded-lg transition-all ${e.isPinned?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-400 hover:bg-blue-50 hover:text-blue-400"}`,title:e.isPinned?"Unpin":"Pin",children:e.isPinned?"ğŸ“Œ":"ğŸ“"}),(0,t.jsxs)("select",{onClick:e=>e.stopPropagation(),onChange:t=>{let s=t.target.value;if(!s)return;let a=p.find(e=>e.id===s);if(a){let t=a.recipeIds.includes(e.id)?a.recipeIds.filter(t=>t!==e.id):[...a.recipeIds,e.id];m({...a,recipeIds:t})}t.target.value=""},className:"px-2 py-1 bg-slate-100 rounded-lg text-[10px] font-bold text-slate-500 outline-none border-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"ğŸ“‚ Collection"}),p.map(s=>(0,t.jsxs)("option",{value:s.id,children:[s.recipeIds.includes(e.id)?"âœ“":"+"," ",s.name]},s.id))]})]}),"local"===e.source&&i&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"px-4 py-2 rounded-lg font-bold text-sm bg-purple-100 text-purple-700 hover:bg-purple-200 transition-all",children:"âœï¸ Edit"}),"local"===e.source&&n&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"px-4 py-2 rounded-lg font-bold text-sm bg-red-100 text-red-700 hover:bg-red-200 transition-all",children:"ğŸ—‘ï¸ Delete"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e)},className:"px-4 py-2 rounded-lg font-bold text-sm bg-blue-50 text-blue-600 hover:bg-blue-100 transition-all border border-blue-100",title:"Make a copy",children:"ğŸ‘¯ Duplicate"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:`px-4 py-2 rounded-lg font-bold text-sm transition-all ${g?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:g?"âœ“ Added":"+ Add"})]})]})},e.id)})}),0===D.length&&(0,t.jsxs)("div",{className:"text-center py-10 text-slate-400",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"No recipes found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your search or filter"}),(0,t.jsx)("button",{onClick:()=>{C(null),V("all"),A(0),j("all"),k("")},className:"text-emerald-500 font-bold mt-4 hover:underline",children:"Reset All Filters"})]})]})}let x=[{id:"p1",name:"Value Beef Mince",price:13.9,unit:"1kg",weight_g:1e3,protein_g:180,calories:2200,category:"protein",sub_category:"mince",image:"ğŸ¥©",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["beef","iron-rich","mexican","italian","comfort"]},{id:"p2",name:"Waitoa Chicken Breast",price:14.5,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"ğŸ—",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["chicken","low-cholesterol","asian","comfort"]},{id:"p8",name:"Tegel Chicken Breast (Budget)",price:12.9,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"ğŸ—",brand_tier:"budget",servings_per_unit:6,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["chicken","low-cholesterol","asian","comfort"]},{id:"p3",name:"Colony Eggs",price:14.9,unit:"Tray (20)",weight_g:1200,protein_g:120,calories:1400,category:"protein",sub_category:"eggs",image:"ğŸ¥š",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg"],preservatives:[],tags:["vegetarian","versatile"]},{id:"p4",name:"Pams Tuna",price:2.1,unit:"185g Can",weight_g:185,protein_g:45,calories:200,category:"protein",sub_category:"canned_fish",image:"ğŸŸ",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!0,allergens:["Fish"],preservatives:[],tags:["fish","omega-3","brain-food"]},{id:"p5",name:"Value Lentils",price:1.2,unit:"400g Can",weight_g:400,protein_g:36,calories:320,category:"protein",sub_category:"canned_veg",image:"ğŸ¥«",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Sulphites"],tags:["vegetarian","gut-health","fibre","low-cholesterol"]},{id:"p6",name:"Hellers Sausages",price:11,unit:"1kg Pack",weight_g:1e3,protein_g:120,calories:2800,category:"protein",sub_category:"sausage",image:"ğŸŒ­",brand_tier:"budget",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!1,isGlutenFree:!1,isPantryStaple:!1,allergens:["Soy","Gluten","Sulphites"],preservatives:["Sodium Nitrite (250)","Sulphur Dioxide (220)"],tags:["beef","pork","comfort"]},{id:"p7",name:"Premium Angus Mince",price:18.99,unit:"1kg",weight_g:1e3,protein_g:190,calories:2100,category:"protein",sub_category:"mince",image:"ğŸ¥©",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["beef","iron-rich"]},{id:"c1",name:"Value White Rice",price:9.5,unit:"5kg Bag",weight_g:5e3,protein_g:350,calories:18e3,category:"carb",sub_category:"rice",image:"ğŸš",brand_tier:"budget",servings_per_unit:60,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","asian","mexican"]},{id:"c2",name:"Value Pasta",price:1.2,unit:"500g",weight_g:500,protein_g:60,calories:1800,category:"carb",sub_category:"pasta",image:"ğŸ",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[],tags:["staple","italian"]},{id:"c3",name:"Value White Toast Bread",price:1.4,unit:"Loaf",weight_g:600,protein_g:48,calories:1500,category:"carb",sub_category:"bread",image:"ğŸ",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)","Soy"],preservatives:["Calcium Propionate (282)"],tags:["staple"]},{id:"c4",name:"Harraways Rolled Oats",price:6.2,unit:"1.5kg",weight_g:1500,protein_g:195,calories:5600,category:"carb",sub_category:"oats",image:"ğŸ¥£",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Oats)"],preservatives:[],tags:["gut-health","low-cholesterol","fibre","breakfast"]},{id:"c5",name:"Ugly Bag Potatoes",price:5.99,unit:"4kg",weight_g:4e3,protein_g:80,calories:3e3,category:"carb",sub_category:"potato",image:"ğŸ¥”",brand_tier:"budget",servings_per_unit:20,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["staple","versatile","gut-health"]},{id:"c6",name:"Orange Kumara",price:8.99,unit:"1kg",weight_g:1e3,protein_g:16,calories:860,category:"carb",sub_category:"potato",image:"ğŸ ",brand_tier:"standard",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["fibre","gut-health"]},{id:"c7",name:"Artisan Sourdough",price:6.5,unit:"Loaf",weight_g:600,protein_g:50,calories:1400,category:"carb",sub_category:"bread",image:"ğŸ¥–",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"v1",name:"Value Frozen Mixed Veg",price:3.5,unit:"1kg",weight_g:1e3,protein_g:30,calories:600,category:"veg",sub_category:"frozen_veg",image:"ğŸ¥¦",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v2",name:"Fresh Carrots",price:2.5,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"fresh_veg",image:"ğŸ¥•",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v3",name:"Brown Onions",price:2.8,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"onion",image:"ğŸ§…",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v4",name:"Canned Tomatoes (Diced)",price:1.1,unit:"400g Can",weight_g:400,protein_g:4,calories:100,category:"veg",sub_category:"canned_veg",image:"ğŸ…",brand_tier:"budget",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Citric Acid"]},{id:"v5",name:"Frozen Stir Fry Mix",price:4,unit:"1kg",weight_g:1e3,protein_g:20,calories:400,category:"veg",sub_category:"frozen_veg",image:"ğŸ¥¦",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["asian","healthy"]},{id:"v6",name:"Frozen Spinach",price:2.5,unit:"500g",weight_g:500,protein_g:15,calories:100,category:"veg",sub_category:"frozen_veg",image:"ğŸ¥¬",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["healthy","versatile"]},{id:"int-taco-kit",name:"Old El Paso Taco Kit",price:7,unit:"12 Pack",weight_g:350,protein_g:5,calories:1200,category:"carb",sub_category:"taco",image:"ğŸŒ®",brand_tier:"standard",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten"],preservatives:[],tags:["mexican","family-fave"]},{id:"int-pasta-sauce",name:"Wattie's Pasta Sauce",price:2.5,unit:"420g Can",weight_g:420,protein_g:5,calories:150,category:"veg",sub_category:"sauce",image:"ğŸ",brand_tier:"budget",servings_per_unit:4,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["italian","comfort"]},{id:"int-soy-sauce",name:"Soy Sauce",price:3,unit:"250ml",weight_g:250,protein_g:2,calories:50,category:"fat",sub_category:"sauce",image:"ğŸ¥¢",brand_tier:"budget",servings_per_unit:20,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Soy","Gluten"],preservatives:[],tags:["asian","pantry"]},{id:"int-curry-paste",name:"Thai Green Curry Paste",price:4.5,unit:"200g",weight_g:200,protein_g:2,calories:300,category:"fat",sub_category:"sauce",image:"ğŸ›",brand_tier:"standard",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["asian","flavour"]},{id:"f1",name:"Bananas (Loose)",price:3.8,unit:"1kg",weight_g:1e3,protein_g:10,calories:890,category:"fruit",sub_category:"fresh_fruit",image:"ğŸŒ",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["potassium","gut-health","snack"]},{id:"f2",name:"Apples (Odd Bunch)",price:4,unit:"1.5kg",weight_g:1500,protein_g:7,calories:780,category:"fruit",sub_category:"fresh_fruit",image:"ğŸ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"Woolworths",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["fibre","gut-health","snack"]},{id:"f3",name:"Gold Kiwifruit",price:7.99,unit:"1kg",weight_g:1e3,protein_g:11,calories:610,category:"fruit",sub_category:"fresh_fruit",image:"ğŸ¥",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["vitamin-c","gut-health","snack"]},{id:"f4",name:"Frozen Mixed Berries",price:6,unit:"1kg",weight_g:1e3,protein_g:10,calories:500,category:"fruit",sub_category:"frozen_fruit",image:"ğŸ«",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["antioxidant","smoothie"]},{id:"d1",name:"Value Standard Milk",price:2.9,unit:"2L",weight_g:2e3,protein_g:66,calories:1200,category:"fat",sub_category:"milk",image:"ğŸ¥›",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["calcium","staple"]},{id:"d4",name:"Anchor Standard Milk",price:4.5,unit:"2L",weight_g:2e3,protein_g:68,calories:1250,category:"fat",sub_category:"milk",image:"ğŸ¥›",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["calcium","staple"]},{id:"d5",name:"Vitasoy Soy Milk",price:3.5,unit:"1L",weight_g:1e3,protein_g:30,calories:600,category:"fat",sub_category:"milk",image:"ğŸ¥›",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Soy"],preservatives:[],tags:["calcium","dairy-free","low-cholesterol"]},{id:"d2",name:"Mild Cheese Block",price:13.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3800,category:"fat",sub_category:"cheese",image:"ğŸ§€",brand_tier:"budget",servings_per_unit:25,sodium_level:"moderate",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:["Sorbic Acid (200)"],tags:["calcium","comfort"]},{id:"d3",name:"Butter (Salted)",price:6.5,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",sub_category:"butter",image:"ğŸ§ˆ",brand_tier:"standard",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[],tags:["staple","comfort"]},{id:"d6",name:"Yoghurt (Uno Plain)",price:4.5,unit:"1kg",weight_g:1e3,protein_g:40,calories:600,category:"fat",sub_category:"yoghurt",image:"ğŸ¥£",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["gut-health","probiotic","calcium"]},{id:"alt-bread-gf",name:"GF Bread (Vogel's)",price:7.5,unit:"Loaf",weight_g:500,protein_g:20,calories:1100,category:"carb",sub_category:"bread",image:"ğŸ",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg","Soy"],preservatives:[],tags:["gluten-free"]},{id:"alt-pasta-gf",name:"GF Pasta (Corn/Rice)",price:3.5,unit:"350g",weight_g:350,protein_g:25,calories:1200,category:"carb",sub_category:"pasta",image:"ğŸ",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["gluten-free"]},{id:"alt-cheese-vegan",name:"Dairy Free Cheese",price:8.5,unit:"200g",weight_g:200,protein_g:0,calories:600,category:"fat",sub_category:"cheese",image:"ğŸ§€",brand_tier:"premium",servings_per_unit:8,sodium_level:"high",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["dairy-free","vegan"]},{id:"b1",name:"Karicare Formula Step 1",price:23.5,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ğŸ¼",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[],tags:["baby"]},{id:"b2",name:"Heinz Nurture Formula",price:18,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ğŸ¼",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[],tags:["baby"]},{id:"b3",name:"Wattamol Baby Puree (Fruit)",price:2,unit:"120g Pouch",weight_g:120,protein_g:1,calories:80,category:"baby",image:"ğŸ¥£",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["baby","fruit"]},{id:"b4",name:"Watties Baby Food",price:1.9,unit:"120g Pouch",weight_g:120,protein_g:2,calories:80,category:"baby",image:"ğŸ‘¶",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-pasta-3kg",name:"Value Pasta (Bulk)",price:4.8,unit:"3kg",weight_g:3e3,protein_g:360,calories:10800,category:"carb",sub_category:"pasta",image:"ğŸ",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"b-rice-10kg",name:"Jasmine Rice (Bulk)",price:18,unit:"10kg",weight_g:1e4,protein_g:700,calories:36e3,category:"carb",sub_category:"rice",image:"ğŸš",brand_tier:"budget",servings_per_unit:120,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"b-mince-2kg",name:"Beef Mince (Club Pack)",price:22,unit:"2kg",weight_g:2e3,protein_g:360,calories:4400,category:"protein",sub_category:"mince",image:"ğŸ¥©",brand_tier:"budget",servings_per_unit:16,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-chicken-2kg",name:"Chicken Breast (Bulk)",price:26,unit:"2kg",weight_g:2e3,protein_g:620,calories:3300,category:"protein",sub_category:"chicken",image:"ğŸ—",brand_tier:"standard",servings_per_unit:12,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"s1",name:"Bluebird Chips (Salted)",price:2.5,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"fat",sub_category:"chips",image:"ğŸ¥”",brand_tier:"standard",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s2",name:"Cadbury Dairy Milk",price:4.5,unit:"180g",weight_g:180,protein_g:12,calories:950,category:"fat",sub_category:"chocolate",image:"ğŸ«",brand_tier:"standard",servings_per_unit:8,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["snack","comfort","chocolate"]},{id:"s3",name:"Griffins Gingernuts",price:2.5,unit:"250g",weight_g:250,protein_g:10,calories:1100,category:"fat",sub_category:"biscuit",image:"ğŸª",brand_tier:"standard",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Egg","Dairy"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"s4",name:"Copper Kettle Chips",price:4,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"fat",sub_category:"chips",image:"ğŸ¥”",brand_tier:"premium",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s5",name:"Eta Ripples",price:1.9,unit:"150g",weight_g:150,protein_g:7,calories:780,category:"fat",sub_category:"chips",image:"ğŸ¥”",brand_tier:"budget",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s6",name:"Whittakers Creamy Milk",price:5.5,unit:"250g",weight_g:250,protein_g:18,calories:1300,category:"fat",sub_category:"chocolate",image:"ğŸ«",brand_tier:"premium",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["snack","comfort","chocolate"]},{id:"s7",name:"Farmbake Cookies",price:3.5,unit:"350g",weight_g:350,protein_g:15,calories:1600,category:"fat",sub_category:"biscuit",image:"ğŸª",brand_tier:"standard",servings_per_unit:12,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy","Egg"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"s8",name:"Value Choc Chip Biscuits",price:1.9,unit:"250g",weight_g:250,protein_g:10,calories:1200,category:"fat",sub_category:"biscuit",image:"ğŸª",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Soy"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"dr1",name:"Coca Cola 1.5L",price:3.5,unit:"1.5L",weight_g:1500,protein_g:0,calories:600,category:"fat",sub_category:"soft_drink",image:"ğŸ¥¤",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"dr2",name:"Just Juice (Orange)",price:4,unit:"2.4L",weight_g:2400,protein_g:2,calories:800,category:"fat",sub_category:"juice",image:"ğŸ§ƒ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"dr3",name:"Value Fizzy (Lemonade)",price:1,unit:"1.5L",weight_g:1500,protein_g:0,calories:600,category:"fat",sub_category:"soft_drink",image:"ğŸ¥¤",brand_tier:"budget",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"real-mainland-tasty",name:"Mainland Tasty Cheese",price:16.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3900,category:"fat",sub_category:"cheese",image:"ğŸ§€",brand_tier:"premium",servings_per_unit:25,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["comfort","calcium"]},{id:"real-anchor-butter",name:"Anchor Butter (Standard)",price:7.9,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",sub_category:"butter",image:"ğŸ§ˆ",brand_tier:"premium",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[],tags:["staple"]},{id:"real-tiptop-white",name:"Tip Top Super Soft White",price:3.5,unit:"Loaf",weight_g:700,protein_g:55,calories:1600,category:"carb",sub_category:"bread",image:"ğŸ",brand_tier:"standard",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Soy"],preservatives:[],tags:["staple"]},{id:"real-sanitarium-weetbix",name:"Sanitarium Weet-Bix",price:6,unit:"750g",weight_g:750,protein_g:80,calories:2500,category:"carb",sub_category:"cereal",image:"ğŸ¥£",brand_tier:"standard",servings_per_unit:20,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten"],preservatives:[],tags:["breakfast","fibre"]},{id:"real-watties-bakedbeans",name:"Watties Baked Beans",price:2.2,unit:"420g",weight_g:420,protein_g:18,calories:350,category:"protein",sub_category:"canned_veg",image:"ğŸ¥«",brand_tier:"standard",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","pantry"]},{id:"sp1",name:"Salt",price:1.5,unit:"500g",weight_g:500,protein_g:0,calories:0,category:"fat",sub_category:"spice",image:"ğŸ§‚",brand_tier:"budget",servings_per_unit:100,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp2",name:"Black Pepper",price:3.5,unit:"100g",weight_g:100,protein_g:10,calories:250,category:"fat",sub_category:"spice",image:"ğŸŒ¶ï¸",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp3",name:"Paprika",price:4,unit:"100g",weight_g:100,protein_g:14,calories:280,category:"fat",sub_category:"spice",image:"ğŸŒ¶ï¸",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp4",name:"Cumin",price:4.5,unit:"100g",weight_g:100,protein_g:18,calories:375,category:"fat",sub_category:"spice",image:"ğŸŒ¿",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning","mexican","indian"]},{id:"sp5",name:"Garlic Powder",price:3.8,unit:"100g",weight_g:100,protein_g:17,calories:330,category:"fat",sub_category:"spice",image:"ğŸ§„",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp6",name:"Onion Powder",price:3.5,unit:"100g",weight_g:100,protein_g:8,calories:340,category:"fat",sub_category:"spice",image:"ğŸ§…",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp7",name:"Oregano",price:3.2,unit:"50g",weight_g:50,protein_g:4,calories:130,category:"fat",sub_category:"spice",image:"ğŸŒ¿",brand_tier:"budget",servings_per_unit:50,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning","italian"]},{id:"sp8",name:"Basil (Dried)",price:3.5,unit:"50g",weight_g:50,protein_g:6,calories:120,category:"fat",sub_category:"spice",image:"ğŸŒ¿",brand_tier:"budget",servings_per_unit:50,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning","italian"]},{id:"sp9",name:"Thyme",price:3.8,unit:"50g",weight_g:50,protein_g:5,calories:140,category:"fat",sub_category:"spice",image:"ğŸŒ¿",brand_tier:"budget",servings_per_unit:50,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]},{id:"sp10",name:"Cinnamon",price:4.2,unit:"100g",weight_g:100,protein_g:4,calories:250,category:"fat",sub_category:"spice",image:"ğŸŒ°",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning","baking"]},{id:"sp11",name:"Chili Powder",price:3.9,unit:"100g",weight_g:100,protein_g:12,calories:280,category:"fat",sub_category:"spice",image:"ğŸŒ¶ï¸",brand_tier:"budget",servings_per_unit:100,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning","mexican","spicy"]},{id:"sp12",name:"Mixed Herbs",price:3,unit:"50g",weight_g:50,protein_g:5,calories:120,category:"fat",sub_category:"spice",image:"ğŸŒ¿",brand_tier:"budget",servings_per_unit:50,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","seasoning"]}];function h({recipe:e,isOpen:a,onClose:r,onToggleSelect:l,isSelected:i,familySize:n,preferredStore:o}){let[g,m]=(0,s.useState)("ingredients");if(!a||!e)return null;let h=n.adults+.75*n.children+.25*n.infants,b=h/e.servings,f=e.ingredients.map(e=>{let t=x.find(t=>t.id===e.productId),s=Math.ceil(e.amount*b);return{...e,scaledAmount:s,product:t}}),v=f.reduce((e,t)=>{if(!t.product)return e;let s=t.scaledAmount/t.product.weight_g;return e+t.product.price*s},0),y=(e.prepTime||0)+e.cookTime;return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-emerald-500 to-teal-600 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("span",{className:"text-5xl",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-emerald-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.servings," servings (scaled for ",Math.round(h),")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[y," mins total"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"capitalize",children:e.difficulty})]})]})]})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"ingredients",label:"ğŸ¥˜ Ingredients"},{id:"steps",label:"ğŸ‘¨â€ğŸ³ Steps"},{id:"info",label:"â„¹ï¸ Info"}].map(e=>(0,t.jsx)("button",{onClick:()=>m(e.id),className:`flex-1 py-3 text-sm font-bold transition-all ${g===e.id?"bg-white text-emerald-600 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["ingredients"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-emerald-900",children:"Estimated Cost"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-emerald-700",children:["$",v.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-xs text-emerald-600 mt-1",children:["Based on ",o||"general"," pricing"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:f.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.product?.image||"ğŸ“¦"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[e.scaledAmount,e.unit,1!==b&&(0,t.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(scaled from ",e.amount,e.unit,")"]})]})]})]}),e.product&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-700",children:["$",e.product.price.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:e.product.unit})]})]},s))})]}),"steps"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold text-amber-900",children:"Prep:"}),(0,t.jsxs)("span",{className:"ml-2 text-amber-700",children:[e.prepTime||0," mins"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold text-amber-900",children:"Cook:"}),(0,t.jsxs)("span",{className:"ml-2 text-amber-700",children:[e.cookTime," mins"]})]})]})}),e.steps.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-emerald-500 text-white font-bold flex items-center justify-center text-sm",children:s+1}),(0,t.jsx)("p",{className:"flex-1 text-slate-700 leading-relaxed pt-1",children:e})]},s))]}),"info"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm",children:e},e))})]}),e.notes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Chef's Notes"}),(0,t.jsx)("p",{className:"text-slate-700 bg-slate-50 p-4 rounded-lg italic",children:e.notes})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Meal Type:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900 capitalize",children:e.mealType.join(", ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Leftovers:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.hasLeftovers?"Yes":"No"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Difficulty:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900 capitalize",children:e.difficulty})]})]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex gap-3",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl transition-colors",children:"Close"}),(0,t.jsx)("button",{onClick:()=>{l(e.id),r()},className:`flex-1 py-3 rounded-xl font-bold shadow-lg transition-all ${i?"bg-rose-500 text-white hover:bg-rose-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:i?"Remove from Meals":"Add to Meals"})]})]})})}var b=e.i(56466),f=e.i(66325),v=e.i(86881),y=e.i(23403),j=e.i(7664),_=e.i(99448);let w=[b.default,f.default,v.default,y.default,j.default,_.default],N=()=>{try{let e=localStorage.getItem("smartkete_recipes_local");if(!e)return[];return JSON.parse(e).map(e=>({...e,source:"local"}))}catch(e){return console.error("Error loading localStorage recipes:",e),[]}},k=e=>{try{let t=[...N().filter(t=>t.id!==e.id),{...e,source:"local"}];localStorage.setItem("smartkete_recipes_local",JSON.stringify(t))}catch(e){console.error("Error saving recipe to localStorage:",e)}},S=()=>{try{let e=localStorage.getItem("smartkete_collections");return e?JSON.parse(e):[]}catch(e){return console.error("Error loading collections:",e),[]}},C=()=>{let e=w.map(e=>({...e,source:"file"})),t=N(),s=new Set(e.map(e=>e.id));return[...e,...t.filter(e=>!s.has(e.id))]},P=o("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),G={"Fast Food":["ğŸ•","ğŸ”","ğŸŒ­","ğŸŒ®","ğŸŒ¯","ğŸ¥™","ğŸ¥ª","ğŸŸ","ğŸ¥“","ğŸ—"],"Pasta & Italian":["ğŸ","ğŸ•","ğŸ§€","ğŸ¥—","ğŸ…","ğŸ§„","ğŸ«’"],Asian:["ğŸ›","ğŸœ","ğŸ²","ğŸ¥Ÿ","ğŸ±","ğŸ£","ğŸ™","ğŸ¥¢","ğŸš","ğŸ¥ "],Breakfast:["ğŸ³","ğŸ¥","ğŸ§‡","ğŸ¥“","ğŸ¥","ğŸ¥¯","ğŸ¥–","ğŸ","ğŸ¥£","ğŸ¥›"],"Meat & Protein":["ğŸ¥©","ğŸ—","ğŸ¥“","ğŸ–","ğŸŸ","ğŸ¦","ğŸ¦","ğŸ¥š","ğŸ¤"],Vegetables:["ğŸ¥—","ğŸ¥™","ğŸ¥‘","ğŸ¥•","ğŸ¥¦","ğŸŒ½","ğŸ¥’","ğŸ…","ğŸ¥¬","ğŸ§…"],Desserts:["ğŸ°","ğŸ‚","ğŸ§","ğŸª","ğŸ©","ğŸ®","ğŸ¦","ğŸ¨","ğŸ§","ğŸ«"],Drinks:["â˜•","ğŸµ","ğŸ§ƒ","ğŸ¥¤","ğŸ§‹","ğŸ¹","ğŸº","ğŸ·","ğŸ¥‚"],Fruits:["ğŸ","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ‰","ğŸ‡","ğŸ“","ğŸ«","ğŸ’","ğŸ‘"],Other:["ğŸ¿","ğŸ¥œ","ğŸŒ°","ğŸ¯","ğŸ¥«","ğŸ§‚","ğŸ§ˆ","ğŸ¥„","ğŸ´","ğŸ¥˜"]};function F({onSelect:e,onClose:a}){let[r,l]=(0,s.useState)(""),[i,n]=(0,s.useState)(()=>{{let e=localStorage.getItem("smartkete_recent_emojis");return e?JSON.parse(e):[]}}),o=t=>{let s=[t,...i.filter(e=>e!==t)].slice(0,10);n(s),localStorage.setItem("smartkete_recent_emojis",JSON.stringify(s)),e(t),a()},d=Object.entries(G).reduce((e,[t,s])=>{if(r){let a=s.filter(e=>t.toLowerCase().includes(r.toLowerCase()));a.length>0&&(e[t]=a)}else e[t]=s;return e},{});return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[600px] overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Choose an Emoji"}),(0,t.jsx)("button",{onClick:a,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"p-4 border-b border-slate-200",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Search categories...",className:"w-full pl-10 pr-4 py-2 border-2 border-slate-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm"})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[i.length>0&&!r&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Recently Used"}),(0,t.jsx)("div",{className:"grid grid-cols-10 gap-2",children:i.map((e,s)=>(0,t.jsx)("button",{onClick:()=>o(e),className:"text-2xl p-2 hover:bg-purple-50 rounded-lg transition-colors",children:e},s))})]}),Object.entries(d).map(([e,s])=>(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:e}),(0,t.jsx)("div",{className:"grid grid-cols-10 gap-2",children:s.map((e,s)=>(0,t.jsx)("button",{onClick:()=>o(e),className:"text-2xl p-2 hover:bg-purple-50 rounded-lg transition-colors",title:e,children:e},s))})]},e)),0===Object.keys(d).length&&(0,t.jsx)("div",{className:"text-center py-10 text-slate-400",children:(0,t.jsx)("p",{children:"No emojis found"})})]})]})})}function V(e){let t=e.trim();return t?t.includes(",")?function(e){let t=e.split(",").map(e=>e.trim());if(t.length<4)return null;let[s,a,r,l]=t,i=parseFloat(a);return isNaN(i)?null:{amount:i,unit:r,name:l,productId:s}}(t):function(e){for(let t of[/^(\d+(?:\.\d+)?)(g|kg|ml|l|x|pack|can|bunch|clove|tbsp|tsp|cup|oz|lb)\s+(.+)$/i,/^(\d+(?:\.\d+)?)\s+(g|kg|ml|l|x|pack|can|bunch|clove|tbsp|tsp|cup|oz|lb)\s+(.+)$/i,/^(\d+(?:\.\d+)?)\s+(.+)$/i]){let s=e.match(t);if(s){let e=parseFloat(s[1]);if(4===s.length)return{amount:e,unit:s[2].toLowerCase(),name:s[3].trim()};if(3===s.length)return{amount:e,unit:"x",name:s[2].trim()}}}return null}(t):null}function $(e,t){let s=e.toLowerCase().trim(),a=t.toLowerCase().trim();if(s===a)return 1;if(s.includes(a)||a.includes(s))return .9;let r=s.split(/\s+/),l=a.split(/\s+/),i=0;for(let e of r)for(let t of l)if(e===t||e.includes(t)||t.includes(e)){i++;break}return i/Math.max(r.length,l.length)}let A=o("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),M=o("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),T=o("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),E=o("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),I=o("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),L=o("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function R({onClose:e,existingRecipe:a,mode:r="create"}){let[l,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null);(0,s.useRef)(null);let b=(0,s.useRef)(null),[f,v]=(0,s.useState)(a?.id||""),[y,j]=(0,s.useState)(a?.name||""),[_,w]=(0,s.useState)(a?.emoji||"ğŸ½ï¸"),[N,S]=(0,s.useState)(a?.servings||4),[C,P]=(0,s.useState)(a?.prepTime||15),[G,R]=(0,s.useState)(a?.cookTime||30),[D,B]=(0,s.useState)(a?.difficulty||"easy"),[O,z]=(0,s.useState)(a?.mealType?.[0]||"dinner"),[W,U]=(0,s.useState)(a?.hasLeftovers??!0),[J,K]=(0,s.useState)(a?.tags?.join(", ")||""),[q,H]=(0,s.useState)(a?.ingredients?.map(e=>`${e.amount}${e.unit} ${e.name}`).join("\n")||""),[Y,Z]=(0,s.useState)(a?.steps?.join("\n")||""),[Q,X]=(0,s.useState)(a?.notes||""),[ee,et]=(0,s.useState)(a?.image||""),[es,ea]=(0,s.useState)(a?.nutrition?.calories?.toString()||""),[er,el]=(0,s.useState)(a?.nutrition?.fat?.toString()||""),[ei,en]=(0,s.useState)(a?.nutrition?.protein?.toString()||""),[eo,ed]=(0,s.useState)(a?.nutrition?.sodium?.toString()||""),[ec,eu]=(0,s.useState)(a?.nutrition?.fiber?.toString()||""),[ep,eg]=(0,s.useState)(a?.nutrition?.carbs?.toString()||""),[em,ex]=(0,s.useState)(a?.nutrition?.sugar?.toString()||""),[eh,eb]=(0,s.useState)(""),ef=(0,s.useRef)(null);(0,s.useEffect)(()=>{n&&y&&"create"===r&&v(y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))},[y,n,r]),(0,s.useEffect)(()=>{if(y&&"create"===r){let e,t=(e=y.toLowerCase()).includes("taco")||e.includes("burrito")?"ğŸŒ®":e.includes("pizza")?"ğŸ•":e.includes("pasta")||e.includes("spaghetti")||e.includes("lasagna")?"ğŸ":e.includes("burger")?"ğŸ”":e.includes("hot dog")||e.includes("hotdog")?"ğŸŒ­":e.includes("sandwich")||e.includes("sub")?"ğŸ¥ª":e.includes("salad")?"ğŸ¥—":e.includes("curry")?"ğŸ›":e.includes("ramen")||e.includes("noodle")?"ğŸœ":e.includes("sushi")||e.includes("roll")?"ğŸ£":e.includes("rice bowl")||e.includes("poke")?"ğŸ±":e.includes("soup")||e.includes("stew")?"ğŸ²":e.includes("chicken")&&!e.includes("curry")?"ğŸ—":e.includes("steak")||e.includes("beef")?"ğŸ¥©":e.includes("bacon")?"ğŸ¥“":e.includes("fish")?"ğŸŸ":e.includes("shrimp")||e.includes("prawn")?"ğŸ¤":e.includes("egg")||e.includes("omelette")||e.includes("breakfast")?"ğŸ³":e.includes("pancake")||e.includes("waffle")?"ğŸ¥":e.includes("cake")?"ğŸ°":e.includes("pie")?"ğŸ¥§":e.includes("cookie")?"ğŸª":e.includes("donut")||e.includes("doughnut")?"ğŸ©":e.includes("ice cream")?"ğŸ¦":e.includes("smoothie")||e.includes("shake")?"ğŸ¥¤":e.includes("coffee")?"â˜•":e.includes("tea")?"ğŸµ":e.includes("bread")||e.includes("toast")?"ğŸ":e.includes("croissant")?"ğŸ¥":e.includes("bagel")?"ğŸ¥¯":e.includes("pretzel")?"ğŸ¥¨":e.includes("cheese")?"ğŸ§€":e.includes("potato")||e.includes("fries")?"ğŸŸ":e.includes("avocado")||e.includes("guac")?"ğŸ¥‘":e.includes("broccoli")?"ğŸ¥¦":e.includes("carrot")?"ğŸ¥•":e.includes("corn")?"ğŸŒ½":e.includes("tomato")?"ğŸ…":e.includes("eggplant")?"ğŸ†":e.includes("mushroom")?"ğŸ„":e.includes("peanut")||e.includes("cashew")?"ğŸ¥œ":"ğŸ½ï¸";"ğŸ½ï¸"!==t?h(t):h(null)}},[y,r]);let ev=()=>{let e={id:f||"new-recipe",name:y||"New Recipe",emoji:_||"ğŸ½ï¸",servings:N,prepTime:C,cookTime:G,difficulty:D,tags:J.split(",").map(e=>e.trim()).filter(e=>e),hasLeftovers:W,mealType:[O],ingredients:[],steps:[],notes:Q||void 0,image:ee||void 0};return(function(e){let t=[];for(let s of e.split("\n")){let e=s.trim();if(!e)continue;let a=e.split(",").map(e=>e.trim()),r=a.length>=4&&!isNaN(parseFloat(a[1]));if(a.length>1&&!r)for(let e of a){let s=V(e);s&&t.push(s)}else{let s=V(e);s&&t.push(s)}}return t})(q).map(e=>{if(e.productId){let t=x.find(t=>t.id===e.productId);return{...e,product:t,confidence:+!!t}}let t=function(e,t=x){let s=null,a=0;for(let r of t){let t=$(e,r.name);t>a&&(a=t,s=r)}return a>=.4?s:null}(e.name);return{...e,product:t||void 0,productId:t?.id,confidence:t?$(e.name,t.name):0}}).forEach(t=>{e.ingredients.push({productId:t.productId||"unknown",amount:t.amount,unit:t.unit,name:t.name})}),e.steps=Y.split("\n").map(e=>{let t=e.trim();return t?t.includes(",")?t.split(",").map(e=>{let t=e.trim();return t?t.charAt(0).toUpperCase()+t.slice(1):""}).filter(e=>e):[t.charAt(0).toUpperCase()+t.slice(1)]:[]}).flat().filter(e=>e),(es||er||ei||eo||ec||ep||em)&&(e.nutrition={calories:es?parseInt(es):void 0,fat:er?parseFloat(er):void 0,protein:ei?parseFloat(ei):void 0,sodium:eo?parseInt(eo):void 0,fiber:ec?parseFloat(ec):void 0,carbs:ep?parseFloat(ep):void 0,sugar:em?parseFloat(em):void 0}),e};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 p-6 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"edit"===r?"âœï¸ Edit Recipe":"ğŸ½ï¸ Recipe Creator"}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"edit"===r?"Update your recipe":"Create recipes from manual entry or photos"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["create"===r&&(0,t.jsxs)("button",{onClick:()=>{"edit"!==r&&(j(""),v(""),w("ğŸ½ï¸"),S(4),P(15),R(30),B("easy"),z("dinner"),U(!0),K(""),H(""),Z(""),X(""),et(""),ea(""),el(""),en(""),ed(""),eu(""),eg(""),ex(""),h(null),o(!0),c(!1))},className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors flex items-center gap-2 text-sm font-semibold",title:"Clear all fields",children:[(0,t.jsx)(E,{className:"w-4 h-4"}),"Clear All"]}),(0,t.jsx)("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-6 h-6"})})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[ee?(0,t.jsx)("img",{src:ee,alt:"Recipe",className:"w-24 h-24 object-cover rounded-lg"}):(0,t.jsx)("div",{className:"w-24 h-24 bg-emerald-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(A,{className:"w-8 h-8 text-emerald-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-1",children:"Recipe Photo (Optional)"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Upload a cover image for your recipe"}),(0,t.jsx)("input",{ref:ef,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let s=new FileReader;s.onload=e=>{et(e.target?.result)},s.readAsDataURL(t)},className:"hidden"}),(0,t.jsx)("button",{onClick:()=>ef.current?.click(),className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all text-sm",children:"Choose Image"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Recipe Name *"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"Beef Tacos",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-900",children:"Recipe ID *"}),(0,t.jsxs)("button",{onClick:()=>o(!n),className:`text-xs px-2 py-1 rounded ${n?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:[(0,t.jsx)(E,{className:"w-3 h-3 inline mr-1"}),n?"Auto":"Manual"]})]}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>{v(e.target.value),o(!1)},placeholder:"beef-tacos",disabled:n&&"create"===r,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-500"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:n&&"create"===r?"Auto-generated from name":"Lowercase, use hyphens"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Emoji"}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("input",{type:"text",value:_,onChange:e=>w(e.target.value),placeholder:"ğŸŒ®",maxLength:2,className:"w-20 px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-center text-2xl text-slate-900"}),(0,t.jsx)("button",{onClick:()=>i(!0),className:"px-3 py-2 bg-purple-100 hover:bg-purple-200 text-purple-600 rounded-lg transition-all",title:"Choose emoji",children:(0,t.jsx)(T,{className:"w-5 h-5"})}),m&&_!==m&&(0,t.jsxs)("button",{onClick:()=>w(m),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg transition-all text-sm font-bold flex items-center gap-1",children:[(0,t.jsx)(M,{className:"w-4 h-4"}),"Use ",m]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Servings"}),(0,t.jsx)("input",{type:"number",value:N,onChange:e=>S(parseInt(e.target.value)),min:"1",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Prep (min)"}),(0,t.jsx)("input",{type:"number",value:C,onChange:e=>P(parseInt(e.target.value)),min:"0",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Cook (min)"}),(0,t.jsx)("input",{type:"number",value:G,onChange:e=>R(parseInt(e.target.value)),min:"0",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Difficulty"}),(0,t.jsxs)("select",{value:D,onChange:e=>B(e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"easy",children:"Easy"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Meal Type"}),(0,t.jsxs)("select",{value:O,onChange:e=>z(e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"breakfast",children:"Breakfast"}),(0,t.jsx)("option",{value:"lunch",children:"Lunch"}),(0,t.jsx)("option",{value:"dinner",children:"Dinner"}),(0,t.jsx)("option",{value:"snack",children:"Snack"}),(0,t.jsx)("option",{value:"dessert",children:"Dessert"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Leftovers?"}),(0,t.jsxs)("select",{value:W.toString(),onChange:e=>U("true"===e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"true",children:"Yes"}),(0,t.jsx)("option",{value:"false",children:"No"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Tags (comma separated)"}),(0,t.jsx)("input",{type:"text",value:J,onChange:e=>K(e.target.value),placeholder:"mexican, family-friendly, quick",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 flex items-center justify-between transition-colors",children:[(0,t.jsxs)("span",{className:"font-bold text-slate-900 flex items-center gap-2",children:["ğŸ“Š Nutrition Info (Optional)",(0,t.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"Per serving"})]}),d?(0,t.jsx)(L,{className:"w-5 h-5 text-slate-500"}):(0,t.jsx)(I,{className:"w-5 h-5 text-slate-500"})]}),d&&(0,t.jsxs)("div",{className:"p-4 grid grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Calories"}),(0,t.jsx)("input",{type:"number",value:es,onChange:e=>ea(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Fat (g)"}),(0,t.jsx)("input",{type:"number",value:er,onChange:e=>el(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Protein (g)"}),(0,t.jsx)("input",{type:"number",value:ei,onChange:e=>en(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Carbs (g)"}),(0,t.jsx)("input",{type:"number",value:ep,onChange:e=>eg(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Sodium (mg)"}),(0,t.jsx)("input",{type:"number",value:eo,onChange:e=>ed(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Fiber (g)"}),(0,t.jsx)("input",{type:"number",value:ec,onChange:e=>eu(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Sugar (g)"}),(0,t.jsx)("input",{type:"number",value:em,onChange:e=>ex(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Ingredients *"}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("input",{ref:b,type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.value=""}}),(0,t.jsx)("button",{type:"button",onClick:()=>b.current?.click(),className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2",children:"ğŸ–¼ï¸ Choose Photo"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-2 italic",children:'After choosing photo: Use Snipping Tool "Select Text" â†’ Copy â†’ Paste below â†“'}),(0,t.jsx)("textarea",{value:q,onChange:e=>H(e.target.value),placeholder:"500g beef mince, 1x taco kit, 100g cheese grated, 1 tsp salt, pepper to taste",rows:8,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["âœ¨ ",(0,t.jsx)("strong",{children:"Easy format:"}),' Comma-separated or line-by-line. Example: "500g beef, cheese 100g, salt"']})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Steps *"}),(0,t.jsx)("textarea",{value:Y,onChange:e=>Z(e.target.value),placeholder:"heat oil in pan, add onions, cook until soft, add mince and brown",rows:6,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"âœ¨ Comma-separated or line-by-line. Auto-capitalizes first letter!"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:Q,onChange:e=>X(e.target.value),placeholder:"Chef's tips, substitutions, or fun facts...",rows:3,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{k(ev()),e(),window.location.reload()},className:"py-4 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(M,{className:"w-5 h-5"}),"ğŸ’¾ Save & Test"]}),(0,t.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(ev(),null,4)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`${f||"new-recipe"}.json`,s.click(),URL.revokeObjectURL(t)},className:"py-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2",children:"ğŸ“¥ Download Recipe"})]}),(0,t.jsxs)("p",{className:"text-xs text-center text-slate-500",children:["ğŸ’¡ ",(0,t.jsx)("strong",{children:"Save & Test"})," for instant preview â€¢ ",(0,t.jsx)("strong",{children:"Download Recipe"})," to keep permanently"]})]})})]}),l&&(0,t.jsx)(F,{onSelect:e=>w(e),onClose:()=>i(!1)})]})}function D({recipes:e,selectedMealIds:s,onRemoveMeal:a,onViewRecipe:r}){let l=e.filter(e=>s.includes(e.id));return 0===l.length?(0,t.jsxs)("div",{className:"text-center py-10 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:[(0,t.jsx)("p",{className:"text-lg font-bold text-slate-400 mb-1",children:"No meals selected yet"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Browse recipes above and add some to your plan!"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("h3",{className:"font-bold text-slate-900",children:["Your Meals (",l.length,")"]}),(0,t.jsx)("button",{onClick:()=>s.forEach(e=>a(e)),className:"text-xs text-rose-500 hover:text-rose-700 font-bold",children:"Clear All"})]}),l.map(e=>{let s=(e.prepTime||0)+e.cookTime;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-emerald-50 border border-emerald-200 rounded-lg hover:shadow-md transition-all cursor-pointer",onClick:()=>r(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-slate-900 text-sm",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-3 text-xs text-slate-500 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.servings})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[s,"m"]})]}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 rounded-full capitalize",children:e.difficulty})]})]})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"p-2 hover:bg-rose-100 rounded-full transition-colors text-rose-500",children:(0,t.jsx)(p,{className:"w-4 h-4"})})]},e.id)})]})}let B=o("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),O=o("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),z=o("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),W=o("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),U=o("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function J({recipes:e,shoppingList:a,totalCost:r,familySize:l}){let[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),g=()=>{let t=[`ğŸ›’ SmartKete Shopping List`];return t.push(`Total: $${r.toFixed(2)}`),t.push(`For: ${l.adults} adult${1!==l.adults?"s":""}${l.children>0?`, ${l.children} child${1!==l.children?"ren":""}`:""}${l.infants>0?`, ${l.infants} infant${1!==l.infants?"s":""}`:""}`),t.push(""),t.push("ğŸ“‹ INGREDIENTS:"),t.push("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"),a.forEach(e=>{t.push(`â˜ ${e.name} - ${e.totalAmount}${e.unit}`),t.push(`  (for: ${e.recipes.join(", ")})`)}),t.push(""),t.push("ğŸ½ï¸ MEALS:"),t.push("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"),e.forEach(e=>{t.push(`â€¢ ${e.emoji} ${e.name}`)}),t.join("\n")},m=()=>{let t=[`ğŸ½ï¸ SmartKete Recipes
`];return e.forEach((e,s)=>{t.push(`${s+1}. ${e.emoji} ${e.name.toUpperCase()}`),t.push(`   Servings: ${e.servings} | Prep: ${e.prepTime}m | Cook: ${e.cookTime}m`),t.push(""),t.push("   INGREDIENTS:"),e.ingredients.forEach(e=>{t.push(`   â€¢ ${e.amount}${e.unit} ${e.name}`)}),t.push(""),t.push("   STEPS:"),e.steps.forEach((e,s)=>{t.push(`   ${s+1}. ${e}`)}),e.notes&&(t.push(""),t.push(`   ğŸ’¡ ${e.notes}`)),t.push("\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n")}),t.join("\n")},x=e=>{let t=encodeURIComponent("shopping"===e?g():m());window.open(`https://wa.me/?text=${t}`,"_blank"),d(!1),u(!1)},h=e=>{let t="shopping"===e?g():m();navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3),window.open("https://www.messenger.com/","_blank"),d(!1),u(!1)},b=e=>{let t=encodeURIComponent("shopping"===e?g():m());window.location.href=`mailto:?subject=${encodeURIComponent("shopping"===e?"Shopping List from SmartKete":"Recipes from SmartKete")}&body=${t}`,d(!1),u(!1)},f=async e=>{let t="shopping"===e?g():m();if(navigator.share)try{await navigator.share({title:`SmartKete ${"shopping"===e?"Shopping List":"Recipes"}`,text:t})}catch(e){console.log("Share cancelled or failed")}else navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3);d(!1),u(!1)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center justify-center gap-3 py-4 px-6 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg transition-all",children:[(0,t.jsx)(U,{className:"w-5 h-5"}),"Share Shopping List"]}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-3 py-4 px-6 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-xl shadow-lg transition-all",children:[(0,t.jsx)(U,{className:"w-5 h-5"}),"Share Recipes"]})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-emerald-500 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Share Shopping List"}),(0,t.jsx)("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Choose how to share"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>x("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(B,{className:"w-5 h-5"}),"WhatsApp"]}),(0,t.jsxs)("button",{onClick:()=>h("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(O,{className:"w-5 h-5"}),"Messenger"]}),(0,t.jsxs)("button",{onClick:()=>b("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-slate-500 hover:bg-slate-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(z,{className:"w-5 h-5"}),"Email"]}),(0,t.jsxs)("button",{onClick:()=>f("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(U,{className:"w-5 h-5"}),"More Options..."]})]})]})}),c&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-purple-500 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Share Recipes"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(p,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Choose how to share"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>x("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(B,{className:"w-5 h-5"}),"WhatsApp"]}),(0,t.jsxs)("button",{onClick:()=>h("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(O,{className:"w-5 h-5"}),"Messenger"]}),(0,t.jsxs)("button",{onClick:()=>b("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-slate-500 hover:bg-slate-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(z,{className:"w-5 h-5"}),"Email"]}),(0,t.jsxs)("button",{onClick:()=>f("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(U,{className:"w-5 h-5"}),"More Options..."]})]})]})}),i&&(0,t.jsxs)("div",{className:"fixed bottom-4 right-4 bg-emerald-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in z-50",children:[(0,t.jsx)(W,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-bold",children:"Copied to clipboard!"})]})]})}let K=o("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function q(){let[e,a]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{localStorage.getItem("smartkete_legal_accepted")||a(!0)},[]),e)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-end md:items-center justify-center p-4 z-[9999] animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-slide-up",children:[(0,t.jsxs)("div",{className:"bg-amber-50 p-6 border-b border-amber-100 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-amber-100 p-2 rounded-full",children:(0,t.jsx)(K,{className:"w-6 h-6 text-amber-600"})}),(0,t.jsx)("h2",{className:"font-bold text-slate-800 text-lg",children:"Heads Up, Legend!"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4 text-sm text-slate-600 leading-relaxed",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"SmartKete is a tool, not a professional."})}),(0,t.jsxs)("p",{children:['The prices, nutritional info, and "Smart Choices" shown here are ',(0,t.jsx)("strong",{children:"estimates only"}),". We do our best to be accurate, but supermarket prices change faster than the weather in Wellington."]}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-slate-500 text-xs bg-slate-50 p-3 rounded-xl",children:[(0,t.jsxs)("li",{children:["We are ",(0,t.jsx)("strong",{children:"not"})," financial advisors."]}),(0,t.jsxs)("li",{children:["We are ",(0,t.jsx)("strong",{children:"not"})," medical professionals or dietitians."]}),(0,t.jsx)("li",{children:"Always check labels for allergens if you have severe sensitivities, even if you used our filters."})]}),(0,t.jsx)("p",{children:"By using this app, you agree that we (the developers) aren't liable if your shop costs $5 more than expected or if you burn your toast. ğŸ"})]}),(0,t.jsx)("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:(0,t.jsx)("button",{onClick:()=>{localStorage.setItem("smartkete_legal_accepted","true"),a(!1)},className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-2xl shadow-lg shadow-emerald-200 transition-all transform hover:scale-[1.02]",children:"Sweet as, I understand"})})]})}):null}function H({recipe:e,onConfirm:s,onCancel:a}){return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsx)("div",{className:"text-6xl mb-3",children:"âš ï¸"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Delete Recipe?"}),(0,t.jsxs)("p",{className:"text-slate-600",children:["Are you sure you want to delete ",(0,t.jsxs)("strong",{className:"text-slate-900",children:[e.emoji," ",e.name]}),"?"]}),(0,t.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"This action cannot be undone."})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:a,className:"flex-1 px-4 py-3 rounded-lg font-bold bg-slate-100 text-slate-700 hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-3 rounded-lg font-bold bg-red-600 text-white hover:bg-red-700 transition-all",children:"ğŸ—‘ï¸ Delete"})]})]})})}function Y(){let e,r,l,[i,n]=(0,s.useState)(2),[o,d]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[p,g]=(0,s.useState)("Any"),[b,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[j,_]=(0,s.useState)(!1),[w,P]=(0,s.useState)([]),[G,F]=(0,s.useState)(!1),[V,$]=(0,s.useState)([]),[A,M]=(0,s.useState)([]),[T,E]=(0,s.useState)("setup"),[I,L]=(0,s.useState)(null),[B,O]=(0,s.useState)(!1),[z,W]=(0,s.useState)(!1),[U,K]=(0,s.useState)(void 0),[Y,Z]=(0,s.useState)(null),[Q,X]=(0,s.useState)([]);(0,s.useEffect)(()=>{X(S())},[]);let[ee,et]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{M(await C())})()},[]),(0,s.useEffect)(()=>{et(!0);let e=localStorage.getItem("smartkete_prefs_v5");if(e)try{let t=JSON.parse(e);n(t.adults||2),d(t.children||0),u(t.infants||0),g(t.preferredStore||"Any"),f(t.isVegetarian||!1),y(t.isGlutenFree||!1),_(t.isPreservativeFree||!1),P(t.excludedAllergens||[]),F(t.hasPantryStaples||!1),$(t.selectedMealIds||[])}catch(e){console.error("Failed to load prefs",e)}},[]),(0,s.useEffect)(()=>{ee&&localStorage.setItem("smartkete_prefs_v5",JSON.stringify({adults:i,children:o,infants:c,preferredStore:p,isVegetarian:b,isGlutenFree:v,isPreservativeFree:j,excludedAllergens:w,hasPantryStaples:G,selectedMealIds:V}))},[i,o,c,p,b,v,j,w,G,V,ee]);let es=e=>{$(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ea=e=>{L(e),O(!0)},er=(e=A.filter(e=>V.includes(e.id)),r=i+.75*o+.25*c,l=new Map,e.forEach(e=>{let t=r/e.servings;e.ingredients.forEach(s=>{let a=s.productId,r=x.find(e=>e.id===s.productId),i=Math.ceil(s.amount*t);if(l.has(a)){let t=l.get(a);t.totalAmount+=i,t.recipes.push(e.name)}else l.set(a,{product:r,totalAmount:i,unit:s.unit,name:s.name,recipes:[e.name]})})}),Array.from(l.values())),el=er.reduce((e,t)=>{if(!t.product)return e;let s=Math.ceil(t.totalAmount/t.product.weight_g);return e+t.product.price*s},0);return ee?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[(0,t.jsx)(q,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("h1",{className:"text-4xl sm:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600 mb-2",children:"SmartKete"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"Your Family Recipe & Shopping Planner"})]}),(0,t.jsx)("div",{className:"flex gap-2 bg-white rounded-xl p-2 shadow-sm",children:[{id:"setup",label:"1. Setup",icon:"ğŸ‘¥"},{id:"meals",label:"2. Meals",icon:"ğŸ½ï¸"},{id:"shop",label:"3. Shop",icon:"ğŸ›’"}].map(e=>(0,t.jsxs)("button",{onClick:()=>E(e.id),className:`flex-1 py-3 px-4 rounded-lg font-bold text-sm transition-all ${T===e.id?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:["setup"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(a,{adults:i,children:o,infants:c,durationDays:7,mealsPerDay:3,budget:150,preferredStore:p,isVegetarian:b,isGlutenFree:v,isPreservativeFree:j,excludedAllergens:w,hasPantryStaples:G,safetyBuffer:5,includeSnacks:!1,mealPlan:{},onUpdate:(e,t)=>{"adults"===e&&n(t),"children"===e&&d(t),"infants"===e&&u(t),"preferredStore"===e&&g(t),"isVegetarian"===e&&f(t),"isGlutenFree"===e&&y(t),"isPreservativeFree"===e&&_(t),"excludedAllergens"===e&&P(t),"hasPantryStaples"===e&&F(t)}}),(0,t.jsx)("button",{onClick:()=>E("meals"),className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg transition-all",children:"Next: Choose Meals â†’"})]}),"meals"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Browse Recipes"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Select meals for your family. We'll generate a shopping list from your choices."})]}),(0,t.jsxs)("button",{onClick:()=>W(!0),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg shadow-md transition-all flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"â•"}),"Add Recipe"]})]}),(0,t.jsx)(D,{recipes:A,selectedMealIds:V,onRemoveMeal:es,onViewRecipe:ea}),(0,t.jsx)(m,{recipes:A,selectedMealIds:V,onSelectMeal:es,onViewRecipe:ea,onEditRecipe:e=>{K(e),W(!0)},onDeleteRecipe:e=>{Z(e)},onUpdateMetadata:(e,t)=>{try{let s=N();if(s.find(t=>t.id===e)){let a=s.map(s=>s.id===e?{...s,...t}:s);localStorage.setItem("smartkete_recipes_local",JSON.stringify(a))}else{let s=C().find(t=>t.id===e);s&&k({...s,...t})}}catch(e){console.error("Error updating recipe metadata:",e)}M(s=>s.map(s=>s.id===e?{...s,...t}:s))},collections:Q,onSaveCollection:e=>{try{let t=[...S().filter(t=>t.id!==e.id),e];localStorage.setItem("smartkete_collections",JSON.stringify(t))}catch(e){console.error("Error saving collection:",e)}X(t=>[...t.filter(t=>t.id!==e.id),e])},onDeleteCollection:e=>{try{let t=S().filter(t=>t.id!==e);localStorage.setItem("smartkete_collections",JSON.stringify(t))}catch(e){console.error("Error deleting collection:",e)}X(t=>t.filter(t=>t.id!==e))},onDuplicateRecipe:e=>{let t,s=(k(t={...e,id:Math.random().toString(36).substr(2,9),name:`${e.name} (Copy)`,source:"local",isPinned:!1}),t);M(e=>[...e,s])},onClearAllData:()=>{if(confirm("âš ï¸ DANGER: This will delete ALL your custom recipes, favorites, and collections forever. Are you absolutely sure?")){try{localStorage.removeItem("smartkete_recipes_local"),localStorage.removeItem("smartkete_collections")}catch(e){console.error("Error clearing personal data:",e)}M(C()),X([]),$([]),alert("All personal data cleared.")}},onExportData:()=>{try{let e={recipes:N(),collections:S(),exportedAt:new Date().toISOString(),version:"1.0"},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`nutrient-economist-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}catch(e){console.error("Error exporting personal data:",e)}},onImportData:e=>{let t=new FileReader;t.onload=e=>{let t=(e=>{try{let t=JSON.parse(e);if(!t.recipes&&!t.collections)return{success:!1,message:"Invalid backup file format"};if(t.recipes&&Array.isArray(t.recipes)){let e=N(),s=new Set(e.map(e=>e.id)),a=t.recipes.filter(e=>!s.has(e.id));localStorage.setItem("smartkete_recipes_local",JSON.stringify([...e,...a]))}if(t.collections&&Array.isArray(t.collections)){let e=S(),s=new Set(e.map(e=>e.id)),a=t.collections.filter(e=>!s.has(e.id));localStorage.setItem("smartkete_collections",JSON.stringify([...e,...a]))}return{success:!0,message:"Data imported successfully"}}catch(e){return console.error("Error importing personal data:",e),{success:!1,message:"Failed to parse backup file"}}})(e.target?.result);t.success&&(M(C()),X(S())),alert(t.message)},t.readAsText(e)}}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>E("setup"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition-all",children:"â† Back"}),(0,t.jsx)("button",{onClick:()=>E("shop"),disabled:0===V.length,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate Shopping List â†’"})]})]}),"shop"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Your Shopping List"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Based on ",V.length," selected meal",1!==V.length?"s":""]})]}),er.length>0?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-200 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-bold text-emerald-900",children:"Estimated Total"}),(0,t.jsxs)("span",{className:"text-3xl font-black text-emerald-700",children:["$",el.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-xs text-emerald-600 mt-1",children:["For ",i," adult",1!==i?"s":"",o>0&&`, ${o} child${1!==o?"ren":""}`,c>0&&`, ${c} infant${1!==c?"s":""}`]})]}),(0,t.jsx)("div",{className:"space-y-3",children:er.map((e,s)=>{let a=e.product?Math.ceil(e.totalAmount/e.product.weight_g):0,r=e.product?e.product.price*a:0;return(0,t.jsxs)("div",{className:"flex justify-between items-start p-4 bg-slate-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.product?.image||"ğŸ“¦"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Need ",e.totalAmount,e.unit,e.product&&a>1&&(0,t.jsxs)("span",{className:"text-emerald-600 ml-1",children:["(buy ",a,"Ã— ",e.product.unit,")"]})]}),(0,t.jsxs)("div",{className:"text-xs text-emerald-600 mt-1",children:["For: ",e.recipes.join(", ")]})]})]}),e.product&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-900",children:["$",r.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["$",e.product.price.toFixed(2)," each"]})]})]},s)})}),(0,t.jsx)(J,{recipes:A.filter(e=>V.includes(e.id)),shoppingList:er,totalCost:el,familySize:{adults:i,children:o,infants:c}})]}):(0,t.jsxs)("div",{className:"text-center py-10 text-slate-400",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"No meals selected"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Go back and choose some recipes!"})]}),(0,t.jsx)("button",{onClick:()=>E("meals"),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition-all",children:"â† Back to Meals"})]})]})]}),(0,t.jsx)(h,{recipe:I,isOpen:B,onClose:()=>O(!1),onToggleSelect:es,isSelected:!!I&&V.includes(I.id),familySize:{adults:i,children:o,infants:c},preferredStore:p}),z&&(0,t.jsx)(R,{onClose:()=>{W(!1),K(void 0)},existingRecipe:U,mode:U?"edit":"create"}),Y&&(0,t.jsx)(H,{recipe:Y,onConfirm:()=>{if(Y){var e=Y.id;try{let t=N().filter(t=>t.id!==e);localStorage.setItem("smartkete_recipes_local",JSON.stringify(t))}catch(e){console.error("Error deleting recipe from localStorage:",e)}M(e=>e.filter(e=>e.id!==Y.id)),$(e=>e.filter(e=>e!==Y.id)),Z(null)}},onCancel:()=>Z(null)})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-400",children:"Loading..."})})}e.s(["default",()=>Y],31713)}]);