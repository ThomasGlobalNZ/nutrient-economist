(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7805,(e,t,s)=>{var r=function(e){"use strict";var t,s=Object.prototype,r=s.hasOwnProperty,a=Object.defineProperty||function(e,t,s){e[t]=s.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",n=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(e,t,s){return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,s){return e[t]=s}}function d(e,s,r,i){var l,n,o,c,d=Object.create((s&&s.prototype instanceof x?s:x).prototype);return a(d,"_invoke",{value:(l=e,n=r,o=new C(i||[]),c=p,function(e,s){if(c===g)throw Error("Generator is already running");if(c===m){if("throw"===e)throw s;return G()}for(o.method=e,o.arg=s;;){var r=o.delegate;if(r){var a=function e(s,r){var a=r.method,i=s.iterator[a];if(t===i)return(r.delegate=null,"throw"===a&&s.iterator.return&&(r.method="return",r.arg=t,e(s,r),"throw"===r.method))?h:("return"!==a&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+a+"' method")),h);var l=u(i,s.iterator,r.arg);if("throw"===l.type)return r.method="throw",r.arg=l.arg,r.delegate=null,h;var n=l.arg;return n?n.done?(r[s.resultName]=n.value,r.next=s.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):n:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,h)}(r,o);if(a){if(a===h)continue;return a}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(c===p)throw c=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c=g;var i=u(l,n,o);if("normal"===i.type){if(c=o.done?m:"suspendedYield",i.arg===h)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(c=m,o.method="throw",o.arg=i.arg)}})}),d}function u(e,t,s){try{return{type:"normal",arg:e.call(t,s)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var p="suspendedStart",g="executing",m="completed",h={};function x(){}function b(){}function f(){}var v={};c(v,l,function(){return this});var y=Object.getPrototypeOf,j=y&&y(y(P([])));j&&j!==s&&r.call(j,l)&&(v=j);var w=f.prototype=x.prototype=Object.create(v);function _(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){var s;a(this,"_invoke",{value:function(a,i){function l(){return new t(function(s,l){!function s(a,i,l,n){var o=u(e[a],e,i);if("throw"===o.type)n(o.arg);else{var c=o.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){s("next",e,l,n)},function(e){s("throw",e,l,n)}):t.resolve(d).then(function(e){c.value=e,l(c)},function(e){return s("throw",e,l,n)})}}(a,i,s,l)})}return s=s?s.then(l,l):l()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var s=e[l];if(s)return s.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function s(){for(;++a<e.length;)if(r.call(e,a))return s.value=e[a],s.done=!1,s;return s.value=t,s.done=!0,s};return i.next=i}}return{next:G}}function G(){return{value:t,done:!0}}return b.prototype=f,a(w,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:b,configurable:!0}),b.displayName=c(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,o,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(N.prototype),c(N.prototype,n,function(){return this}),e.AsyncIterator=N,e.async=function(t,s,r,a,i){void 0===i&&(i=Promise);var l=new N(d(t,s,r,a),i);return e.isGeneratorFunction(s)?l:l.next().then(function(e){return e.done?e.value:l.next()})},_(w),c(w,o,"Generator"),c(w,l,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),s=[];for(var r in t)s.push(r);return s.reverse(),function e(){for(;s.length;){var r=s.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var s in this)"t"===s.charAt(0)&&r.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var s=this;function a(r,a){return n.type="throw",n.arg=e,s.next=r,a&&(s.method="next",s.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],n=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var o=r.call(l,"catchLoc"),c=r.call(l,"finallyLoc");if(o&&c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);else if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else if(c){if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return(l.type=e,l.arg=t,i)?(this.method="next",this.next=i.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===e)return this.complete(s.completion,s.afterLoc),S(s),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===e){var r=s.completion;if("throw"===r.type){var a=r.arg;S(s)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,s,r){return this.delegate={iterator:P(e),resultName:s,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(t.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},13485,(e,t,s)=>{"use strict";t.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},82779,(e,t,s)=>{"use strict";let r=e.r(13485),a=0;t.exports=({id:e,action:t,payload:s={}})=>{let i=e;return void 0===i&&(i=r("Job",a),a+=1),{id:i,action:t,payload:s}}},37716,(e,t,s)=>{"use strict";let r=!1;s.logging=!1,s.setLogging=e=>{r=e},s.log=(...t)=>r?console.log.apply(e.e,t):null},61565,(e,t,s)=>{"use strict";let r=e.r(82779),{log:a}=e.r(37716),i=e.r(13485),l=0;t.exports=()=>{let t=i("Scheduler",l),s={},n={},o=[];l+=1;let c=()=>Object.keys(s).length,d=()=>{if(0!==o.length){let e=Object.keys(s);for(let t=0;t<e.length;t+=1)if(void 0===n[e[t]]){o[0](s[e[t]]);break}}};return{addWorker:e=>(s[e.id]=e,a(`[${t}]: Add ${e.id}`),a(`[${t}]: Number of workers=${c()}`),d(),e.id),addJob:async(s,...i)=>{if(0===c())throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return new Promise((l,c)=>{let u=r({action:s,payload:i});o.push(async t=>{o.shift(),n[t.id]=u;try{l(await t[s].apply(e.e,[...i,u.id]))}catch(e){c(e)}finally{delete n[t.id],d()}}),a(`[${t}]: Add ${u.id} to JobQueue`),a(`[${t}]: JobQueue length=${o.length}`),d()})},terminate:async()=>{Object.keys(s).forEach(async e=>{await s[e].terminate()}),o=[]},getQueueLen:()=>o.length,getNumWorkers:c}}},75261,(e,t,s)=>{"use strict";var r=e.i(47167);t.exports=e=>{let t={};return("u">typeof WorkerGlobalScope?t.type="webworker":"object"==typeof document?t.type="browser":"object"==typeof r.default&&(t.type="node"),void 0===e)?t:t[e]}},48824,(e,t,s)=>{"use strict";let r="browser"===e.r(75261)("type")?e=>new URL(e,window.location.href).href:e=>e;t.exports=e=>{let t={...e};return["corePath","workerPath","langPath"].forEach(s=>{e[s]&&(t[s]=r(t[s]))}),t}},89220,(e,t,s)=>{"use strict";t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},14301,e=>{e.v({name:"tesseract.js",version:"7.0.0",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^7.0.0","wasm-feature-detect":"^1.8.0",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}})},4207,(e,t,s)=>{"use strict";t.exports={workerBlobURL:!0,logger:()=>{}}},76423,(e,t,s)=>{"use strict";let r=e.r(14301).version;t.exports={...e.r(4207),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`}},60465,(e,t,s)=>{"use strict";t.exports=({workerPath:e,workerBlobURL:t})=>{let s;if(Blob&&URL&&t){let t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(t))}else s=new Worker(e);return s}},46257,(e,t,s)=>{"use strict";t.exports=e=>{e.terminate()}},58602,(e,t,s)=>{"use strict";t.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},54657,(e,t,s)=>{"use strict";t.exports=async(e,t)=>{e.postMessage(t)}},53377,(e,t,s)=>{"use strict";let r=e=>new Promise((t,s)=>{let r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:e}}})=>{s(Error(`File could not be read! Code=${e}`))},r.readAsArrayBuffer(e)}),a=async e=>{let t=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{let s=await fetch(e);t=await s.arrayBuffer()}else if("u">typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(t=await a(e.src)),"VIDEO"===e.tagName&&(t=await a(e.poster)),"CANVAS"===e.tagName&&await new Promise(s=>{e.toBlob(async e=>{t=await r(e),s()})});else if("u">typeof OffscreenCanvas&&e instanceof OffscreenCanvas){let s=await e.convertToBlob();t=await r(s)}else(e instanceof File||e instanceof Blob)&&(t=await r(e));return new Uint8Array(t)};t.exports=a},72978,(e,t,s)=>{"use strict";let r=e.r(76423),a=e.r(60465),i=e.r(46257),l=e.r(58602);t.exports={defaultOptions:r,spawnWorker:a,terminateWorker:i,onMessage:l,send:e.r(54657),loadImage:e.r(53377)}},71343,(e,t,s)=>{"use strict";let r=e.r(48824),a=e.r(82779),{log:i}=e.r(37716),l=e.r(13485),n=e.r(89220),{defaultOptions:o,spawnWorker:c,terminateWorker:d,onMessage:u,loadImage:p,send:g}=e.r(72978),m=0;t.exports=async(e="eng",t=n.LSTM_ONLY,s={},h={})=>{let x,b,f=l("Worker",m),{logger:v,errorHandler:y,...j}=r({...o,...s}),w={},_="string"==typeof e?e.split("+"):e,N=t,k=h,S=[n.DEFAULT,n.LSTM_ONLY].includes(t)&&!j.legacyCore,C=new Promise((e,t)=>{b=e,x=t}),P=c(j);P.onerror=e=>{x(e.message)},m+=1;let G=({id:e,action:t,payload:s})=>new Promise((r,a)=>{i(`[${f}]: Start ${e}, action=${t}`),w[`${t}-${e}`]={resolve:r,reject:a},g(P,{workerId:f,jobId:e,action:t,payload:s})}),E=(e,t)=>G(a({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:j.langPath,dataPath:j.dataPath,cachePath:j.cachePath,cacheMethod:j.cacheMethod,gzip:j.gzip,lstmOnly:[n.DEFAULT,n.LSTM_ONLY].includes(N)&&!j.legacyLang}}})),F=(e,t,s,r)=>G(a({id:r,action:"initialize",payload:{langs:e,oem:t,config:s}})),L=async(e,t={},s={text:!0},r)=>G(a({id:r,action:"recognize",payload:{image:await p(e),options:t,output:s}})),T=async(e,t)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return G(a({id:t,action:"detect",payload:{image:await p(e)}}))},A=async()=>(null!==P&&(d(P),P=null),Promise.resolve());u(P,({workerId:e,jobId:t,status:s,action:r,data:a})=>{let l=`${r}-${t}`;if("resolve"===s)i(`[${e}]: Complete ${t}`),w[l].resolve({jobId:t,data:a}),delete w[l];else if("reject"===s)if(w[l].reject(a),delete w[l],"load"===r&&x(a),y)y(a);else throw Error(a);else"progress"===s&&v({...a,userJobId:t})});let R={id:f,worker:P,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,s)=>G(a({id:s,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>G(a({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>G(a({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,s)=>G(a({id:s,action:"FS",payload:{method:e,args:t}})),reinitialize:(e="eng",t,s,r)=>{if(S&&[n.TESSERACT_ONLY,n.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");let a=t||N;N=a;let i=s||k;k=i;let l=("string"==typeof e?e.split("+"):e).filter(e=>!_.includes(e));return(_.push(...l),l.length>0)?E(l,r).then(()=>F(e,a,i,r)):F(e,a,i,r)},setParameters:(e={},t)=>G(a({id:t,action:"setParameters",payload:{params:e}})),recognize:L,detect:T,terminate:A};return G(a({id:void 0,action:"load",payload:{options:{lstmOnly:S,corePath:j.corePath,logging:j.logging}}})).then(()=>E(e)).then(()=>F(e,t,h)).then(()=>b(R)).catch(()=>{}),C}},57130,(e,t,s)=>{"use strict";let r=e.r(71343);t.exports={recognize:async(e,t,s)=>{let a=await r(t,1,s);return a.recognize(e).finally(async()=>{await a.terminate()})},detect:async(e,t)=>{let s=await r("osd",0,t);return s.detect(e).finally(async()=>{await s.terminate()})}}},55793,(e,t,s)=>{"use strict";t.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},54534,(e,t,s)=>{"use strict";t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},61281,(e,t,s)=>{"use strict";e.r(7805);let r=e.r(61565),a=e.r(71343),i=e.r(57130),l=e.r(55793),n=e.r(89220),o=e.r(54534),{setLogging:c}=e.r(37716);t.exports={languages:l,OEM:n,PSM:o,createScheduler:r,createWorker:a,setLogging:c,...i}},31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({adults:e,children:r,infants:a,onUpdate:i,isVegetarian:l,isGlutenFree:n,isPreservativeFree:o,excludedAllergens:c,hasPantryStaples:d,preferredStore:u}){let[p,g]=(0,s.useState)("profile");return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex border-b border-slate-100",children:[{id:"profile",label:"1. Who",icon:"üë•"},{id:"preferences",label:"2. Preferences",icon:"‚öôÔ∏è"}].map(e=>(0,t.jsxs)("button",{onClick:()=>g(e.id),className:`flex-1 py-4 text-sm font-bold transition-all relative ${p===e.id?"text-emerald-600 bg-emerald-50":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label,p===e.id&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-500"})]},e.id))}),(0,t.jsxs)("div",{className:"p-6",children:["profile"===p&&(0,t.jsx)("div",{className:"space-y-6 animate-fade-in",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Who's eating?"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Adults"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5,6].map(s=>(0,t.jsx)("button",{onClick:()=>i("adults",s),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${e===s?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-emerald-200"}`,children:s},s))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Children (5-12 yrs)"}),(0,t.jsx)("div",{className:"flex gap-2",children:[0,1,2,3,4].map(e=>(0,t.jsx)("button",{onClick:()=>i("children",e),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${r===e?"bg-cyan-500 border-cyan-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-cyan-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Infants (0-4 yrs)"}),(0,t.jsx)("div",{className:"flex gap-2",children:[0,1,2,3].map(e=>(0,t.jsx)("button",{onClick:()=>i("infants",e),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${a===e?"bg-purple-500 border-purple-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-purple-200"}`,children:e},e))})]})]})}),"preferences"===p&&(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Preferred Supermarket"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Any","Countdown","New World","PAK'nSAVE","FreshChoice","TheKaiCo"].map(e=>(0,t.jsx)("button",{onClick:()=>i("preferredStore",e),className:`py-2 px-3 rounded-lg border text-xs font-bold transition-all ${u===e?"bg-emerald-500 border-emerald-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-3 block",children:"Dietary Preferences"}),(0,t.jsx)("div",{className:"space-y-2",children:[{key:"isVegetarian",label:"Vegetarian",value:l},{key:"isGlutenFree",label:"Gluten Free",value:n},{key:"isPreservativeFree",label:"Preservative Free",value:o}].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${e.value?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:e.value&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"‚úì"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:e.value,onChange:t=>i(e.key,t.target.checked)}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900",children:e.label})]},e.key))})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-3 block",children:"Exclude Allergens"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["Peanuts","Dairy","Gluten","Soy","Egg","Shellfish","Fish"].map(e=>{let s=c.includes(e);return(0,t.jsxs)("button",{onClick:()=>{i("excludedAllergens",s?c.filter(t=>t!==e):[...c,e])},className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${s?"bg-rose-500 border-rose-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-rose-200 hover:text-rose-500"}`,children:[s?"‚úï ":"",e]},e)})}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-2",children:"Tapping these will REMOVE items containing them from your cart."})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${d?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:d&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"‚úì"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:d,onChange:e=>i("hasPantryStaples",e.target.checked)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900 block",children:"I have Staples"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"Skip Rice, Pasta, Oil, Butter"})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-4 flex justify-between items-center border-t border-slate-100",children:["profile"!==p?(0,t.jsx)("button",{onClick:()=>g("profile"),className:"text-xs font-bold text-slate-500 hover:text-slate-800",children:"‚Üê Back"}):(0,t.jsx)("div",{}),"preferences"!==p?(0,t.jsx)("button",{onClick:()=>g("preferences"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-sm transition-all",children:"Next ‚Üí"}):(0,t.jsx)("span",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest",children:"Setup Complete ‚úì"})]})]})}let a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:c,...d},u)=>(0,s.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:a("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},o)=>(0,s.createElement)(n,{ref:o,iconNode:t,className:a(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...l}));return r.displayName=i(e),r},c=o("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),d=o("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),u=o("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);function p({recipes:e,selectedMealIds:r,onSelectMeal:a,onViewRecipe:i,onEditRecipe:l}){let[n,o]=(0,s.useState)("all"),[p,g]=(0,s.useState)(""),m=e.filter(e=>{let t="all"===n||e.mealType.includes(n),s=e.name.toLowerCase().includes(p.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(p.toLowerCase()));return t&&s});return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search recipes...",value:p,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","breakfast","lunch","dinner"].map(e=>(0,t.jsx)("button",{onClick:()=>o(e),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider whitespace-nowrap transition-all ${n===e?"bg-emerald-500 text-white shadow-md":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:e},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:m.map(e=>{var s;let n=r.includes(e.id),o=(e.prepTime||0)+e.cookTime;return(0,t.jsx)("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${n?"border-emerald-500 bg-emerald-50":"border-slate-100 bg-white hover:border-emerald-200 hover:shadow-md"}`,onClick:()=>i(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-4xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 text-lg",children:e.name}),"local"===e.source&&(0,t.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-bold",children:"üìù Draft"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[e.servings," servings"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[o," mins"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full font-bold ${"easy"===(s=e.difficulty)?"bg-green-100 text-green-700":"medium"===s?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:e.difficulty})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"text-[10px] bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full",children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:["local"===e.source&&l&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e)},className:"px-4 py-2 rounded-lg font-bold text-sm bg-purple-100 text-purple-700 hover:bg-purple-200 transition-all",children:"‚úèÔ∏è Edit"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:`px-4 py-2 rounded-lg font-bold text-sm transition-all ${n?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:n?"‚úì Added":"+ Add"})]})]})},e.id)})}),0===m.length&&(0,t.jsxs)("div",{className:"text-center py-10 text-slate-400",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"No recipes found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your search or filter"})]})]})}let g=[{id:"p1",name:"Value Beef Mince",price:13.9,unit:"1kg",weight_g:1e3,protein_g:180,calories:2200,category:"protein",sub_category:"mince",image:"ü•©",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["beef","iron-rich","mexican","italian","comfort"]},{id:"p2",name:"Waitoa Chicken Breast",price:14.5,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"üçó",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["chicken","low-cholesterol","asian","comfort"]},{id:"p8",name:"Tegel Chicken Breast (Budget)",price:12.9,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"üçó",brand_tier:"budget",servings_per_unit:6,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["chicken","low-cholesterol","asian","comfort"]},{id:"p3",name:"Colony Eggs",price:14.9,unit:"Tray (20)",weight_g:1200,protein_g:120,calories:1400,category:"protein",sub_category:"eggs",image:"ü•ö",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg"],preservatives:[],tags:["vegetarian","versatile"]},{id:"p4",name:"Pams Tuna",price:2.1,unit:"185g Can",weight_g:185,protein_g:45,calories:200,category:"protein",sub_category:"canned_fish",image:"üêü",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!0,allergens:["Fish"],preservatives:[],tags:["fish","omega-3","brain-food"]},{id:"p5",name:"Value Lentils",price:1.2,unit:"400g Can",weight_g:400,protein_g:36,calories:320,category:"protein",sub_category:"canned_veg",image:"ü•´",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Sulphites"],tags:["vegetarian","gut-health","fibre","low-cholesterol"]},{id:"p6",name:"Hellers Sausages",price:11,unit:"1kg Pack",weight_g:1e3,protein_g:120,calories:2800,category:"protein",sub_category:"sausage",image:"üå≠",brand_tier:"budget",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!1,isGlutenFree:!1,isPantryStaple:!1,allergens:["Soy","Gluten","Sulphites"],preservatives:["Sodium Nitrite (250)","Sulphur Dioxide (220)"],tags:["beef","pork","comfort"]},{id:"p7",name:"Premium Angus Mince",price:18.99,unit:"1kg",weight_g:1e3,protein_g:190,calories:2100,category:"protein",sub_category:"mince",image:"ü•©",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["beef","iron-rich"]},{id:"c1",name:"Value White Rice",price:9.5,unit:"5kg Bag",weight_g:5e3,protein_g:350,calories:18e3,category:"carb",sub_category:"rice",image:"üçö",brand_tier:"budget",servings_per_unit:60,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","asian","mexican"]},{id:"c2",name:"Value Pasta",price:1.2,unit:"500g",weight_g:500,protein_g:60,calories:1800,category:"carb",sub_category:"pasta",image:"üçù",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[],tags:["staple","italian"]},{id:"c3",name:"Value White Toast Bread",price:1.4,unit:"Loaf",weight_g:600,protein_g:48,calories:1500,category:"carb",sub_category:"bread",image:"üçû",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)","Soy"],preservatives:["Calcium Propionate (282)"],tags:["staple"]},{id:"c4",name:"Harraways Rolled Oats",price:6.2,unit:"1.5kg",weight_g:1500,protein_g:195,calories:5600,category:"carb",sub_category:"oats",image:"ü•£",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Oats)"],preservatives:[],tags:["gut-health","low-cholesterol","fibre","breakfast"]},{id:"c5",name:"Ugly Bag Potatoes",price:5.99,unit:"4kg",weight_g:4e3,protein_g:80,calories:3e3,category:"carb",sub_category:"potato",image:"ü•î",brand_tier:"budget",servings_per_unit:20,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["staple","versatile","gut-health"]},{id:"c6",name:"Orange Kumara",price:8.99,unit:"1kg",weight_g:1e3,protein_g:16,calories:860,category:"carb",sub_category:"potato",image:"üç†",brand_tier:"standard",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["fibre","gut-health"]},{id:"c7",name:"Artisan Sourdough",price:6.5,unit:"Loaf",weight_g:600,protein_g:50,calories:1400,category:"carb",sub_category:"bread",image:"ü•ñ",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"v1",name:"Value Frozen Mixed Veg",price:3.5,unit:"1kg",weight_g:1e3,protein_g:30,calories:600,category:"veg",sub_category:"frozen_veg",image:"ü•¶",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v2",name:"Fresh Carrots",price:2.5,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"fresh_veg",image:"ü•ï",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v3",name:"Brown Onions",price:2.8,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"onion",image:"üßÖ",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v4",name:"Canned Tomatoes (Diced)",price:1.1,unit:"400g Can",weight_g:400,protein_g:4,calories:100,category:"veg",sub_category:"canned_veg",image:"üçÖ",brand_tier:"budget",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Citric Acid"]},{id:"v5",name:"Frozen Stir Fry Mix",price:4,unit:"1kg",weight_g:1e3,protein_g:20,calories:400,category:"veg",sub_category:"frozen_veg",image:"ü•¶",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["asian","healthy"]},{id:"v6",name:"Frozen Spinach",price:2.5,unit:"500g",weight_g:500,protein_g:15,calories:100,category:"veg",sub_category:"frozen_veg",image:"ü•¨",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["healthy","versatile"]},{id:"int-taco-kit",name:"Old El Paso Taco Kit",price:7,unit:"12 Pack",weight_g:350,protein_g:5,calories:1200,category:"carb",sub_category:"taco",image:"üåÆ",brand_tier:"standard",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten"],preservatives:[],tags:["mexican","family-fave"]},{id:"int-pasta-sauce",name:"Wattie's Pasta Sauce",price:2.5,unit:"420g Can",weight_g:420,protein_g:5,calories:150,category:"veg",sub_category:"sauce",image:"üçù",brand_tier:"budget",servings_per_unit:4,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["italian","comfort"]},{id:"int-soy-sauce",name:"Soy Sauce",price:3,unit:"250ml",weight_g:250,protein_g:2,calories:50,category:"fat",sub_category:"sauce",image:"ü•¢",brand_tier:"budget",servings_per_unit:20,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Soy","Gluten"],preservatives:[],tags:["asian","pantry"]},{id:"int-curry-paste",name:"Thai Green Curry Paste",price:4.5,unit:"200g",weight_g:200,protein_g:2,calories:300,category:"fat",sub_category:"sauce",image:"üçõ",brand_tier:"standard",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["asian","flavour"]},{id:"f1",name:"Bananas (Loose)",price:3.8,unit:"1kg",weight_g:1e3,protein_g:10,calories:890,category:"fruit",sub_category:"fresh_fruit",image:"üçå",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["potassium","gut-health","snack"]},{id:"f2",name:"Apples (Odd Bunch)",price:4,unit:"1.5kg",weight_g:1500,protein_g:7,calories:780,category:"fruit",sub_category:"fresh_fruit",image:"üçé",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"Woolworths",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["fibre","gut-health","snack"]},{id:"f3",name:"Gold Kiwifruit",price:7.99,unit:"1kg",weight_g:1e3,protein_g:11,calories:610,category:"fruit",sub_category:"fresh_fruit",image:"ü•ù",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["vitamin-c","gut-health","snack"]},{id:"f4",name:"Frozen Mixed Berries",price:6,unit:"1kg",weight_g:1e3,protein_g:10,calories:500,category:"fruit",sub_category:"frozen_fruit",image:"ü´ê",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["antioxidant","smoothie"]},{id:"d1",name:"Value Standard Milk",price:2.9,unit:"2L",weight_g:2e3,protein_g:66,calories:1200,category:"fat",sub_category:"milk",image:"ü•õ",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["calcium","staple"]},{id:"d4",name:"Anchor Standard Milk",price:4.5,unit:"2L",weight_g:2e3,protein_g:68,calories:1250,category:"fat",sub_category:"milk",image:"ü•õ",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["calcium","staple"]},{id:"d5",name:"Vitasoy Soy Milk",price:3.5,unit:"1L",weight_g:1e3,protein_g:30,calories:600,category:"fat",sub_category:"milk",image:"ü•õ",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Soy"],preservatives:[],tags:["calcium","dairy-free","low-cholesterol"]},{id:"d2",name:"Mild Cheese Block",price:13.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3800,category:"fat",sub_category:"cheese",image:"üßÄ",brand_tier:"budget",servings_per_unit:25,sodium_level:"moderate",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:["Sorbic Acid (200)"],tags:["calcium","comfort"]},{id:"d3",name:"Butter (Salted)",price:6.5,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",sub_category:"butter",image:"üßà",brand_tier:"standard",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[],tags:["staple","comfort"]},{id:"d6",name:"Yoghurt (Uno Plain)",price:4.5,unit:"1kg",weight_g:1e3,protein_g:40,calories:600,category:"fat",sub_category:"yoghurt",image:"ü•£",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["gut-health","probiotic","calcium"]},{id:"alt-bread-gf",name:"GF Bread (Vogel's)",price:7.5,unit:"Loaf",weight_g:500,protein_g:20,calories:1100,category:"carb",sub_category:"bread",image:"üçû",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg","Soy"],preservatives:[],tags:["gluten-free"]},{id:"alt-pasta-gf",name:"GF Pasta (Corn/Rice)",price:3.5,unit:"350g",weight_g:350,protein_g:25,calories:1200,category:"carb",sub_category:"pasta",image:"üçù",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["gluten-free"]},{id:"alt-cheese-vegan",name:"Dairy Free Cheese",price:8.5,unit:"200g",weight_g:200,protein_g:0,calories:600,category:"fat",sub_category:"cheese",image:"üßÄ",brand_tier:"premium",servings_per_unit:8,sodium_level:"high",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["dairy-free","vegan"]},{id:"b1",name:"Karicare Formula Step 1",price:23.5,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"üçº",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[],tags:["baby"]},{id:"b2",name:"Heinz Nurture Formula",price:18,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"üçº",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[],tags:["baby"]},{id:"b3",name:"Wattamol Baby Puree (Fruit)",price:2,unit:"120g Pouch",weight_g:120,protein_g:1,calories:80,category:"baby",image:"ü•£",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["baby","fruit"]},{id:"b4",name:"Watties Baby Food",price:1.9,unit:"120g Pouch",weight_g:120,protein_g:2,calories:80,category:"baby",image:"üë∂",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-pasta-3kg",name:"Value Pasta (Bulk)",price:4.8,unit:"3kg",weight_g:3e3,protein_g:360,calories:10800,category:"carb",sub_category:"pasta",image:"üçù",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"b-rice-10kg",name:"Jasmine Rice (Bulk)",price:18,unit:"10kg",weight_g:1e4,protein_g:700,calories:36e3,category:"carb",sub_category:"rice",image:"üçö",brand_tier:"budget",servings_per_unit:120,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"b-mince-2kg",name:"Beef Mince (Club Pack)",price:22,unit:"2kg",weight_g:2e3,protein_g:360,calories:4400,category:"protein",sub_category:"mince",image:"ü•©",brand_tier:"budget",servings_per_unit:16,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-chicken-2kg",name:"Chicken Breast (Bulk)",price:26,unit:"2kg",weight_g:2e3,protein_g:620,calories:3300,category:"protein",sub_category:"chicken",image:"üçó",brand_tier:"standard",servings_per_unit:12,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"s1",name:"Bluebird Chips (Salted)",price:2.5,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"fat",sub_category:"chips",image:"ü•î",brand_tier:"standard",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s2",name:"Cadbury Dairy Milk",price:4.5,unit:"180g",weight_g:180,protein_g:12,calories:950,category:"fat",sub_category:"chocolate",image:"üç´",brand_tier:"standard",servings_per_unit:8,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["snack","comfort","chocolate"]},{id:"s3",name:"Griffins Gingernuts",price:2.5,unit:"250g",weight_g:250,protein_g:10,calories:1100,category:"fat",sub_category:"biscuit",image:"üç™",brand_tier:"standard",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Egg","Dairy"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"s4",name:"Copper Kettle Chips",price:4,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"fat",sub_category:"chips",image:"ü•î",brand_tier:"premium",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s5",name:"Eta Ripples",price:1.9,unit:"150g",weight_g:150,protein_g:7,calories:780,category:"fat",sub_category:"chips",image:"ü•î",brand_tier:"budget",servings_per_unit:4,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["snack","comfort","chips"]},{id:"s6",name:"Whittakers Creamy Milk",price:5.5,unit:"250g",weight_g:250,protein_g:18,calories:1300,category:"fat",sub_category:"chocolate",image:"üç´",brand_tier:"premium",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["snack","comfort","chocolate"]},{id:"s7",name:"Farmbake Cookies",price:3.5,unit:"350g",weight_g:350,protein_g:15,calories:1600,category:"fat",sub_category:"biscuit",image:"üç™",brand_tier:"standard",servings_per_unit:12,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy","Egg"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"s8",name:"Value Choc Chip Biscuits",price:1.9,unit:"250g",weight_g:250,protein_g:10,calories:1200,category:"fat",sub_category:"biscuit",image:"üç™",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Soy"],preservatives:[],tags:["snack","comfort","biscuit"]},{id:"dr1",name:"Coca Cola 1.5L",price:3.5,unit:"1.5L",weight_g:1500,protein_g:0,calories:600,category:"fat",sub_category:"soft_drink",image:"ü•§",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"dr2",name:"Just Juice (Orange)",price:4,unit:"2.4L",weight_g:2400,protein_g:2,calories:800,category:"fat",sub_category:"juice",image:"üßÉ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"dr3",name:"Value Fizzy (Lemonade)",price:1,unit:"1.5L",weight_g:1500,protein_g:0,calories:600,category:"fat",sub_category:"soft_drink",image:"ü•§",brand_tier:"budget",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[],tags:["drink","sugar"]},{id:"real-mainland-tasty",name:"Mainland Tasty Cheese",price:16.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3900,category:"fat",sub_category:"cheese",image:"üßÄ",brand_tier:"premium",servings_per_unit:25,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[],tags:["comfort","calcium"]},{id:"real-anchor-butter",name:"Anchor Butter (Standard)",price:7.9,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",sub_category:"butter",image:"üßà",brand_tier:"premium",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[],tags:["staple"]},{id:"real-tiptop-white",name:"Tip Top Super Soft White",price:3.5,unit:"Loaf",weight_g:700,protein_g:55,calories:1600,category:"carb",sub_category:"bread",image:"üçû",brand_tier:"standard",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Soy"],preservatives:[],tags:["staple"]},{id:"real-sanitarium-weetbix",name:"Sanitarium Weet-Bix",price:6,unit:"750g",weight_g:750,protein_g:80,calories:2500,category:"carb",sub_category:"cereal",image:"ü•£",brand_tier:"standard",servings_per_unit:20,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten"],preservatives:[],tags:["breakfast","fibre"]},{id:"real-watties-bakedbeans",name:"Watties Baked Beans",price:2.2,unit:"420g",weight_g:420,protein_g:18,calories:350,category:"protein",sub_category:"canned_veg",image:"ü•´",brand_tier:"standard",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[],tags:["staple","pantry"]}],m=o("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function h({recipe:e,isOpen:r,onClose:a,onToggleSelect:i,isSelected:l,familySize:n,preferredStore:o}){let[p,h]=(0,s.useState)("ingredients");if(!r||!e)return null;let x=n.adults+.75*n.children+.25*n.infants,b=x/e.servings,f=e.ingredients.map(e=>{let t=g.find(t=>t.id===e.productId),s=Math.ceil(e.amount*b);return{...e,scaledAmount:s,product:t}}),v=f.reduce((e,t)=>{if(!t.product)return e;let s=t.scaledAmount/t.product.weight_g;return e+t.product.price*s},0),y=(e.prepTime||0)+e.cookTime;return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-emerald-500 to-teal-600 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("span",{className:"text-5xl",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-emerald-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.servings," servings (scaled for ",Math.round(x),")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[y," mins total"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"capitalize",children:e.difficulty})]})]})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(m,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"ingredients",label:"ü•ò Ingredients"},{id:"steps",label:"üë®‚Äçüç≥ Steps"},{id:"info",label:"‚ÑπÔ∏è Info"}].map(e=>(0,t.jsx)("button",{onClick:()=>h(e.id),className:`flex-1 py-3 text-sm font-bold transition-all ${p===e.id?"bg-white text-emerald-600 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["ingredients"===p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-emerald-900",children:"Estimated Cost"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-emerald-700",children:["$",v.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-xs text-emerald-600 mt-1",children:["Based on ",o||"general"," pricing"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:f.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.product?.image||"üì¶"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[e.scaledAmount,e.unit,1!==b&&(0,t.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(scaled from ",e.amount,e.unit,")"]})]})]})]}),e.product&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-700",children:["$",e.product.price.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:e.product.unit})]})]},s))})]}),"steps"===p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold text-amber-900",children:"Prep:"}),(0,t.jsxs)("span",{className:"ml-2 text-amber-700",children:[e.prepTime||0," mins"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold text-amber-900",children:"Cook:"}),(0,t.jsxs)("span",{className:"ml-2 text-amber-700",children:[e.cookTime," mins"]})]})]})}),e.steps.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-emerald-500 text-white font-bold flex items-center justify-center text-sm",children:s+1}),(0,t.jsx)("p",{className:"flex-1 text-slate-700 leading-relaxed pt-1",children:e})]},s))]}),"info"===p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm",children:e},e))})]}),e.notes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Chef's Notes"}),(0,t.jsx)("p",{className:"text-slate-700 bg-slate-50 p-4 rounded-lg italic",children:e.notes})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-2",children:"Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Meal Type:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900 capitalize",children:e.mealType.join(", ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Leftovers:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.hasLeftovers?"Yes":"No"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Difficulty:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900 capitalize",children:e.difficulty})]})]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex gap-3",children:[(0,t.jsx)("button",{onClick:a,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl transition-colors",children:"Close"}),(0,t.jsx)("button",{onClick:()=>{i(e.id),a()},className:`flex-1 py-3 rounded-xl font-bold shadow-lg transition-all ${l?"bg-rose-500 text-white hover:bg-rose-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:l?"Remove from Meals":"Add to Meals"})]})]})})}var x=e.i(56466),b=e.i(66325),f=e.i(86881),v=e.i(23403),y=e.i(7664),j=e.i(99448);let w=[x.default,b.default,f.default,v.default,y.default,j.default],_=()=>{try{let e=localStorage.getItem("smartkete_recipes_local");if(!e)return[];return JSON.parse(e).map(e=>({...e,source:"local"}))}catch(e){return console.error("Error loading localStorage recipes:",e),[]}},N=o("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),k={"Fast Food":["üçï","üçî","üå≠","üåÆ","üåØ","ü•ô","ü•™","üçü","ü•ì","üçó"],"Pasta & Italian":["üçù","üçï","üßÄ","ü•ó","üçÖ","üßÑ","ü´í"],Asian:["üçõ","üçú","üç≤","ü•ü","üç±","üç£","üçô","ü•¢","üçö","ü•†"],Breakfast:["üç≥","ü•û","üßá","ü•ì","ü•ê","ü•Ø","ü•ñ","üçû","ü•£","ü•õ"],"Meat & Protein":["ü•©","üçó","ü•ì","üçñ","üêü","ü¶ê","ü¶û","ü•ö","üç§"],Vegetables:["ü•ó","ü•ô","ü•ë","ü•ï","ü•¶","üåΩ","ü•í","üçÖ","ü•¨","üßÖ"],Desserts:["üç∞","üéÇ","üßÅ","üç™","üç©","üçÆ","üç¶","üç®","üçß","üç´"],Drinks:["‚òï","üçµ","üßÉ","ü•§","üßã","üçπ","üç∫","üç∑","ü•Ç"],Fruits:["üçé","üçä","üçã","üçå","üçâ","üçá","üçì","ü´ê","üçí","üçë"],Other:["üçø","ü•ú","üå∞","üçØ","ü•´","üßÇ","üßà","ü•Ñ","üç¥","ü•ò"]};function S({onSelect:e,onClose:r}){let[a,i]=(0,s.useState)(""),[l,n]=(0,s.useState)(()=>{{let e=localStorage.getItem("smartkete_recent_emojis");return e?JSON.parse(e):[]}}),o=t=>{let s=[t,...l.filter(e=>e!==t)].slice(0,10);n(s),localStorage.setItem("smartkete_recent_emojis",JSON.stringify(s)),e(t),r()},c=Object.entries(k).reduce((e,[t,s])=>{if(a){let r=s.filter(e=>t.toLowerCase().includes(a.toLowerCase()));r.length>0&&(e[t]=r)}else e[t]=s;return e},{});return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[600px] overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Choose an Emoji"}),(0,t.jsx)("button",{onClick:r,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(m,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"p-4 border-b border-slate-200",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"Search categories...",className:"w-full pl-10 pr-4 py-2 border-2 border-slate-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm"})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[l.length>0&&!a&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Recently Used"}),(0,t.jsx)("div",{className:"grid grid-cols-10 gap-2",children:l.map((e,s)=>(0,t.jsx)("button",{onClick:()=>o(e),className:"text-2xl p-2 hover:bg-purple-50 rounded-lg transition-colors",children:e},s))})]}),Object.entries(c).map(([e,s])=>(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:e}),(0,t.jsx)("div",{className:"grid grid-cols-10 gap-2",children:s.map((e,s)=>(0,t.jsx)("button",{onClick:()=>o(e),className:"text-2xl p-2 hover:bg-purple-50 rounded-lg transition-colors",title:e,children:e},s))})]},e)),0===Object.keys(c).length&&(0,t.jsx)("div",{className:"text-center py-10 text-slate-400",children:(0,t.jsx)("p",{children:"No emojis found"})})]})]})})}function C(e){return e.replace(/\s+/g," ").replace(/[|]/g,"I").replace(/\b0(?=[a-z])/gi,"o").replace(/\bl(?=\d)/gi,"1").replace(/\bChapter\s+\w+:.*$/gim,"").replace(/\bPage\s+\d+.*$/gim,"").trim()}let P=o("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),G=o("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),E=o("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),F=o("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),L=o("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),T=o("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),A=o("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var R=e.i(61281);function M({onClose:e,existingRecipe:r,mode:a="create"}){let[i,l]=(0,s.useState)("manual"),[n,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!0),[u,p]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(r?.id||""),[f,v]=(0,s.useState)(r?.name||""),[y,j]=(0,s.useState)(r?.emoji||"üçΩÔ∏è"),[w,N]=(0,s.useState)(r?.servings||4),[k,M]=(0,s.useState)(r?.prepTime||15),[O,I]=(0,s.useState)(r?.cookTime||30),[$,V]=(0,s.useState)(r?.difficulty||"easy"),[B,D]=(0,s.useState)(r?.mealType?.[0]||"dinner"),[z,U]=(0,s.useState)(r?.hasLeftovers??!0),[W,K]=(0,s.useState)(r?.tags?.join(", ")||""),[H,Y]=(0,s.useState)(r?.ingredients?.map(e=>`${e.productId}, ${e.amount}, ${e.unit}, ${e.name}`).join("\n")||""),[J,q]=(0,s.useState)(r?.steps?.join("\n")||""),[Z,Q]=(0,s.useState)(r?.notes||""),[X,ee]=(0,s.useState)(r?.image||""),[et,es]=(0,s.useState)(r?.nutrition?.calories?.toString()||""),[er,ea]=(0,s.useState)(r?.nutrition?.fat?.toString()||""),[ei,el]=(0,s.useState)(r?.nutrition?.protein?.toString()||""),[en,eo]=(0,s.useState)(r?.nutrition?.sodium?.toString()||""),[ec,ed]=(0,s.useState)(r?.nutrition?.fiber?.toString()||""),[eu,ep]=(0,s.useState)(r?.nutrition?.carbs?.toString()||""),[eg,em]=(0,s.useState)(r?.nutrition?.sugar?.toString()||""),[eh,ex]=(0,s.useState)(""),[eb,ef]=(0,s.useState)(""),[ev,ey]=(0,s.useState)(0),[ej,ew]=(0,s.useState)(!1),e_=(0,s.useRef)(null),eN=(0,s.useRef)(null);(0,s.useEffect)(()=>{c&&f&&"create"===a&&b(f.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))},[f,c,a]),(0,s.useEffect)(()=>{if(f&&"create"===a){let e,t=(e=f.toLowerCase()).includes("taco")||e.includes("burrito")?"üåÆ":e.includes("pizza")?"üçï":e.includes("pasta")||e.includes("spaghetti")||e.includes("lasagna")?"üçù":e.includes("burger")?"üçî":e.includes("hot dog")||e.includes("hotdog")?"üå≠":e.includes("sandwich")||e.includes("sub")?"ü•™":e.includes("salad")?"ü•ó":e.includes("curry")?"üçõ":e.includes("ramen")||e.includes("noodle")?"üçú":e.includes("sushi")||e.includes("roll")?"üç£":e.includes("rice bowl")||e.includes("poke")?"üç±":e.includes("soup")||e.includes("stew")?"üç≤":e.includes("chicken")&&!e.includes("curry")?"üçó":e.includes("steak")||e.includes("beef")?"ü•©":e.includes("bacon")?"ü•ì":e.includes("fish")?"üêü":e.includes("shrimp")||e.includes("prawn")?"üç§":e.includes("egg")||e.includes("omelette")||e.includes("breakfast")?"üç≥":e.includes("pancake")||e.includes("waffle")?"ü•û":e.includes("cake")?"üç∞":e.includes("pie")?"ü•ß":e.includes("cookie")?"üç™":e.includes("donut")||e.includes("doughnut")?"üç©":e.includes("ice cream")?"üç¶":e.includes("smoothie")||e.includes("shake")?"ü•§":e.includes("coffee")?"‚òï":e.includes("tea")?"üçµ":e.includes("bread")||e.includes("toast")?"üçû":e.includes("croissant")?"ü•ê":e.includes("bagel")?"ü•Ø":e.includes("pretzel")?"ü•®":e.includes("cheese")?"üßÄ":e.includes("potato")||e.includes("fries")?"üçü":e.includes("avocado")||e.includes("guac")?"ü•ë":e.includes("broccoli")?"ü•¶":e.includes("carrot")?"ü•ï":e.includes("corn")?"üåΩ":e.includes("tomato")?"üçÖ":e.includes("eggplant")?"üçÜ":e.includes("mushroom")?"üçÑ":e.includes("peanut")||e.includes("cashew")?"ü•ú":"üçΩÔ∏è";"üçΩÔ∏è"!==t?h(t):h(null)}},[f,a]);let ek=async e=>{let t=e.target.files?.[0];if(!t)return;let s=new FileReader;s.onload=async e=>{let t=e.target?.result;ex(t),ew(!0),ey(0),ef("");try{let e=await R.default.recognize(t,"eng",{logger:e=>{"recognizing text"===e.status&&ey(Math.round(100*e.progress))}});ef(e.data.text),ew(!1)}catch(e){console.error("OCR Error:",e),ef("Error processing image. Please try again."),ew(!1)}},s.readAsDataURL(t)},eS=()=>{let e={id:x||"new-recipe",name:f||"New Recipe",emoji:y||"üçΩÔ∏è",servings:w,prepTime:k,cookTime:O,difficulty:$,tags:W.split(",").map(e=>e.trim()).filter(e=>e),hasLeftovers:z,mealType:[B],ingredients:[],steps:[],notes:Z||void 0,image:X||void 0};return H.split("\n").filter(e=>e.trim()).forEach(t=>{let s=t.split(",").map(e=>e.trim());s.length>=4&&e.ingredients.push({productId:s[0],amount:parseFloat(s[1])||0,unit:s[2],name:s.slice(3).join(", ")})}),e.steps=J.split("\n").filter(e=>e.trim()),(et||er||ei||en||ec||eu||eg)&&(e.nutrition={calories:et?parseInt(et):void 0,fat:er?parseFloat(er):void 0,protein:ei?parseFloat(ei):void 0,sodium:en?parseInt(en):void 0,fiber:ec?parseFloat(ec):void 0,carbs:eu?parseFloat(eu):void 0,sugar:eg?parseFloat(eg):void 0}),e};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 p-6 text-white",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"edit"===a?"‚úèÔ∏è Edit Recipe":"üçΩÔ∏è Recipe Creator"}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"edit"===a?"Update your recipe":"Create recipes from manual entry or photos"})]}),(0,t.jsx)("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(m,{className:"w-6 h-6"})})]})}),(0,t.jsx)("div",{className:"flex gap-2 bg-slate-50 px-6 pt-4 border-b border-slate-200",children:[{id:"manual",label:"‚úçÔ∏è Manual Entry"},{id:"ocr",label:"üì∏ Photo OCR"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`px-6 py-3 font-bold text-sm rounded-t-lg transition-all ${i===e.id?"bg-white text-emerald-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["manual"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[X?(0,t.jsx)("img",{src:X,alt:"Recipe",className:"w-24 h-24 object-cover rounded-lg"}):(0,t.jsx)("div",{className:"w-24 h-24 bg-emerald-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(P,{className:"w-8 h-8 text-emerald-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 mb-1",children:"Recipe Photo (Optional)"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Upload a cover image for your recipe"}),(0,t.jsx)("input",{ref:e_,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let s=new FileReader;s.onload=e=>{ee(e.target?.result)},s.readAsDataURL(t)},className:"hidden"}),(0,t.jsx)("button",{onClick:()=>e_.current?.click(),className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all text-sm",children:"Choose Image"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Recipe Name *"}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),placeholder:"Beef Tacos",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-900",children:"Recipe ID *"}),(0,t.jsxs)("button",{onClick:()=>d(!c),className:`text-xs px-2 py-1 rounded ${c?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:[(0,t.jsx)(L,{className:"w-3 h-3 inline mr-1"}),c?"Auto":"Manual"]})]}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>{b(e.target.value),d(!1)},placeholder:"beef-tacos",disabled:c&&"create"===a,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-500"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:c&&"create"===a?"Auto-generated from name":"Lowercase, use hyphens"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Emoji"}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"üåÆ",maxLength:2,className:"w-20 px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-center text-2xl text-slate-900"}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-purple-100 hover:bg-purple-200 text-purple-600 rounded-lg transition-all",title:"Choose emoji",children:(0,t.jsx)(F,{className:"w-5 h-5"})}),g&&y!==g&&(0,t.jsxs)("button",{onClick:()=>j(g),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg transition-all text-sm font-bold flex items-center gap-1",children:[(0,t.jsx)(E,{className:"w-4 h-4"}),"Use ",g]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Servings"}),(0,t.jsx)("input",{type:"number",value:w,onChange:e=>N(parseInt(e.target.value)),min:"1",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Prep (min)"}),(0,t.jsx)("input",{type:"number",value:k,onChange:e=>M(parseInt(e.target.value)),min:"0",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Cook (min)"}),(0,t.jsx)("input",{type:"number",value:O,onChange:e=>I(parseInt(e.target.value)),min:"0",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Difficulty"}),(0,t.jsxs)("select",{value:$,onChange:e=>V(e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"easy",children:"Easy"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Meal Type"}),(0,t.jsxs)("select",{value:B,onChange:e=>D(e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"breakfast",children:"Breakfast"}),(0,t.jsx)("option",{value:"lunch",children:"Lunch"}),(0,t.jsx)("option",{value:"dinner",children:"Dinner"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Leftovers?"}),(0,t.jsxs)("select",{value:z.toString(),onChange:e=>U("true"===e.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900",children:[(0,t.jsx)("option",{value:"true",children:"Yes"}),(0,t.jsx)("option",{value:"false",children:"No"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Tags (comma separated)"}),(0,t.jsx)("input",{type:"text",value:W,onChange:e=>K(e.target.value),placeholder:"mexican, family-friendly, quick",className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>p(!u),className:"w-full px-4 py-3 bg-slate-50 hover:bg-slate-100 flex items-center justify-between transition-colors",children:[(0,t.jsxs)("span",{className:"font-bold text-slate-900 flex items-center gap-2",children:["üìä Nutrition Info (Optional)",(0,t.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"Per serving"})]}),u?(0,t.jsx)(A,{className:"w-5 h-5 text-slate-500"}):(0,t.jsx)(T,{className:"w-5 h-5 text-slate-500"})]}),u&&(0,t.jsxs)("div",{className:"p-4 grid grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Calories"}),(0,t.jsx)("input",{type:"number",value:et,onChange:e=>es(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Fat (g)"}),(0,t.jsx)("input",{type:"number",value:er,onChange:e=>ea(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Protein (g)"}),(0,t.jsx)("input",{type:"number",value:ei,onChange:e=>el(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Carbs (g)"}),(0,t.jsx)("input",{type:"number",value:eu,onChange:e=>ep(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Sodium (mg)"}),(0,t.jsx)("input",{type:"number",value:en,onChange:e=>eo(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Fiber (g)"}),(0,t.jsx)("input",{type:"number",value:ec,onChange:e=>ed(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Sugar (g)"}),(0,t.jsx)("input",{type:"number",value:eg,onChange:e=>em(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-emerald-500 focus:outline-none"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Ingredients *"}),(0,t.jsx)("textarea",{value:H,onChange:e=>Y(e.target.value),placeholder:"p1, 500, g, Beef Mince int-taco-kit, 1, pack, Taco Kit d2, 100, g, Cheese",rows:6,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none font-mono text-sm text-slate-900 placeholder:text-slate-400"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Format: productId, amount, unit, name (one per line)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Steps *"}),(0,t.jsx)("textarea",{value:J,onChange:e=>q(e.target.value),placeholder:"Brown the mince in a pan Add taco seasoning and simmer Warm taco shells in oven",rows:6,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"One step per line"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:Z,onChange:e=>Q(e.target.value),placeholder:"Chef's tips, substitutions, or fun facts...",rows:3,className:"w-full px-4 py-2 border-2 border-slate-200 rounded-lg focus:border-emerald-500 focus:outline-none text-slate-900 placeholder:text-slate-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{var t=eS();try{let e=[..._().filter(e=>e.id!==t.id),{...t,source:"local"}];localStorage.setItem("smartkete_recipes_local",JSON.stringify(e))}catch(e){console.error("Error saving recipe to localStorage:",e)}e(),window.location.reload()},className:"py-4 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(E,{className:"w-5 h-5"}),"üíæ Save & Test"]}),(0,t.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(eS(),null,4)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`${x||"new-recipe"}.json`,s.click(),URL.revokeObjectURL(t)},className:"py-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2",children:"üì• Download Recipe"})]}),(0,t.jsxs)("p",{className:"text-xs text-center text-slate-500",children:["üí° ",(0,t.jsx)("strong",{children:"Save & Test"})," for instant preview ‚Ä¢ ",(0,t.jsx)("strong",{children:"Download Recipe"})," to keep permanently"]})]}),"ocr"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-purple-50 border-2 border-dashed border-purple-200 rounded-xl p-8 text-center",children:[(0,t.jsx)(G,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Upload Recipe Photo"}),(0,t.jsx)("p",{className:"text-slate-600 mb-6",children:"Take a photo of your recipe card or cookbook page"}),(0,t.jsx)("input",{ref:eN,type:"file",accept:"image/*",onChange:ek,className:"hidden"}),(0,t.jsx)("button",{onClick:()=>eN.current?.click(),className:"px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg transition-all",children:"üì∑ Choose Image"})]}),eh&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Preview"}),(0,t.jsx)("img",{src:eh,alt:"OCR Preview",className:"w-full rounded-lg border-2 border-slate-200"})]}),ej&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-slate-600 mb-2",children:["Processing image... ",ev,"%"]}),(0,t.jsx)("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${ev}%`}})})]}),eb&&!ej&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-900",children:"Extracted Text"}),(0,t.jsxs)("button",{onClick:()=>{let e,t;if(!eb)return;let s=((t={name:function(e){let t=C(e),s=t.split("\n").map(e=>e.trim()).filter(e=>e);if(0===s.length)return;let r=t.match(/^(.+?)(?=\s*(?:SERVES?|PREP|COOK|INGREDIENTS?|YIELD))/im);if(r){let e=r[1].trim();if(e.length>3&&e.length<100)return e}let a=s[0];if(a.length<50&&!/\d/.test(a))return a;for(let e of s.slice(0,5))if(e.length<50&&e===e.toUpperCase()&&!/\d/.test(e))return e;return a}(e=C(eb)),...function(e){let t={},s=C(e);for(let e of[/PREP\s*:?\s*(\d+)\s*(?:MIN|MINUTE|MINS)/i,/prep(?:aration)?\s*(?:time)?\\s*:?\\s*(\\d+)\\s*(?:min|minute|mins)/i,/(\\d+)\\s*(?:min|minute|mins)s?\\s*prep/i]){let r=s.match(e);if(r){t.prep=parseInt(r[1]);break}}for(let e of[/COOK\s*:?\s*(\d+)\s*(?:MIN|MINUTE|MINS)/i,/cook(?:ing)?\s*(?:time)?\s*:?\s*(\d+)\s*(?:min|minute|mins)/i,/(\d+)\s*(?:min|minute|mins)s?\s*cook/i]){let r=s.match(e);if(r){t.cook=parseInt(r[1]);break}}return t}(e),servings:function(e){let t=C(e);for(let e of[/SERVES?\s*:?\s*(\d+)/i,/(\d+)\s*servings?/i,/makes?\s*:?\s*(\d+)\s*servings?/i,/yield\s*:?\s*(\d+)/i,/for\s+(one|two|three|four|five|six|1|2|3|4|5|6)/i]){let s=t.match(e);if(s)return({one:1,two:2,three:3,four:4,five:5,six:6})[s[1].toLowerCase()]||parseInt(s[1])}}(e),ingredients:function(e){let t=C(e).split("\n").map(e=>e.trim()).filter(e=>e),s=[],r=!1,a=!1,i=/\b(cup|cups|c\.|tbsp|tablespoon|tsp|teaspoon|oz|ounce|lb|pound|g|gram|kg|ml|l|liter|can|pack|whole|clove|slice|bunch|pinch|dash)s?\b/i,l=/^\s*[\d\/\-\.\u00BC-\u00BE]+\s+/;for(let e of t)if(!(e.length<3)){if(/^INGREDIENTS?$/i.test(e)){r=!0,a=!0;continue}if(/^(INSTRUCTIONS?|DIRECTIONS?|STEPS?|METHOD)$/i.test(e)&&(r=!1,s.length>0))break;(r||!a)&&(l.test(e)||i.test(e))&&!e.match(/^(Chapter|Page|\d+\.|Step)/i)&&s.push(e)}return s}(e),steps:function(e){let t=C(e).split("\n").map(e=>e.trim()).filter(e=>e),s=[],r=!1,a=!1,i=/^[\u2460-\u2473\u24EA\u2776-\u277F]?\s*\d+[\.\)]\s+(.+)/,l=/\b(heat|cook|add|mix|stir|bake|boil|simmer|season|serve|place|combine|blend|whisk|pour|saut√©|fry|grill|roast|chop|dice|slice|preheat|reduce|bring|remove|transfer|garnish|enjoy)/i;for(let e of t){if(/^(INSTRUCTIONS?|DIRECTIONS?|STEPS?|METHOD|TO MAKE)$/i.test(e)){r=!0,a=!0;continue}if(/^(PER SERVING|NUTRITION|NOTES?|TIPS?)$/i.test(e)&&s.length>0)break;let t=e.match(i);if(t){s.push(t[1]);continue}(r||!a)&&e.length>20&&l.test(e)&&!/^\d+\s+(cup|tbsp|tsp|g|ml)/i.test(e)&&s.push(e)}return s}(e),nutrition:function(e){let t=C(e),s={};for(let[e,r]of Object.entries({calories:/Calorie?s?\s*:?\s*(\d+)/i,fat:/(?:Total\s*)?Fat\s*:?\s*(\d+)g?/i,protein:/Protein\s*:?\s*(\d+)g?/i,sodium:/Sodium\s*:?\s*(\d+)(?:mg)?/i,fiber:/(?:Dietary\s*)?Fiber\s*:?\s*(\d+)g?/i,carbs:/(?:Total\s*)?Carb(?:ohydrate)?s?\s*:?\s*(\d+)g?/i,sugar:/Sugar\s*:?\s*(\d+)g?/i})){let a=t.match(r);a&&(s[e]=parseInt(a[1]))}return Object.keys(s).length>0?s:void 0}(e)}).ingredients&&0===t.ingredients.length&&delete t.ingredients,t.steps&&0===t.steps.length&&delete t.steps,t);s.name&&v(s.name),s.prepTime&&M(s.prepTime),s.cookTime&&I(s.cookTime),s.servings&&N(s.servings),s.ingredients&&s.ingredients.length>0&&Y(s.ingredients.join("\n")),s.steps&&s.steps.length>0&&q(s.steps.join("\n")),s.nutrition&&(s.nutrition.calories&&es(s.nutrition.calories.toString()),s.nutrition.fat&&ea(s.nutrition.fat.toString()),s.nutrition.protein&&el(s.nutrition.protein.toString()),s.nutrition.sodium&&eo(s.nutrition.sodium.toString()),s.nutrition.fiber&&ed(s.nutrition.fiber.toString()),s.nutrition.carbs&&ep(s.nutrition.carbs.toString()),s.nutrition.sugar&&em(s.nutrition.sugar.toString()),p(!0)),l("manual")},className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(E,{className:"w-4 h-4"}),"‚ú® Auto-Fill Form"]})]}),(0,t.jsx)("div",{className:"bg-white border-2 border-slate-300 rounded-lg p-4 font-mono text-sm whitespace-pre-wrap max-h-96 overflow-y-auto text-slate-900",children:eb}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-3",children:[(0,t.jsx)("strong",{children:"Tip:"}),' Click "Auto-Fill Form" to automatically populate the Manual Entry tab with extracted information.']})]})]})]})]}),n&&(0,t.jsx)(S,{onSelect:e=>j(e),onClose:()=>o(!1)})]})}function O({recipes:e,selectedMealIds:s,onRemoveMeal:r,onViewRecipe:a}){let i=e.filter(e=>s.includes(e.id));return 0===i.length?(0,t.jsxs)("div",{className:"text-center py-10 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:[(0,t.jsx)("p",{className:"text-lg font-bold text-slate-400 mb-1",children:"No meals selected yet"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Browse recipes above and add some to your plan!"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("h3",{className:"font-bold text-slate-900",children:["Your Meals (",i.length,")"]}),(0,t.jsx)("button",{onClick:()=>s.forEach(e=>r(e)),className:"text-xs text-rose-500 hover:text-rose-700 font-bold",children:"Clear All"})]}),i.map(e=>{let s=(e.prepTime||0)+e.cookTime;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-emerald-50 border border-emerald-200 rounded-lg hover:shadow-md transition-all cursor-pointer",onClick:()=>a(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-slate-900 text-sm",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-3 text-xs text-slate-500 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.servings})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[s,"m"]})]}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 rounded-full capitalize",children:e.difficulty})]})]})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"p-2 hover:bg-rose-100 rounded-full transition-colors text-rose-500",children:(0,t.jsx)(m,{className:"w-4 h-4"})})]},e.id)})]})}let I=o("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),$=o("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),V=o("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),B=o("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),D=o("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function z({recipes:e,shoppingList:r,totalCost:a,familySize:i}){let[l,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),p=()=>{let t=[`üõí SmartKete Shopping List`];return t.push(`Total: $${a.toFixed(2)}`),t.push(`For: ${i.adults} adult${1!==i.adults?"s":""}${i.children>0?`, ${i.children} child${1!==i.children?"ren":""}`:""}${i.infants>0?`, ${i.infants} infant${1!==i.infants?"s":""}`:""}`),t.push(""),t.push("üìã INGREDIENTS:"),t.push("‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"),r.forEach(e=>{t.push(`‚òê ${e.name} - ${e.totalAmount}${e.unit}`),t.push(`  (for: ${e.recipes.join(", ")})`)}),t.push(""),t.push("üçΩÔ∏è MEALS:"),t.push("‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"),e.forEach(e=>{t.push(`‚Ä¢ ${e.emoji} ${e.name}`)}),t.join("\n")},g=()=>{let t=[`üçΩÔ∏è SmartKete Recipes
`];return e.forEach((e,s)=>{t.push(`${s+1}. ${e.emoji} ${e.name.toUpperCase()}`),t.push(`   Servings: ${e.servings} | Prep: ${e.prepTime}m | Cook: ${e.cookTime}m`),t.push(""),t.push("   INGREDIENTS:"),e.ingredients.forEach(e=>{t.push(`   ‚Ä¢ ${e.amount}${e.unit} ${e.name}`)}),t.push(""),t.push("   STEPS:"),e.steps.forEach((e,s)=>{t.push(`   ${s+1}. ${e}`)}),e.notes&&(t.push(""),t.push(`   üí° ${e.notes}`)),t.push("\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n")}),t.join("\n")},h=e=>{let t=encodeURIComponent("shopping"===e?p():g());window.open(`https://wa.me/?text=${t}`,"_blank"),c(!1),u(!1)},x=e=>{let t="shopping"===e?p():g();navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3),window.open("https://www.messenger.com/","_blank"),c(!1),u(!1)},b=e=>{let t=encodeURIComponent("shopping"===e?p():g());window.location.href=`mailto:?subject=${encodeURIComponent("shopping"===e?"Shopping List from SmartKete":"Recipes from SmartKete")}&body=${t}`,c(!1),u(!1)},f=async e=>{let t="shopping"===e?p():g();if(navigator.share)try{await navigator.share({title:`SmartKete ${"shopping"===e?"Shopping List":"Recipes"}`,text:t})}catch(e){console.log("Share cancelled or failed")}else navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3);c(!1),u(!1)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-3 py-4 px-6 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg transition-all",children:[(0,t.jsx)(D,{className:"w-5 h-5"}),"Share Shopping List"]}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-3 py-4 px-6 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-xl shadow-lg transition-all",children:[(0,t.jsx)(D,{className:"w-5 h-5"}),"Share Recipes"]})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-emerald-500 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Share Shopping List"}),(0,t.jsx)("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(m,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Choose how to share"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>h("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(I,{className:"w-5 h-5"}),"WhatsApp"]}),(0,t.jsxs)("button",{onClick:()=>x("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)($,{className:"w-5 h-5"}),"Messenger"]}),(0,t.jsxs)("button",{onClick:()=>b("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-slate-500 hover:bg-slate-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(V,{className:"w-5 h-5"}),"Email"]}),(0,t.jsxs)("button",{onClick:()=>f("shopping"),className:"w-full flex items-center gap-3 py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(D,{className:"w-5 h-5"}),"More Options..."]})]})]})}),d&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-purple-500 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Share Recipes"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(m,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Choose how to share"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>h("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(I,{className:"w-5 h-5"}),"WhatsApp"]}),(0,t.jsxs)("button",{onClick:()=>x("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)($,{className:"w-5 h-5"}),"Messenger"]}),(0,t.jsxs)("button",{onClick:()=>b("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-slate-500 hover:bg-slate-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(V,{className:"w-5 h-5"}),"Email"]}),(0,t.jsxs)("button",{onClick:()=>f("recipes"),className:"w-full flex items-center gap-3 py-3 px-4 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg transition-all shadow-sm",children:[(0,t.jsx)(D,{className:"w-5 h-5"}),"More Options..."]})]})]})}),l&&(0,t.jsxs)("div",{className:"fixed bottom-4 right-4 bg-emerald-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in z-50",children:[(0,t.jsx)(B,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-bold",children:"Copied to clipboard!"})]})]})}let U=o("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function W(){let[e,r]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{localStorage.getItem("smartkete_legal_accepted")||r(!0)},[]),e)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-end md:items-center justify-center p-4 z-[9999] animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-slide-up",children:[(0,t.jsxs)("div",{className:"bg-amber-50 p-6 border-b border-amber-100 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-amber-100 p-2 rounded-full",children:(0,t.jsx)(U,{className:"w-6 h-6 text-amber-600"})}),(0,t.jsx)("h2",{className:"font-bold text-slate-800 text-lg",children:"Heads Up, Legend!"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4 text-sm text-slate-600 leading-relaxed",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"SmartKete is a tool, not a professional."})}),(0,t.jsxs)("p",{children:['The prices, nutritional info, and "Smart Choices" shown here are ',(0,t.jsx)("strong",{children:"estimates only"}),". We do our best to be accurate, but supermarket prices change faster than the weather in Wellington."]}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-slate-500 text-xs bg-slate-50 p-3 rounded-xl",children:[(0,t.jsxs)("li",{children:["We are ",(0,t.jsx)("strong",{children:"not"})," financial advisors."]}),(0,t.jsxs)("li",{children:["We are ",(0,t.jsx)("strong",{children:"not"})," medical professionals or dietitians."]}),(0,t.jsx)("li",{children:"Always check labels for allergens if you have severe sensitivities, even if you used our filters."})]}),(0,t.jsx)("p",{children:"By using this app, you agree that we (the developers) aren't liable if your shop costs $5 more than expected or if you burn your toast. üçû"})]}),(0,t.jsx)("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:(0,t.jsx)("button",{onClick:()=>{localStorage.setItem("smartkete_legal_accepted","true"),r(!1)},className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-2xl shadow-lg shadow-emerald-200 transition-all transform hover:scale-[1.02]",children:"Sweet as, I understand"})})]})}):null}function K(){let e,a,i,[l,n]=(0,s.useState)(2),[o,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(0),[m,x]=(0,s.useState)("Any"),[b,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)([]),[C,P]=(0,s.useState)(!1),[G,E]=(0,s.useState)([]),[F,L]=(0,s.useState)([]),[T,A]=(0,s.useState)("setup"),[R,I]=(0,s.useState)(null),[$,V]=(0,s.useState)(!1),[B,D]=(0,s.useState)(!1),[U,K]=(0,s.useState)(void 0),[H,Y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let e,t,s;L(await (e=w.map(e=>({...e,source:"file"})),t=_(),s=new Set(e.map(e=>e.id)),[...e,...t.filter(e=>!s.has(e.id))]))})()},[]),(0,s.useEffect)(()=>{Y(!0);let e=localStorage.getItem("smartkete_prefs_v5");if(e)try{let t=JSON.parse(e);n(t.adults||2),c(t.children||0),u(t.infants||0),x(t.preferredStore||"Any"),f(t.isVegetarian||!1),y(t.isGlutenFree||!1),N(t.isPreservativeFree||!1),S(t.excludedAllergens||[]),P(t.hasPantryStaples||!1),E(t.selectedMealIds||[])}catch(e){console.error("Failed to load prefs",e)}},[]),(0,s.useEffect)(()=>{H&&localStorage.setItem("smartkete_prefs_v5",JSON.stringify({adults:l,children:o,infants:d,preferredStore:m,isVegetarian:b,isGlutenFree:v,isPreservativeFree:j,excludedAllergens:k,hasPantryStaples:C,selectedMealIds:G}))},[l,o,d,m,b,v,j,k,C,G,H]);let J=e=>{E(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},q=e=>{I(e),V(!0)},Z=(e=F.filter(e=>G.includes(e.id)),a=l+.75*o+.25*d,i=new Map,e.forEach(e=>{let t=a/e.servings;e.ingredients.forEach(s=>{let r=s.productId,a=g.find(e=>e.id===s.productId),l=Math.ceil(s.amount*t);if(i.has(r)){let t=i.get(r);t.totalAmount+=l,t.recipes.push(e.name)}else i.set(r,{product:a,totalAmount:l,unit:s.unit,name:s.name,recipes:[e.name]})})}),Array.from(i.values())),Q=Z.reduce((e,t)=>{if(!t.product)return e;let s=Math.ceil(t.totalAmount/t.product.weight_g);return e+t.product.price*s},0);return H?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[(0,t.jsx)(W,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("h1",{className:"text-4xl sm:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600 mb-2",children:"SmartKete"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"Your Family Recipe & Shopping Planner"})]}),(0,t.jsx)("div",{className:"flex gap-2 bg-white rounded-xl p-2 shadow-sm",children:[{id:"setup",label:"1. Setup",icon:"üë•"},{id:"meals",label:"2. Meals",icon:"üçΩÔ∏è"},{id:"shop",label:"3. Shop",icon:"üõí"}].map(e=>(0,t.jsxs)("button",{onClick:()=>A(e.id),className:`flex-1 py-3 px-4 rounded-lg font-bold text-sm transition-all ${T===e.id?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:["setup"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(r,{adults:l,children:o,infants:d,durationDays:7,mealsPerDay:3,budget:150,preferredStore:m,isVegetarian:b,isGlutenFree:v,isPreservativeFree:j,excludedAllergens:k,hasPantryStaples:C,safetyBuffer:5,includeSnacks:!1,mealPlan:{},onUpdate:(e,t)=>{"adults"===e&&n(t),"children"===e&&c(t),"infants"===e&&u(t),"preferredStore"===e&&x(t),"isVegetarian"===e&&f(t),"isGlutenFree"===e&&y(t),"isPreservativeFree"===e&&N(t),"excludedAllergens"===e&&S(t),"hasPantryStaples"===e&&P(t)}}),(0,t.jsx)("button",{onClick:()=>A("meals"),className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg transition-all",children:"Next: Choose Meals ‚Üí"})]}),"meals"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Browse Recipes"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Select meals for your family. We'll generate a shopping list from your choices."})]}),(0,t.jsxs)("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg shadow-md transition-all flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"‚ûï"}),"Add Recipe"]})]}),(0,t.jsx)(O,{recipes:F,selectedMealIds:G,onRemoveMeal:J,onViewRecipe:q}),(0,t.jsx)(p,{recipes:F,selectedMealIds:G,onSelectMeal:J,onViewRecipe:q,onEditRecipe:e=>{K(e),D(!0)}}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>A("setup"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition-all",children:"‚Üê Back"}),(0,t.jsx)("button",{onClick:()=>A("shop"),disabled:0===G.length,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate Shopping List ‚Üí"})]})]}),"shop"===T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Your Shopping List"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Based on ",G.length," selected meal",1!==G.length?"s":""]})]}),Z.length>0?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-200 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-bold text-emerald-900",children:"Estimated Total"}),(0,t.jsxs)("span",{className:"text-3xl font-black text-emerald-700",children:["$",Q.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-xs text-emerald-600 mt-1",children:["For ",l," adult",1!==l?"s":"",o>0&&`, ${o} child${1!==o?"ren":""}`,d>0&&`, ${d} infant${1!==d?"s":""}`]})]}),(0,t.jsx)("div",{className:"space-y-3",children:Z.map((e,s)=>{let r=e.product?Math.ceil(e.totalAmount/e.product.weight_g):0,a=e.product?e.product.price*r:0;return(0,t.jsxs)("div",{className:"flex justify-between items-start p-4 bg-slate-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.product?.image||"üì¶"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Need ",e.totalAmount,e.unit,e.product&&r>1&&(0,t.jsxs)("span",{className:"text-emerald-600 ml-1",children:["(buy ",r,"√ó ",e.product.unit,")"]})]}),(0,t.jsxs)("div",{className:"text-xs text-emerald-600 mt-1",children:["For: ",e.recipes.join(", ")]})]})]}),e.product&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-900",children:["$",a.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["$",e.product.price.toFixed(2)," each"]})]})]},s)})}),(0,t.jsx)(z,{recipes:F.filter(e=>G.includes(e.id)),shoppingList:Z,totalCost:Q,familySize:{adults:l,children:o,infants:d}})]}):(0,t.jsxs)("div",{className:"text-center py-10 text-slate-400",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"No meals selected"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Go back and choose some recipes!"})]}),(0,t.jsx)("button",{onClick:()=>A("meals"),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition-all",children:"‚Üê Back to Meals"})]})]})]}),(0,t.jsx)(h,{recipe:R,isOpen:$,onClose:()=>V(!1),onToggleSelect:J,isSelected:!!R&&G.includes(R.id),familySize:{adults:l,children:o,infants:d},preferredStore:m}),B&&(0,t.jsx)(M,{onClose:()=>{D(!1),K(void 0)},existingRecipe:U,mode:U?"edit":"create"})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-400",children:"Loading..."})})}e.s(["default",()=>K],31713)}]);