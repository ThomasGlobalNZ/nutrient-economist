(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a({onCalculate:e,initialBudget:a,initialAdults:r,initialInfants:i}){let[n,l]=s.default.useState(120),[o,d]=s.default.useState(2),[c,g]=s.default.useState(0);return(0,s.useEffect)(()=>{void 0!==a&&a>0&&l(a),void 0!==r&&r>0&&d(r),void 0!==i&&i>=0&&g(i)},[a,r,i]),(0,s.useEffect)(()=>{e(n,o,c)},[n,o,c,e]),(0,t.jsxs)("div",{className:"w-full bg-white p-6 rounded-2xl shadow-sm border border-slate-100 mb-6 font-sans",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-8",children:[(0,t.jsx)("label",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:"What's the damage? (Weekly Budget)"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:["$",n]}),(0,t.jsx)("div",{className:"flex flex-col items-end",children:(0,t.jsx)("span",{className:"text-sm font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-md",children:"Sweet as"})})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("input",{type:"range",min:"20",max:"400",step:"5",value:n,onChange:e=>l(Number(e.target.value)),className:"w-full h-4 bg-slate-100 rounded-full appearance-none cursor-pointer accent-emerald-500 hover:accent-emerald-400 transition-all"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[(0,t.jsx)("span",{children:"Tight"}),(0,t.jsx)("span",{children:"Baller"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"The WhÄnau (Adults/Kids)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>d(Math.max(1,o-1)),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center hover:bg-slate-200",children:"-"}),(0,t.jsx)("span",{className:"text-xl font-bold text-slate-800 w-4 text-center",children:o}),(0,t.jsx)("button",{onClick:()=>d(o+1),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center hover:bg-slate-200",children:"+"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Wee Ones (Formula)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>g(Math.max(0,c-1)),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center hover:bg-slate-200",children:"-"}),(0,t.jsx)("span",{className:"text-xl font-bold text-slate-800 w-4 text-center",children:c}),(0,t.jsx)("button",{onClick:()=>g(c+1),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center hover:bg-slate-200",children:"+"})]})]})]})]})}function r({isOpen:e,onClose:s,recipes:a}){return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 p-6 text-white text-center relative shrink-0",children:[(0,t.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-white/80 hover:text-white",children:"âœ•"}),(0,t.jsx)("div",{className:"text-4xl mb-2",children:"ðŸ§‘â€ðŸ³"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"AI Chef"}),(0,t.jsx)("p",{className:"text-indigo-100 text-sm",children:"Here are 3 meals based on your cart"})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto space-y-6",children:[a.map((e,s)=>(0,t.jsxs)("div",{className:"border border-slate-100 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow bg-slate-50",children:[(0,t.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,t.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:e.title})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${"Baby Friendly"===e?"bg-pink-100 text-pink-700":"Quick"===e?"bg-blue-100 text-blue-700":"Healthy"===e?"bg-green-100 text-green-700":"Batch Cook"===e?"bg-sky-100 text-sky-700":"bg-slate-200 text-slate-600"}`,children:e},s))}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsxs)("span",{className:"text-xs font-semibold bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full flex items-center gap-1",children:["ðŸ”ª Prep: ",e.prepTime]}),(0,t.jsxs)("span",{className:"text-xs font-semibold bg-orange-100 text-orange-700 px-2 py-1 rounded-full flex items-center gap-1",children:["ðŸ”¥ Cook: ",e.cookTime]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Used Ingredients"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.ingredients.map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-white border border-slate-200 px-1.5 py-0.5 rounded text-slate-600",children:e},s))})]}),e.batchPrepTip&&(0,t.jsxs)("div",{className:"mb-3 bg-sky-50 p-2.5 rounded-lg border border-sky-100 flex gap-2 items-start",children:[(0,t.jsx)("span",{className:"text-lg mt-0.5",children:"ðŸ“¦"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-sky-800 uppercase",children:"Meal Prep Hack"}),(0,t.jsx)("p",{className:"text-xs text-sky-700 leading-snug",children:e.batchPrepTip})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-slate-100",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Instructions"}),(0,t.jsx)("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((e,s)=>(0,t.jsx)("li",{className:`text-sm text-slate-600 leading-relaxed pl-1 ${e.includes("BABY PREP")?"font-bold text-pink-600 bg-pink-50 p-2 rounded -mx-2 mt-2":""}`,children:e},s))})]}),e.chefTreat&&(0,t.jsxs)("div",{className:"mt-3 bg-indigo-50 p-3 rounded-lg border border-indigo-100 flex gap-2 items-center",children:[(0,t.jsx)("span",{className:"text-lg",children:"ðŸ·"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-indigo-800 uppercase",children:"Chef's Treat"}),(0,t.jsx)("p",{className:"text-xs text-indigo-600 font-medium italic",children:e.chefTreat})]})]})]},e.id)),0===a.length&&(0,t.jsx)("div",{className:"text-center text-slate-400 py-10",children:"Add more ingredients (Protein + Carb) to unlock recipes!"})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-100 shrink-0",children:(0,t.jsx)("button",{onClick:s,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-3 rounded-xl transition-colors",children:"Close"})})]})}):null}function i({isOpen:e,onClose:a,product:r}){let[i,n]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1);return e&&r?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-amber-500 p-4 text-white flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-bold text-lg flex items-center gap-2",children:"ðŸš© Report Price"}),(0,t.jsx)("button",{onClick:a,className:"text-white/80 hover:text-white",children:"âœ•"})]}),g?(0,t.jsxs)("div",{className:"p-8 text-center animate-fade-in",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"âœ…"}),(0,t.jsx)("h4",{className:"font-bold text-slate-800 mb-1",children:"Legend! Thanks."}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"We'll have a squiz and fix it up."})]}):(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!0),setTimeout(()=>{c(!1),p(!0),setTimeout(()=>{p(!1),n(""),o(""),a()},2e3)},1e3)},className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:r.image}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Report Issue For"}),(0,t.jsx)("div",{className:"font-semibold text-slate-800",children:r.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Current: $",r.price.toFixed(2)]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1 uppercase",children:"What is the correct price?"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full pl-7 pr-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent font-bold text-lg text-slate-800",placeholder:"0.00",required:!0,value:i,onChange:e=>n(e.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1 uppercase",children:"Which Store? (Optional)"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-amber-500",value:l,onChange:e=>o(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Same as listed"}),(0,t.jsx)("option",{value:"paknsave",children:"Pak'nSave"}),(0,t.jsx)("option",{value:"woolworths",children:"Woolworths"}),(0,t.jsx)("option",{value:"newworld",children:"New World"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 active:scale-95 transition-all flex justify-center items-center gap-2",children:d?"Sending...":"Submit Report"})]})]})}):null}function n({cart:e}){let[a,n]=(0,s.useState)(!1),[l,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(!1),[g,p]=(0,s.useState)(null);return(0,t.jsxs)("div",{className:"w-full bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden font-sans",children:[(0,t.jsx)(r,{isOpen:a,onClose:()=>n(!1),recipes:l}),(0,t.jsx)(i,{isOpen:d,onClose:()=>c(!1),product:g}),(0,t.jsxs)("div",{className:"bg-emerald-500 p-6 text-white text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"The Haul"}),(0,t.jsx)("p",{className:"text-emerald-100 text-sm mt-1",children:"More bang for your buck."})]}),(0,t.jsxs)("div",{className:"p-4",children:[e.items.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-slate-50 last:border-0 group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.product.image}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-800 text-sm",children:e.product.name}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,t.jsx)("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wider ${"PaknSave"===e.product.store?"bg-yellow-100 text-yellow-700":"Woolworths"===e.product.store?"bg-green-100 text-green-700":"NewWorld"===e.product.store?"bg-red-100 text-red-700":"bg-slate-100 text-slate-500"}`,children:"PaknSave"===e.product.store?"Pak'nSave":"NewWorld"===e.product.store?"New World":e.product.store}),(0,t.jsxs)("span",{className:"text-[10px] text-slate-400 font-medium pt-0.5",children:[e.quantity,"x ",e.product.unit]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-700 text-right",children:[(0,t.jsxs)("div",{children:["$",(e.product.price*e.quantity).toFixed(2)]}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-normal",children:["$",e.product.price.toFixed(2),"/ea"]})]}),(0,t.jsx)("button",{onClick:()=>{p(e.product),c(!0)},className:"text-slate-300 hover:text-amber-500 p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Report Incorrect Price",children:"ðŸš©"})]})]},e.product.id)),0===e.items.length&&(0,t.jsx)("div",{className:"text-center py-10 text-slate-400",children:"Yeah nah. Not enough gold in the coffers. Slide that budget up!"})]}),e.items.length>0&&(0,t.jsxs)("div",{className:"px-6 pb-6 animate-fade-in",children:[(0,t.jsxs)("button",{onClick:()=>{o(((e,t=0)=>{let s=e.map(e=>e.product.name.toLowerCase()),a=[],r=e=>t>0?[...e,"ðŸ‘¶ BABY PREP: Blitz/Puree a portion before you salt it. Smooth as silk for the wee one."]:e,i=e=>t>0?[...e,"Baby Friendly","Batch Cook"]:e;return s.some(e=>e.includes("mince"))&&s.some(e=>e.includes("pasta")||e.includes("sauce")||e.includes("tomato"))&&a.push({id:"r1",title:"Spag Bol on a Budget",prepTime:"10 mins",cookTime:"25 mins",ingredients:["Beef Mince","Pasta","Canned Tomatoes","Onions","Mixed Veg"],instructions:r(["Chuck the mince in a pan with the onions. Brown it off.","Dump in the tomatoes and simmer for a bit (10 mins).","Stir in the frozen veg to keep it healthy(ish).","Slap it over boiled pasta and you're sorted."]),matchingIngredients:["p1","c2","v4","v3","v1"],tags:i(["Classic","High Protein"]),chefTreat:"Pairs well with a cheeky Red (or a cold cola).",batchPrepTip:"â„ï¸ FREEZER GOLD: Cook double. Freeze half. Future you will thank past you when the chaotic weeknight hits."}),s.some(e=>e.includes("chicken"))&&s.some(e=>e.includes("rice"))&&a.push({id:"r2",title:"Chook & Veggie Rice",prepTime:"10 mins",cookTime:"15 mins",ingredients:["Chicken Breast","Rice","Mixed Veg","Soy Sauce (Pantry)"],instructions:r(["Dice the chook and fry it till it's golden.","Toss in the frozen veg and cook for 5.","Mix in the rice and soy sauce.","Get it in ya."]),matchingIngredients:["p2","c1","v1"],tags:i(["Quick","Healthy","Lean"]),chefTreat:"Goes great with a crisp Sauvignon Blanc.",batchPrepTip:"ðŸ•’ SAVE TIME: Dice the chicken and chop any fresh veg on Sunday. Throw it in the pan Monday night - done in 10."}),s.some(e=>e.includes("veg")||e.includes("potato"))&&s.some(e=>e.includes("meat")||e.includes("chicken")||e.includes("mince")||e.includes("sausage"))&&a.push({id:"r_roast",title:'The "Chuck it in the Oven" Roast',prepTime:"5 mins",cookTime:"30 mins",ingredients:["Any Protein","Mixed Veg / Potatoes","Oil & Spices (Pantry)"],instructions:r(["Toss the veg in oil and whatever spices you've got in the cupboard.","Chuck them in the oven at 200Â°C for 20 mins.","While that's happening, season your protein and fry it up in a pan.","Throw it all together at the end. Easy as."]),matchingIngredients:["v1","p5"],tags:i(["Healthy","Low Effort","Gluten Free"]),chefTreat:"Perfect time for a beer while the oven does the work.",batchPrepTip:"ðŸ± LUNCH PREP: Roast a massive tray of veg. Use it for salads/sides all week."}),s.some(e=>e.includes("lentil")||e.includes("mince"))&&s.some(e=>e.includes("potato"))&&a.push({id:"r3",title:"Proper Cottage Pie",prepTime:"20 mins",cookTime:"40 mins",ingredients:["Mince or Lentils","Potatoes","Mixed Veg","Milk/Butter"],instructions:r(["Cook up the base (Mince or Lentils) with the veg.","Mash the spuds with a splash of milk (don't be shy).","Whack the mash on top and bake till it's crispy."]),matchingIngredients:["p1","p5","c5","v1","d1"],tags:i(["Comfort Food","Healthy"]),chefTreat:"Best enjoyed with a dark ale or stout.",batchPrepTip:"ðŸ¥˜ PREP HERO: Assemble the whole thing on the weekend but don't bake it. Monday night: oven -> table."}),s.some(e=>e.includes("tuna"))&&s.some(e=>e.includes("pasta"))&&a.push({id:"r4",title:"Cheesy Tuna Bake",prepTime:"5 mins",cookTime:"25 mins",ingredients:["Canned Tuna","Pasta","Milk/Cheese","Mixed Veg"],instructions:r(["Boil pasta until it's almost done.","Mix the tuna, veg, and a white sauce.","Drown it in cheese and bake until bubbly."]),matchingIngredients:["p4","c2","d2","v1"],tags:i(["Family Fave"]),chefTreat:"Goes down well with a Pinot Gris.",batchPrepTip:"ðŸ± LUNCH SORTED: Makes epic leftovers for work lunches. Tastes better the next day."}),0===a.length&&a.push({id:"r_generic",title:'The "End of Week" Fry Up',prepTime:"5 mins",cookTime:"10 mins",ingredients:["Any Protein","Rice","Frozen Veg","Egg (Optional)"],instructions:r(["Huck it all in a pan and hope for the best!"]),matchingIngredients:[],tags:i(["Quick","Budget"]),chefTreat:"Whatever is left in the fridge, mate."}),a.sort((e,t)=>{let s=+!!e.tags.includes("Quick")+ +!!e.tags.includes("Healthy");return+!!t.tags.includes("Quick")+ +!!t.tags.includes("Healthy")-s}).slice(0,3)})(e.items,e.infantCount)),n(!0)},className:"w-full bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-indigo-200 hover:shadow-indigo-300 transition-all transform hover:-translate-y-0.5 flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸª„"}),(0,t.jsx)("span",{children:"What's for tea? (AI Chef)"})]}),(0,t.jsx)("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"Get the AI to sort your dinner plans. Easy as."})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-6 flex justify-between items-center border-t border-slate-100",children:[(0,t.jsx)("span",{className:"text-slate-500 font-medium",children:"Total Dosh"}),(0,t.jsxs)("span",{className:"text-3xl font-black text-slate-900",children:["$",e.total.toFixed(2)]})]})]})}let l=[{id:"p1",name:"Value Beef Mince",price:13.9,unit:"1kg",weight_g:1e3,protein_g:180,calories:2200,category:"protein",image:"ðŸ¥©",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p2",name:"Waitoa Chicken Breast",price:14.5,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",image:"ðŸ—",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p3",name:"Colony Eggs",price:14.9,unit:"Tray (20)",weight_g:1200,protein_g:120,calories:1400,category:"protein",image:"ðŸ¥š",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg"],preservatives:[]},{id:"p4",name:"Pams Tuna",price:2.1,unit:"185g Can",weight_g:185,protein_g:45,calories:200,category:"protein",image:"ðŸŸ",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!0,allergens:["Fish"],preservatives:[]},{id:"p5",name:"Value Lentils",price:1.2,unit:"400g Can",weight_g:400,protein_g:36,calories:320,category:"protein",image:"ðŸ¥«",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Sulphites"]},{id:"p6",name:"Hellers Sausages",price:11,unit:"1kg Pack",weight_g:1e3,protein_g:120,calories:2800,category:"protein",image:"ðŸŒ­",brand_tier:"budget",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!1,isGlutenFree:!1,isPantryStaple:!1,allergens:["Soy","Gluten","Sulphites"],preservatives:["Sodium Nitrite (250)","Sulphur Dioxide (220)"]},{id:"p7",name:"Premium Angus Mince",price:18.99,unit:"1kg",weight_g:1e3,protein_g:190,calories:2100,category:"protein",image:"ðŸ¥©",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c1",name:"Value White Rice",price:9.5,unit:"5kg Bag",weight_g:5e3,protein_g:350,calories:18e3,category:"carb",image:"ðŸš",brand_tier:"budget",servings_per_unit:60,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"c2",name:"Value Pasta",price:1.2,unit:"500g",weight_g:500,protein_g:60,calories:1800,category:"carb",image:"ðŸ",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"c3",name:"Value White Toast Bread",price:1.4,unit:"Loaf",weight_g:600,protein_g:48,calories:1500,category:"carb",image:"ðŸž",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)","Soy"],preservatives:["Calcium Propionate (282)"]},{id:"c4",name:"Harraways Rolled Oats",price:6.2,unit:"1.5kg",weight_g:1500,protein_g:195,calories:5600,category:"carb",image:"ðŸ¥£",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Oats)"],preservatives:[]},{id:"c5",name:"Ugly Bag Potatoes",price:5.99,unit:"4kg",weight_g:4e3,protein_g:80,calories:3e3,category:"carb",image:"ðŸ¥”",brand_tier:"budget",servings_per_unit:20,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c6",name:"Orange Kumara",price:8.99,unit:"1kg",weight_g:1e3,protein_g:16,calories:860,category:"carb",image:"ðŸ ",brand_tier:"standard",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c7",name:"Artisan Sourdough",price:6.5,unit:"Loaf",weight_g:600,protein_g:50,calories:1400,category:"carb",image:"ðŸ¥–",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"v1",name:"Value Frozen Mixed Veg",price:3.5,unit:"1kg",weight_g:1e3,protein_g:30,calories:600,category:"veg",image:"ðŸ¥¦",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v2",name:"Fresh Carrots",price:2.5,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",image:"ðŸ¥•",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v3",name:"Brown Onions",price:2.8,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",image:"ðŸ§…",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v4",name:"Canned Tomatoes (Diced)",price:1.1,unit:"400g Can",weight_g:400,protein_g:4,calories:100,category:"veg",image:"ðŸ…",brand_tier:"budget",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Citric Acid"]},{id:"f1",name:"Bananas (Loose)",price:3.8,unit:"1kg",weight_g:1e3,protein_g:10,calories:890,category:"fruit",image:"ðŸŒ",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f2",name:"Apples (Odd Bunch)",price:4,unit:"1.5kg",weight_g:1500,protein_g:7,calories:780,category:"fruit",image:"ðŸŽ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"Woolworths",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f3",name:"Gold Kiwifruit",price:7.99,unit:"1kg",weight_g:1e3,protein_g:11,calories:610,category:"fruit",image:"ðŸ¥",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"d1",name:"Value Standard Milk",price:2.9,unit:"2L",weight_g:2e3,protein_g:66,calories:1200,category:"fat",image:"ðŸ¥›",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"d2",name:"Mild Cheese Block",price:13.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3800,category:"fat",image:"ðŸ§€",brand_tier:"budget",servings_per_unit:25,sodium_level:"moderate",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:["Sorbic Acid (200)"]},{id:"d3",name:"Butter (Salted)",price:6.5,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",image:"ðŸ§ˆ",brand_tier:"standard",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[]},{id:"b1",name:"Karicare Formula Step 1",price:23.5,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ðŸ¼",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[]},{id:"b2",name:"Heinz Nurture Formula",price:18,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ðŸ¼",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[]},{id:"b3",name:"Watties Baby Food",price:1.9,unit:"120g Pouch",weight_g:120,protein_g:2,calories:80,category:"baby",image:"ðŸ‘¶",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]}];function o(){let[e,r]=(0,s.useState)(0),[i,o]=(0,s.useState)(1),[d,c]=(0,s.useState)(0),[g,p]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[b,v]=(0,s.useState)("Any"),[f,y]=(0,s.useState)(null),[w,j]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("smartkete_prefs");if(e)try{let t=JSON.parse(e);t.budget&&r(t.budget),t.adults&&o(t.adults),c(t.infants||0),p(t.isVegetarian||!1),m(t.isGlutenFree||!1),x(t.hasPantryStaples||!1),v(t.preferredStore||"Any")}catch(e){console.error("Failed to load prefs",e)}j(!0)},[]),(0,s.useEffect)(()=>{!w||e>0&&localStorage.setItem("smartkete_prefs",JSON.stringify({budget:e,adults:i,infants:d,isVegetarian:g,isGlutenFree:u,hasPantryStaples:h,preferredStore:b}))},[e,i,d,g,u,h,b,w]),(0,s.useEffect)(()=>{e>0?y(((e,t,s,a=!1,r=!1,i=!1,n="Any")=>{let o=0,d=[],c=s>0,g=e=>{if(c&&"high"===e.sodium_level||a&&!e.isVegetarian||r&&!e.isGlutenFree||i&&e.isPantryStaple)return!1;if("Any"!==n){if("General"===e.store)return!0;if("PaknSave"===n&&("Woolworths"===e.store||"NewWorld"===e.store)||"Woolworths"===n&&("PaknSave"===e.store||"NewWorld"===e.store)||"NewWorld"===n&&("PaknSave"===e.store||"Woolworths"===e.store))return!1}return!0};if(s>0){let t=l.filter(e=>"baby"===e.category&&e.name.includes("Formula")).filter(g).sort((e,t)=>e.price-t.price)[0];t&&o+t.price<=e&&(d.push({product:t,quantity:1}),o+=t.price);let s=l.find(e=>"baby"===e.category&&"budget"===e.brand_tier);s&&o+5*s.price<=e&&(d.push({product:s,quantity:5}),o+=5*s.price)}let p=[...l].filter(g).sort((e,t)=>{let s=e.protein_g/e.price;return t.protein_g/t.price-s}),u=[l.find(e=>"carb"===e.category&&"ðŸ¥£"===e.image&&g(e)),l.find(e=>"carb"===e.category&&("ðŸš"===e.image||"ðŸ"===e.image)&&g(e)),l.find(e=>"veg"===e.category&&"budget"===e.brand_tier&&g(e)),l.find(e=>"fat"===e.category&&"ðŸ¥›"===e.image&&g(e))];if(!i&&!u.some(e=>e&&"carb"===e.category)){let e=l.find(e=>e.name.includes("Potatoes")&&g(e));e&&u.push(e)}for(let a of(e/(t+s)>50&&(u.push(l.find(e=>e.name.includes("Avocado")&&g(e))),u.push(l.find(e=>"fruit"===e.category&&"standard"===e.brand_tier&&g(e)))),u.forEach(s=>{if(s){let a=1;t>2&&s.price<5&&(a=2),o+s.price*a<=e&&(d.find(e=>e.product.id===s.id)||(d.push({product:s,quantity:a}),o+=s.price*a))}}),p))if("baby"!==a.category&&o+a.price<=e){let e=d.find(e=>e.product.id===a.id);if(e){let s=2*t;e.quantity<s&&(e.quantity+=1,o+=a.price)}else d.push({product:a,quantity:1}),o+=a.price}let m=0;d.forEach(e=>{let t=e.product.category,s=e.product.name.toLowerCase();"protein"===t?m+=e.product.servings_per_unit*e.quantity:"fat"===t&&(s.includes("egg")||s.includes("cheese")||s.includes("tofu"))&&(m+=e.product.servings_per_unit*e.quantity)});let h=+t,x=h>0?m/h:0;return x*=.8,{items:d,total:o,remainingBudget:e-o,totalMeals:Math.floor(m),daysCovered:Number(x.toFixed(1)),infantCount:s}})(e,i,d,g,u,h,b)):y(null)},[e,i,d,g,u,h,b]),(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-4 md:p-8 font-sans text-slate-800",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("div",{className:"inline-block bg-white p-3 rounded-full shadow-md mb-2",children:(0,t.jsx)("span",{className:"text-4xl",children:"ðŸ¥"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-emerald-900 tracking-tight",children:"SmartKete"}),(0,t.jsx)("p",{className:"text-emerald-700 font-medium",children:"Sorted. Fresh. A bit cheeky."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-6 border border-emerald-100",children:[(0,t.jsx)(a,{initialBudget:e,initialAdults:i,initialInfants:d,onCalculate:(e,t,s)=>{r(e),o(t),c(s)}}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-100 space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-emerald-800 uppercase tracking-widest",children:"Preferred Store"}),(0,t.jsx)("span",{className:"text-[10px] text-emerald-600 bg-emerald-50 px-2 rounded-full",children:"Optimize Price"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("button",{onClick:()=>v("Any"),className:`text-xs font-bold py-2 px-1 rounded-lg border transition-all col-span-2 ${"Any"===b?"bg-emerald-600 text-white border-emerald-600 shadow-sm":"bg-white text-slate-500 border-slate-200 hover:border-emerald-300"}`,children:"Any (Cheapest Mix)"}),(0,t.jsx)("button",{onClick:()=>v("PaknSave"),className:`text-xs font-bold py-2 px-1 rounded-lg border transition-all ${"PaknSave"===b?"bg-yellow-400 text-yellow-900 border-yellow-400":"bg-white text-slate-500 border-slate-200 hover:border-yellow-200"}`,children:"Pak'nSave"}),(0,t.jsx)("button",{onClick:()=>v("Woolworths"),className:`text-xs font-bold py-2 px-1 rounded-lg border transition-all ${"Woolworths"===b?"bg-green-600 text-white border-green-600":"bg-white text-slate-500 border-slate-200 hover:border-green-200"}`,children:"Woolworths"}),(0,t.jsx)("button",{onClick:()=>v("NewWorld"),className:`text-xs font-bold py-2 px-1 rounded-lg border transition-all col-span-2 ${"NewWorld"===b?"bg-red-600 text-white border-red-600":"bg-white text-slate-500 border-slate-200 hover:border-red-200"}`,children:"New World (Premium)"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-emerald-800 uppercase tracking-widest mb-2",children:"Dietary Types"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group hover:bg-emerald-50 p-2 rounded-lg transition-colors -ml-2",children:[(0,t.jsx)("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${g?"bg-emerald-500 border-emerald-500":"border-slate-300"}`,children:g&&(0,t.jsx)("span",{className:"text-white text-[8px] font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:g,onChange:e=>p(e.target.checked)}),(0,t.jsx)("span",{className:"text-xs text-slate-600 font-semibold",children:"Vegetarian"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group hover:bg-amber-50 p-2 rounded-lg transition-colors",children:[(0,t.jsx)("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${u?"bg-amber-500 border-amber-500":"border-slate-300"}`,children:u&&(0,t.jsx)("span",{className:"text-white text-[8px] font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:u,onChange:e=>m(e.target.checked)}),(0,t.jsx)("span",{className:"text-xs text-slate-600 font-semibold",children:"Gluten Free"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-emerald-800 uppercase tracking-widest mb-2",children:"Pantry Check"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:h&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:h,onChange:e=>x(e.target.checked)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700 block",children:"I have Staples"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"Skip Rice, Pasta, Oil, Butter"})]})]})]})]})]})]}),f&&(0,t.jsxs)("div",{className:"animate-fade-in-up",children:[(0,t.jsx)(n,{cart:f}),(0,t.jsxs)("div",{className:"mt-8 text-center flex flex-col gap-4",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Data Snapshotted Feb 2026. Local Storage Enabled."}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("smartkete_prefs"),window.location.reload()},className:"text-xs text-emerald-600 hover:text-emerald-800 underline font-medium",children:"Reset Saved Preferences"})]})]})]})})}e.s(["default",()=>o],31713)}]);