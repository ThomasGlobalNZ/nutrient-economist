(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function r({budget:e,adults:r,infants:s,durationDays:i,mealsPerDay:l,onUpdate:n,isVegetarian:o,isGlutenFree:d,isPreservativeFree:c,excludedAllergens:g,hasPantryStaples:u,preferredStore:p,hasClubcard:m,isBulkBuy:x,safetyBuffer:h,includeSnacks:b}){let[v,f]=(0,a.useState)("profile");return(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-emerald-100 overflow-hidden font-sans",children:[(0,t.jsxs)("div",{className:"flex border-b border-slate-100 overflow-x-auto",children:[(0,t.jsx)("button",{onClick:()=>f("profile"),className:`flex-1 py-4 px-2 text-[10px] font-bold uppercase tracking-widest whitespace-nowrap ${"profile"===v?"bg-emerald-50 text-emerald-700 border-b-2 border-emerald-500":"text-slate-400 hover:bg-slate-50"}`,children:"1. Who"}),(0,t.jsx)("button",{onClick:()=>f("diet"),className:`flex-1 py-4 px-2 text-[10px] font-bold uppercase tracking-widest whitespace-nowrap ${"diet"===v?"bg-emerald-50 text-emerald-700 border-b-2 border-emerald-500":"text-slate-400 hover:bg-slate-50"}`,children:"2. Diet"}),(0,t.jsx)("button",{onClick:()=>f("budget"),className:`flex-1 py-4 px-2 text-[10px] font-bold uppercase tracking-widest whitespace-nowrap ${"budget"===v?"bg-emerald-50 text-emerald-700 border-b-2 border-emerald-500":"text-slate-400 hover:bg-slate-50"}`,children:"3. Spend"})]}),(0,t.jsxs)("div",{className:"p-6 min-h-[300px]",children:["profile"===v&&(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Adults (Eaters)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>n("adults",Math.max(1,r-1)),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 font-bold text-slate-600",children:"-"}),(0,t.jsx)("span",{className:"text-xl font-bold text-slate-800 w-4 text-center",children:r}),(0,t.jsx)("button",{onClick:()=>n("adults",r+1),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 font-bold text-slate-600",children:"+"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Infants (Formula)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>n("infants",Math.max(0,s-1)),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 font-bold text-slate-600",children:"-"}),(0,t.jsx)("span",{className:"text-xl font-bold text-slate-800 w-4 text-center",children:s}),(0,t.jsx)("button",{onClick:()=>n("infants",s+1),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 font-bold text-slate-600",children:"+"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Duration"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("button",{onClick:()=>n("durationDays",7),className:`py-3 rounded-xl border-2 text-sm font-bold transition-all ${7===i?"border-emerald-500 bg-emerald-500 text-white shadow-md":"border-slate-100 text-slate-500 hover:border-emerald-200"}`,children:"Weekly (7 Days)"}),(0,t.jsx)("button",{onClick:()=>n("durationDays",14),className:`py-3 rounded-xl border-2 text-sm font-bold transition-all ${14===i?"border-emerald-500 bg-emerald-500 text-white shadow-md":"border-slate-100 text-slate-500 hover:border-emerald-200"}`,children:"Fortnightly (14 Days)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Meals Per Day"}),(0,t.jsx)("div",{className:"flex gap-2",children:[3,4,5].map(e=>(0,t.jsxs)("button",{onClick:()=>n("mealsPerDay",e),className:`flex-1 py-2 rounded-lg border text-xs font-bold transition-all ${l===e?"bg-cyan-500 border-cyan-500 text-white":"bg-white border-slate-200 text-slate-500"}`,children:[e," Meals"]},e))}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 italic",children:3===l?"Standard (Brekkie, Lunch, Dinner)":4===l?"Active (Plus Morning Tea)":"Athlete/Grower (Plus Snacks)"})]})]}),"diet"===v&&(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Store Preference"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Any","PaknSave","Woolworths","NewWorld","FreshChoice","TheKaiCo","LocalGrocer"].map(e=>(0,t.jsx)("button",{onClick:()=>n("preferredStore",e),className:`py-2 text-[10px] font-bold rounded border ${p===e?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-500 border-slate-200"} ${"LocalGrocer"===e?"col-span-2":""}`,children:"PaknSave"===e?"Pak'nSave":"TheKaiCo"===e?"The Kai Co":"LocalGrocer"===e?"Fresh on Kendal / Local":e},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${o?"bg-green-500 border-green-500":"border-slate-300"}`,children:o&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:o,onChange:e=>n("isVegetarian",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-slate-700 font-medium",children:"Vegetarian"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${d?"bg-amber-500 border-amber-500":"border-slate-300"}`,children:d&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:d,onChange:e=>n("isGlutenFree",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-slate-700 font-medium",children:"Gluten Free"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${c?"bg-teal-500 border-teal-500":"border-slate-300"}`,children:c&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:c,onChange:e=>n("isPreservativeFree",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-slate-700 font-medium",children:"Preservative Free"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${b?"bg-pink-500 border-pink-500":"border-slate-300"}`,children:b&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:b,onChange:e=>n("includeSnacks",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-slate-700 font-medium",children:"Include Snacks ðŸ¥"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-3 block",children:"Exclude Allergens"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["Peanuts","Dairy","Gluten","Soy","Egg","Shellfish","Fish"].map(e=>{let a=g.includes(e);return(0,t.jsxs)("button",{onClick:()=>{n("excludedAllergens",a?g.filter(t=>t!==e):[...g,e])},className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${a?"bg-rose-500 border-rose-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-rose-200 hover:text-rose-500"}`,children:[a?"âœ• ":"",e]},e)})}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-2",children:"Tapping these will REMOVE items containing them from your cart."})]})]})]}),"budget"===v&&(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-8",children:[(0,t.jsxs)("label",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:["Total Budget (",7===i?"Weekly":"Fortnightly",")"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:["$",e]}),(0,t.jsx)("div",{className:"flex flex-col items-end",children:(0,t.jsxs)("span",{className:"text-sm font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-md",children:["Approx $",(e/i).toFixed(0),"/day"]})})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("input",{type:"range",min:"50",max:"1000",step:"10",value:e,onChange:e=>n("budget",Number(e.target.value)),className:"w-full h-4 bg-slate-100 rounded-full appearance-none cursor-pointer accent-emerald-500 hover:accent-emerald-400 transition-all"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[(0,t.jsx)("span",{children:"Skint"}),(0,t.jsx)("span",{children:"Ballin'"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between cursor-pointer group bg-indigo-50/50 p-3 rounded-xl border border-indigo-100 hover:border-indigo-300 transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-sm font-bold text-slate-900 block flex items-center gap-2",children:["ðŸ›ï¸ I have a Clubcard",m&&(0,t.jsx)("span",{className:"text-[9px] bg-indigo-100 text-indigo-700 px-1.5 rounded font-bold",children:"ACTIVE"})]}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:"Apply member deals where possible."})]}),(0,t.jsx)("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${m?"bg-indigo-500":"bg-slate-200"}`,children:(0,t.jsx)("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${m?"translate-x-4":"translate-x-0"}`})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:m,onChange:e=>n("hasClubcard",e.target.checked)})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between cursor-pointer group bg-emerald-50/50 p-3 rounded-xl border border-emerald-100 hover:border-emerald-300 transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-sm font-bold text-slate-900 block flex items-center gap-2",children:["ðŸ“¦ Buy in Bulk",x&&(0,t.jsx)("span",{className:"text-[9px] bg-emerald-100 text-emerald-700 px-1.5 rounded font-bold",children:"ON"})]}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:"Prioritize large packs (5kg+) for better value."})]}),(0,t.jsx)("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${x?"bg-emerald-500":"bg-slate-200"}`,children:(0,t.jsx)("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${x?"translate-x-4":"translate-x-0"}`})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:x,onChange:e=>n("isBulkBuy",e.target.checked)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:"Safety Buffer (Cover Your ðŸ‘)"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[0,5,10,20].map(e=>(0,t.jsx)("button",{onClick:()=>n("safetyBuffer",e),className:`py-2 rounded-lg border text-xs font-bold transition-all ${h===e?"bg-amber-500 border-amber-500 text-white shadow-sm":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:0===e?"None":`+${e}%`},e))}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 italic",children:"Adds a buffer to your budget for price variances."})]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-emerald-200 transition-all",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u?"bg-emerald-600 border-emerald-600":"border-slate-300"}`,children:u&&(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:u,onChange:e=>n("hasPantryStaples",e.target.checked)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900 block",children:"I have Staples"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"Skip Rice, Pasta, Oil, Butter"})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-4 flex justify-between items-center border-t border-slate-100",children:["profile"!==v?(0,t.jsx)("button",{onClick:()=>{"budget"===v?f("diet"):f("profile")},className:"text-xs font-bold text-slate-500 hover:text-slate-800",children:"â† Back"}):(0,t.jsx)("div",{}),"budget"!==v?(0,t.jsx)("button",{onClick:()=>{"profile"===v?f("diet"):"diet"===v&&f("budget")},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-sm transition-all",children:"Next â†’"}):(0,t.jsx)("span",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest",children:"Ready to Shop"})]})]})}let s=[{id:"p1",name:"Value Beef Mince",price:13.9,unit:"1kg",weight_g:1e3,protein_g:180,calories:2200,category:"protein",sub_category:"mince",image:"ðŸ¥©",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p2",name:"Waitoa Chicken Breast",price:14.5,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"ðŸ—",brand_tier:"standard",servings_per_unit:6,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p8",name:"Tegel Chicken Breast (Budget)",price:12.9,unit:"1kg",weight_g:1e3,protein_g:310,calories:1650,category:"protein",sub_category:"chicken",image:"ðŸ—",brand_tier:"budget",servings_per_unit:6,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p3",name:"Colony Eggs",price:14.9,unit:"Tray (20)",weight_g:1200,protein_g:120,calories:1400,category:"protein",sub_category:"eggs",image:"ðŸ¥š",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg"],preservatives:[]},{id:"p4",name:"Pams Tuna",price:2.1,unit:"185g Can",weight_g:185,protein_g:45,calories:200,category:"protein",sub_category:"canned_fish",image:"ðŸŸ",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!0,allergens:["Fish"],preservatives:[]},{id:"p5",name:"Value Lentils",price:1.2,unit:"400g Can",weight_g:400,protein_g:36,calories:320,category:"protein",sub_category:"canned_veg",image:"ðŸ¥«",brand_tier:"budget",servings_per_unit:2,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Sulphites"]},{id:"p6",name:"Hellers Sausages",price:11,unit:"1kg Pack",weight_g:1e3,protein_g:120,calories:2800,category:"protein",sub_category:"sausage",image:"ðŸŒ­",brand_tier:"budget",servings_per_unit:8,sodium_level:"high",store:"General",isVegetarian:!1,isGlutenFree:!1,isPantryStaple:!1,allergens:["Soy","Gluten","Sulphites"],preservatives:["Sodium Nitrite (250)","Sulphur Dioxide (220)"]},{id:"p7",name:"Premium Angus Mince",price:18.99,unit:"1kg",weight_g:1e3,protein_g:190,calories:2100,category:"protein",sub_category:"mince",image:"ðŸ¥©",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c1",name:"Value White Rice",price:9.5,unit:"5kg Bag",weight_g:5e3,protein_g:350,calories:18e3,category:"carb",sub_category:"rice",image:"ðŸš",brand_tier:"budget",servings_per_unit:60,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"c2",name:"Value Pasta",price:1.2,unit:"500g",weight_g:500,protein_g:60,calories:1800,category:"carb",sub_category:"pasta",image:"ðŸ",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"c3",name:"Value White Toast Bread",price:1.4,unit:"Loaf",weight_g:600,protein_g:48,calories:1500,category:"carb",sub_category:"bread",image:"ðŸž",brand_tier:"budget",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)","Soy"],preservatives:["Calcium Propionate (282)"]},{id:"c4",name:"Harraways Rolled Oats",price:6.2,unit:"1.5kg",weight_g:1500,protein_g:195,calories:5600,category:"carb",sub_category:"oats",image:"ðŸ¥£",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Oats)"],preservatives:[]},{id:"c5",name:"Ugly Bag Potatoes",price:5.99,unit:"4kg",weight_g:4e3,protein_g:80,calories:3e3,category:"carb",sub_category:"potato",image:"ðŸ¥”",brand_tier:"budget",servings_per_unit:20,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c6",name:"Orange Kumara",price:8.99,unit:"1kg",weight_g:1e3,protein_g:16,calories:860,category:"carb",sub_category:"potato",image:"ðŸ ",brand_tier:"standard",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"c7",name:"Artisan Sourdough",price:6.5,unit:"Loaf",weight_g:600,protein_g:50,calories:1400,category:"carb",sub_category:"bread",image:"ðŸ¥–",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"v1",name:"Value Frozen Mixed Veg",price:3.5,unit:"1kg",weight_g:1e3,protein_g:30,calories:600,category:"veg",sub_category:"frozen_veg",image:"ðŸ¥¦",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v2",name:"Fresh Carrots",price:2.5,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"fresh_veg",image:"ðŸ¥•",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v3",name:"Brown Onions",price:2.8,unit:"1.5kg",weight_g:1500,protein_g:15,calories:600,category:"veg",sub_category:"onion",image:"ðŸ§…",brand_tier:"budget",servings_per_unit:15,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v4",name:"Canned Tomatoes (Diced)",price:1.1,unit:"400g Can",weight_g:400,protein_g:4,calories:100,category:"veg",sub_category:"canned_veg",image:"ðŸ…",brand_tier:"budget",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:["Citric Acid"]},{id:"v5",name:"Frozen Stir Fry Mix",price:4,unit:"1kg",weight_g:1e3,protein_g:20,calories:400,category:"veg",sub_category:"frozen_veg",image:"ðŸ¥¦",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"v6",name:"Frozen Spinach",price:2.5,unit:"500g",weight_g:500,protein_g:15,calories:100,category:"veg",sub_category:"frozen_veg",image:"ðŸ¥¬",brand_tier:"budget",servings_per_unit:5,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f1",name:"Bananas (Loose)",price:3.8,unit:"1kg",weight_g:1e3,protein_g:10,calories:890,category:"fruit",sub_category:"fresh_fruit",image:"ðŸŒ",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f2",name:"Apples (Odd Bunch)",price:4,unit:"1.5kg",weight_g:1500,protein_g:7,calories:780,category:"fruit",sub_category:"fresh_fruit",image:"ðŸŽ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"Woolworths",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f3",name:"Gold Kiwifruit",price:7.99,unit:"1kg",weight_g:1e3,protein_g:11,calories:610,category:"fruit",sub_category:"fresh_fruit",image:"ðŸ¥",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"f4",name:"Frozen Mixed Berries",price:6,unit:"1kg",weight_g:1e3,protein_g:10,calories:500,category:"fruit",sub_category:"frozen_fruit",image:"ðŸ«",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"d1",name:"Value Standard Milk",price:2.9,unit:"2L",weight_g:2e3,protein_g:66,calories:1200,category:"fat",sub_category:"milk",image:"ðŸ¥›",brand_tier:"budget",servings_per_unit:8,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"d4",name:"Anchor Standard Milk",price:4.5,unit:"2L",weight_g:2e3,protein_g:68,calories:1250,category:"fat",sub_category:"milk",image:"ðŸ¥›",brand_tier:"premium",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"d5",name:"Vitasoy Soy Milk",price:3.5,unit:"1L",weight_g:1e3,protein_g:30,calories:600,category:"fat",sub_category:"milk",image:"ðŸ¥›",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Soy"],preservatives:[]},{id:"d2",name:"Mild Cheese Block",price:13.5,unit:"1kg",weight_g:1e3,protein_g:250,calories:3800,category:"fat",sub_category:"cheese",image:"ðŸ§€",brand_tier:"budget",servings_per_unit:25,sodium_level:"moderate",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:["Sorbic Acid (200)"]},{id:"d3",name:"Butter (Salted)",price:6.5,unit:"500g",weight_g:500,protein_g:4,calories:3600,category:"fat",sub_category:"butter",image:"ðŸ§ˆ",brand_tier:"standard",servings_per_unit:50,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:["Dairy"],preservatives:[]},{id:"alt-bread-gf",name:"GF Bread (Vogel's)",price:7.5,unit:"Loaf",weight_g:500,protein_g:20,calories:1100,category:"carb",sub_category:"bread",image:"ðŸž",brand_tier:"premium",servings_per_unit:8,sodium_level:"moderate",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Egg","Soy"],preservatives:[]},{id:"alt-pasta-gf",name:"GF Pasta (Corn/Rice)",price:3.5,unit:"350g",weight_g:350,protein_g:25,calories:1200,category:"carb",sub_category:"pasta",image:"ðŸ",brand_tier:"standard",servings_per_unit:4,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"alt-cheese-vegan",name:"Dairy Free Cheese",price:8.5,unit:"200g",weight_g:200,protein_g:0,calories:600,category:"fat",sub_category:"cheese",image:"ðŸ§€",brand_tier:"premium",servings_per_unit:8,sodium_level:"high",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b1",name:"Karicare Formula Step 1",price:23.5,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ðŸ¼",brand_tier:"standard",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[]},{id:"b2",name:"Heinz Nurture Formula",price:18,unit:"900g",weight_g:900,protein_g:100,calories:4500,category:"baby",image:"ðŸ¼",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy","Soy","Fish"],preservatives:[]},{id:"b3",name:"Watties Baby Food",price:1.9,unit:"120g Pouch",weight_g:120,protein_g:2,calories:80,category:"baby",image:"ðŸ‘¶",brand_tier:"standard",servings_per_unit:1,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-pasta-3kg",name:"Value Pasta (Bulk)",price:4.8,unit:"3kg",weight_g:3e3,protein_g:360,calories:10800,category:"carb",sub_category:"pasta",image:"ðŸ",brand_tier:"budget",servings_per_unit:30,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten (Wheat)"],preservatives:[]},{id:"b-rice-10kg",name:"Jasmine Rice (Bulk)",price:18,unit:"10kg",weight_g:1e4,protein_g:700,calories:36e3,category:"carb",sub_category:"rice",image:"ðŸš",brand_tier:"budget",servings_per_unit:120,sodium_level:"low",store:"PaknSave",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!0,allergens:[],preservatives:[]},{id:"b-mince-2kg",name:"Beef Mince (Club Pack)",price:22,unit:"2kg",weight_g:2e3,protein_g:360,calories:4400,category:"protein",sub_category:"mince",image:"ðŸ¥©",brand_tier:"budget",servings_per_unit:16,sodium_level:"low",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"b-chicken-2kg",name:"Chicken Breast (Bulk)",price:26,unit:"2kg",weight_g:2e3,protein_g:620,calories:3300,category:"protein",sub_category:"chicken",image:"ðŸ—",brand_tier:"standard",servings_per_unit:12,sodium_level:"low",store:"General",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"treat-choc-whittakers",name:"Whittakers Creamy Milk",price:6,unit:"250g",weight_g:250,protein_g:20,calories:1300,category:"fat",sub_category:"chocolate",image:"ðŸ«",brand_tier:"premium",servings_per_unit:10,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"treat-biscuits-arnotts",name:"Arnotts Shapes/TimTams",price:4.5,unit:"Pack",weight_g:200,protein_g:5,calories:1e3,category:"carb",sub_category:"biscuit",image:"ðŸª",brand_tier:"standard",servings_per_unit:10,sodium_level:"moderate",store:"Woolworths",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy"],preservatives:[]},{id:"treat-chips-bluebird",name:"Bluebird Chips",price:2.5,unit:"150g",weight_g:150,protein_g:10,calories:800,category:"fat",sub_category:"chips",image:"ðŸ¥”",brand_tier:"standard",servings_per_unit:5,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"p-chicken-whole",name:"Whole Roast Chicken",price:10,unit:"1.2kg",weight_g:1200,protein_g:250,calories:2e3,category:"protein",sub_category:"chicken",image:"ðŸ—",brand_tier:"budget",servings_per_unit:8,sodium_level:"moderate",store:"PaknSave",isVegetarian:!1,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-dip-reduced-cream",name:"Reduced Cream (Nestle)",price:2.5,unit:"250ml",weight_g:250,protein_g:5,calories:600,category:"fat",sub_category:"dip",image:"ðŸ¥£",brand_tier:"standard",servings_per_unit:10,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"snack-dip-onion-soup",name:"Onion Soup Mix (Maggi)",price:2,unit:"Packet",weight_g:30,protein_g:2,calories:100,category:"fat",sub_category:"dip",image:"ðŸ§…",brand_tier:"standard",servings_per_unit:10,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!0,allergens:["Gluten","Soy"],preservatives:[]},{id:"snack-dip-hummus",name:"Hummus (Lisa's)",price:5.5,unit:"200g",weight_g:200,protein_g:10,calories:400,category:"fat",sub_category:"dip",image:"ðŸ¥£",brand_tier:"premium",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Sesame"],preservatives:[]},{id:"drink-juice-orange",name:"Original Juice Co OJ",price:5,unit:"2.4L",weight_g:2400,protein_g:5,calories:900,category:"fruit",sub_category:"juice",image:"ðŸŠ",brand_tier:"budget",servings_per_unit:10,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-chips-bluebird",name:"Bluebird Ready Salted",price:2.5,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"carb",sub_category:"chips",image:"ðŸ¥”",brand_tier:"standard",servings_per_unit:5,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-chips-vinegar",name:"Bluebird Salt & Vinegar",price:2.5,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"carb",sub_category:"chips",image:"ðŸ¥”",brand_tier:"standard",servings_per_unit:5,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-chips-eta",name:"Eta Ripples",price:2.3,unit:"150g",weight_g:150,protein_g:8,calories:800,category:"carb",sub_category:"chips",image:"ðŸ¥”",brand_tier:"budget",servings_per_unit:5,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-chips-copperkettle",name:"Copper Kettle Sea Salt",price:4.5,unit:"150g",weight_g:150,protein_g:8,calories:750,category:"carb",sub_category:"chips",image:"ðŸ¥”",brand_tier:"premium",servings_per_unit:5,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:[],preservatives:[]},{id:"snack-chips-grainwaves",name:"Grain Waves Salsa",price:3.5,unit:"150g",weight_g:150,protein_g:9,calories:700,category:"carb",sub_category:"chips",image:"ðŸŒ½",brand_tier:"standard",servings_per_unit:5,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Milk"],preservatives:[]},{id:"snack-biscuit-gingernuts",name:"Griffins Gingernuts",price:3,unit:"250g",weight_g:250,protein_g:4,calories:1100,category:"carb",sub_category:"biscuit",image:"ðŸª",brand_tier:"standard",servings_per_unit:12,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Ginger"],preservatives:[]},{id:"snack-biscuit-toffeepops",name:"Griffins Toffee Pops",price:3.5,unit:"Pack",weight_g:200,protein_g:2,calories:1e3,category:"carb",sub_category:"biscuit",image:"ðŸ«",brand_tier:"premium",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy","Soy"],preservatives:[]},{id:"snack-biscuit-squiggles",name:"Griffins Squiggles",price:3.5,unit:"Pack",weight_g:200,protein_g:2,calories:1050,category:"carb",sub_category:"biscuit",image:"ðŸª",brand_tier:"premium",servings_per_unit:10,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy","Soy"],preservatives:[]},{id:"snack-biscuit-farmbake",name:"Farmbake Choc Chip",price:4,unit:"Pack",weight_g:300,protein_g:4,calories:1400,category:"carb",sub_category:"biscuit",image:"ðŸª",brand_tier:"premium",servings_per_unit:12,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Dairy","Soy"],preservatives:[]},{id:"snack-biscuit-oreo",name:"Oreo Original",price:2,unit:"Pack",weight_g:130,protein_g:2,calories:600,category:"carb",sub_category:"biscuit",image:"ðŸª",brand_tier:"budget",servings_per_unit:6,sodium_level:"high",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Gluten","Soy"],preservatives:[]},{id:"snack-choc-dairy-milk",name:"Cadbury Dairy Milk",price:5.5,unit:"180g",weight_g:180,protein_g:14,calories:950,category:"fat",sub_category:"chocolate",image:"ðŸ«",brand_tier:"standard",servings_per_unit:8,sodium_level:"low",store:"General",isVegetarian:!0,isGlutenFree:!0,isPantryStaple:!1,allergens:["Dairy"],preservatives:[]},{id:"snack-choc-whittakers-berry",name:"Whittakers Berry & Biscuit",price:6,unit:"250g",weight_g:250,protein_g:18,calories:1300,category:"fat",sub_category:"chocolate",image:"ðŸ«",brand_tier:"premium",servings_per_unit:10,sodium_level:"low",store:"NewWorld",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:["Dairy","Gluten"],preservatives:[]}];function i({isOpen:e,onClose:r,product:s}){let[i,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[g,u]=(0,a.useState)(!1);return e&&s?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-amber-500 p-4 text-white flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-bold text-lg flex items-center gap-2",children:"ðŸš© Report Price"}),(0,t.jsx)("button",{onClick:r,className:"text-white/80 hover:text-white",children:"âœ•"})]}),g?(0,t.jsxs)("div",{className:"p-8 text-center animate-fade-in",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"âœ…"}),(0,t.jsx)("h4",{className:"font-bold text-slate-800 mb-1",children:"Legend! Thanks."}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"We'll have a squiz and fix it up."})]}):(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!0),setTimeout(()=>{c(!1),u(!0),setTimeout(()=>{u(!1),l(""),o(""),r()},2e3)},1e3)},className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:s.image}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Report Issue For"}),(0,t.jsx)("div",{className:"font-semibold text-slate-800",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Current: $",s.price.toFixed(2)]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1 uppercase",children:"What is the correct price?"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full pl-7 pr-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent font-bold text-lg text-slate-800",placeholder:"0.00",required:!0,value:i,onChange:e=>l(e.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1 uppercase",children:"Which Store? (Optional)"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-amber-500",value:n,onChange:e=>o(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Same as listed"}),(0,t.jsx)("option",{value:"paknsave",children:"Pak'nSave"}),(0,t.jsx)("option",{value:"woolworths",children:"Woolworths"}),(0,t.jsx)("option",{value:"newworld",children:"New World"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 active:scale-95 transition-all flex justify-center items-center gap-2",children:d?"Sending...":"Submit Report"})]})]})}):null}let l=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:d,...c},g)=>(0,a.createElement)("svg",{ref:g,...o,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:l("lucide",i),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),c=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...s},i)=>(0,a.createElement)(d,{ref:i,iconNode:t,className:l(`lucide-${n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s}));return r.displayName=n(e),r},g=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function u({isOpen:e,onClose:a,originalProduct:r,alternatives:s,onSelect:i}){return e&&r?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-indigo-600 p-6 text-white relative",children:[(0,t.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1 transition-all",children:(0,t.jsx)(g,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"bg-white/20 p-2 rounded-xl",children:(0,t.jsx)("span",{className:"text-2xl",children:r.image})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Swap Item"}),(0,t.jsxs)("p",{className:"text-indigo-200 text-xs",children:["Don't fancy ",r.name,"?"]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-3",children:[(0,t.jsxs)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Alternatives (",s.length,")"]}),0===s.length?(0,t.jsx)("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No logic swaps found for this item. You're stuck with it! ðŸ˜…"}):s.map(e=>(0,t.jsxs)("button",{onClick:()=>i(e),className:"w-full text-left flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-indigo-500 hover:bg-indigo-50 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:e.image}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-slate-700 text-sm group-hover:text-indigo-700",children:e.name}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400",children:[e.weight_g,"g â€¢ ",e.brand_tier]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold text-slate-900 group-hover:text-indigo-700",children:["$",e.price.toFixed(2)]}),(0,t.jsxs)("div",{className:`text-[10px] font-bold ${e.price>r.price?"text-amber-500":"text-emerald-500"}`,children:[e.price>r.price?"+":"","$",(e.price-r.price).toFixed(2)]})]})]},e.id))]}),(0,t.jsx)("div",{className:"bg-slate-50 p-4 text-center border-t border-slate-100",children:(0,t.jsx)("button",{onClick:a,className:"text-slate-500 text-xs font-bold hover:text-slate-800",children:"Cancel"})})]})}):null}let p=c("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),m=c("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function x({isOpen:e,onClose:r,estimatedTotal:s,itemCount:i,store:l}){let[n,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[u,x]=(0,a.useState)(0),[h,b]=(0,a.useState)("");return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-indigo-500 to-purple-600 text-white",children:[(0,t.jsx)("h2",{className:"text-lg font-bold flex items-center gap-2",children:"ðŸ“Š Verify & Improved"}),(0,t.jsx)("button",{onClick:r,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(g,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto space-y-6",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["Help us make SmartKete smarter! Tell us what you ",(0,t.jsx)("b",{children:"actually paid"})," so we can refine our database."]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"How much was the actual receipt?"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"number",value:n,onChange:e=>o(e.target.value),placeholder:s.toFixed(2),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-mono"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"clubcard",checked:d,onChange:e=>c(e.target.checked),className:"w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),(0,t.jsx)("label",{htmlFor:"clubcard",className:"text-sm text-slate-600",children:"I used a Clubcard / Loyalty Card"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Rate this Shop (Quality/Availability)"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{onClick:()=>x(e),className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold transition-all border ${u>=e?"bg-amber-400 border-amber-400 text-white scale-110 shadow-sm":"bg-slate-50 border-slate-200 text-slate-300 hover:border-amber-200"}`,children:5===e?"ðŸ¤©":1===e?"ðŸ˜¡":"â˜…"},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Missing Items / Suggestions"}),(0,t.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),placeholder:"e.g. 'You missed Tim Tams!' or 'The price of milk is wrong'",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none h-24 text-sm"})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex gap-3",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 py-2.5 text-sm font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{let e=encodeURIComponent(`SmartKete Data: Shop Report - $${s}`),t=encodeURIComponent(`
--- SMARTKETE DATA SUBMISSION ---
Store: ${l}
Items: ${i}
Estimated Total: $${s.toFixed(2)}

--- USER REPORT ---
Actual Spend: $${n}
Clubcard Used: ${d?"YES":"NO"}
Rating: ${u}/5
Feedback: ${h}

---------------------------------
(Attach photo of receipt if you like!)
`);window.open(`mailto:tom@thomasglobal.co.nz?subject=${e}&body=${t}`,"_blank"),r()},className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),"Send Report"]})]})]})}):null}let h=c("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=c("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function v({isOpen:e,onClose:r,onAdd:s}){let[i,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(1);return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-emerald-500 to-teal-600 text-white",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[(0,t.jsx)(h,{className:"w-5 h-5"})," Add Manual Item"]}),(0,t.jsx)("button",{onClick:r,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(g,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Item Name"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"e.g. Fresh Choice Apple Pie",className:"flex-1 p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",autoFocus:!0}),(0,t.jsx)("button",{onClick:()=>{if(!i)return;let e=encodeURIComponent(i+" price NZ");window.open(`https://www.google.com/search?tbm=shop&q=${e}`,"_blank")},disabled:!i,className:"bg-slate-100 text-slate-600 p-2 rounded-lg hover:bg-blue-100 hover:text-blue-600 disabled:opacity-50 transition-colors",title:"Search Google Shopping",children:(0,t.jsx)(b,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"Tip: Click the ðŸ” to find the price online."})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Price ($)"}),(0,t.jsx)("input",{type:"number",value:n,onChange:e=>o(e.target.value),placeholder:"0.00",className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]}),(0,t.jsxs)("div",{className:"w-20 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Qty"}),(0,t.jsx)("input",{type:"number",value:d,onChange:e=>c(parseInt(e.target.value)||1),min:"1",className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-center"})]})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex gap-3",children:(0,t.jsx)("button",{onClick:()=>{if(!i||!n)return;let e=parseFloat(n);isNaN(e)||(s({id:`custom-${Date.now()}`,name:i,price:e,unit:"ea",weight_g:0,protein_g:0,calories:0,category:"fat",sub_category:"treat",image:"ðŸ›’",brand_tier:"standard",servings_per_unit:1,sodium_level:"moderate",store:"General",isVegetarian:!0,isGlutenFree:!1,isPantryStaple:!1,allergens:[],preservatives:[]},d),l(""),o(""),c(1),r())},disabled:!i||!n,className:"w-full py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 hover:bg-emerald-700 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Cart"})})]})}):null}let f=c("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),y=c("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),_=c("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),w=c("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),j=c("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function N({cart:e,onUpdate:r,onAddCustomItem:l,hasClubcard:n,isBulkBuy:o,safetyBuffer:d}){let[c,g]=(0,a.useState)(!1),[p,m]=(0,a.useState)(new Set),[h,b]=(0,a.useState)({}),[N,k]=(0,a.useState)(!1),[S,P]=(0,a.useState)(null),[G,C]=(0,a.useState)(!1),[F,V]=(0,a.useState)(!1),[$,M]=(0,a.useState)(!1),[A,B]=(0,a.useState)(null),W=e.items.map(e=>{let t=h[e.product.id],a=e.product,r=!1,i=e.product.price,l=e.savings||0;if(t){let e=s.find(e=>e.id===t);e&&(a=e,r=!0,l=0)}return{...e,product:a,originalProduct:e.product,isSwapped:r,originalPrice:i,savings:l}}),D=W.reduce((e,t)=>e+t.product.price*t.quantity,0),T=W.reduce((e,t)=>e+(t.savings||0),0),q=W.filter(e=>p.has(e.originalProduct.id)).reduce((e,t)=>e+t.product.price*t.quantity,0);return(0,t.jsxs)("div",{className:"w-full bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden font-sans pb-20 relative",children:[(0,t.jsx)(i,{isOpen:$,onClose:()=>M(!1),product:A}),(0,t.jsx)(u,{isOpen:N,onClose:()=>k(!1),originalProduct:S?.displayed||null,alternatives:S?.alternatives||[],onSelect:e=>{if(S){if(b(t=>({...t,[S.originalKey.id]:e.id})),p.has(S.originalKey.id)){let e=new Set(p);e.delete(S.originalKey.id),m(e)}k(!1),P(null)}}}),(0,t.jsxs)("div",{className:"bg-emerald-500 p-6 text-white flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"The Haul"}),(0,t.jsx)("p",{className:"text-emerald-100 text-sm mt-1",children:"More bang for your buck."})]}),(0,t.jsxs)("button",{onClick:()=>g(!c),className:`flex items-center gap-2 px-4 py-2 rounded-full font-bold transition-all shadow-md transform hover:scale-105 active:scale-95
                        ${c?"bg-slate-800 text-white border-2 border-emerald-400":"bg-white text-emerald-600 hover:bg-emerald-50"}`,children:[(0,t.jsx)(_,{className:"w-4 h-4"}),c?"Done Shopping":"Start Shopping"]})]}),c&&(0,t.jsxs)("div",{className:"bg-slate-800 text-white p-4 flex justify-between items-center sticky top-0 z-10 shadow-md animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-bold",children:"In Basket"}),(0,t.jsxs)("span",{className:"text-xl font-bold text-emerald-400",children:["$",q.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"text-right flex flex-col",children:[n&&T>0&&(0,t.jsxs)("span",{className:"text-[10px] text-rose-400 font-bold mb-0.5",children:["Saved $",T.toFixed(2)]}),(0,t.jsx)("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-bold",children:"Remaining"}),(0,t.jsxs)("span",{className:"text-xl font-bold",children:["$",(D-q).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"p-4",children:[W.map(e=>{var a;let r=p.has(e.originalProduct.id),i=(e.savings||0)/e.quantity,l=e.product.price+i,o=n&&e.savings&&e.savings>0;return(0,t.jsxs)("div",{onClick:()=>{var t;let a;return c&&(t=e.originalProduct.id,void((a=new Set(p)).has(t)?a.delete(t):a.add(t),m(a)))},className:`flex items-center justify-between py-4 border-b border-slate-50 last:border-0 group transition-all 
                                ${e.isSwapped?"bg-indigo-50/50 -mx-4 px-4 border-indigo-100":""}
                                ${c?"cursor-pointer hover:bg-slate-50":""}
                                ${r?"opacity-50 grayscale":""}
                            `,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[c&&(0,t.jsx)("div",{className:`transition-colors text-emerald-500 ${r?"text-emerald-600":"text-slate-300"}`,children:r?(0,t.jsx)(w,{className:"w-6 h-6 fill-emerald-100"}):(0,t.jsx)(j,{className:"w-6 h-6"})}),(0,t.jsx)("span",{className:"text-2xl",children:e.product.image}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:`font-semibold text-slate-800 text-sm flex items-center gap-2 ${r?"line-through text-slate-500":""}`,children:[e.product.name,e.isSwapped&&(0,t.jsx)("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1 py-0.5 rounded font-bold",children:"SWAPPED"})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,t.jsx)("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wider ${"PaknSave"===e.product.store?"bg-yellow-100 text-yellow-700":"Woolworths"===e.product.store?"bg-green-100 text-green-700":"NewWorld"===e.product.store?"bg-red-100 text-red-700":"bg-slate-100 text-slate-500"}`,children:"PaknSave"===e.product.store?"Pak'nSave":"NewWorld"===e.product.store?"New World":e.product.store}),(0,t.jsxs)("span",{className:"text-[10px] text-slate-400 font-medium pt-0.5",children:[e.quantity,"x ",e.product.unit]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[!r&&"protein"===e.product.category&&(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1 mb-1",children:[e.product.protein_g/e.product.price>40&&(0,t.jsx)("span",{className:"text-[9px] font-black bg-emerald-100 text-emerald-700 px-1.5 py-0.5 rounded border border-emerald-200",children:"BEST VALUE ðŸ’Ž"}),e.product.weight_g>=2e3&&(0,t.jsx)("span",{className:"text-[9px] font-black bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded border border-purple-200",children:"BULK SAVER ðŸ“¦"}),e.product.protein_g>20&&e.product.protein_g/e.product.price<=40&&(0,t.jsx)("span",{className:"text-[9px] font-bold bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded",children:"HIGH PROTEIN ðŸ’ª"})]}),(0,t.jsxs)("div",{className:"font-bold text-slate-700 text-right",children:[(0,t.jsxs)("div",{className:`${r?"text-slate-400 line-through":""}`,children:["$",(e.product.price*e.quantity).toFixed(2)]}),(0,t.jsx)("div",{className:"flex flex-col items-end",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-normal line-through",children:["$",l.toFixed(2),"/ea"]}),(0,t.jsxs)("div",{className:"text-[10px] text-rose-500 font-bold flex items-center gap-1",children:["$",e.product.price.toFixed(2),"/ea",(0,t.jsx)("span",{className:"bg-rose-100 px-1 rounded text-[8px] uppercase tracking-wide",children:"Woolworths"===(a=e.product.store)?"Everyday Rewards":"NewWorld"===a?"Clubcard":"PaknSave"===a?"Club Deal":"Member Deal"})]})]}):(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-normal",children:["$",e.product.price.toFixed(2),"/ea"]})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{var a,r;let i;t.stopPropagation(),a=e.product,r=e.originalProduct,i=s.filter(e=>e.id!==a.id&&(a.sub_category&&e.sub_category?e.sub_category===a.sub_category:e.category===a.category)).sort((e,t)=>e.price-t.price),P({originalKey:r,displayed:a,alternatives:i}),k(!0)},className:"text-slate-300 hover:text-indigo-600 p-1 transition-colors",title:"Swap Product",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),B(e.product),M(!0)},className:"text-slate-300 hover:text-amber-500 p-1 transition-colors",title:"Report Incorrect Price",children:(0,t.jsx)(y,{className:"w-4 h-4"})})]})]})]},e.originalProduct.id)}),0===e.items.length&&(0,t.jsx)("div",{className:"text-center py-10 text-slate-400",children:"Yeah nah. Not enough gold in the coffers. Slide that budget up!"})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[(0,t.jsx)(_,{className:"w-5 h-5 text-indigo-600"}),"Your Haul"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 font-medium",children:[e.items.length," Items â€¢ ",e.totalMeals," Meals Covered"]})]}),(0,t.jsxs)("button",{onClick:()=>V(!0),className:"text-indigo-600 text-xs font-bold bg-indigo-50 px-3 py-2 rounded-lg hover:bg-indigo-100 transition-colors flex items-center gap-1",children:[(0,t.jsx)("span",{children:"âž•"})," Add Item"]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-6 border-t border-slate-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-slate-500 font-medium",children:"Total Dosh"}),n&&T>0&&(0,t.jsxs)("span",{className:"text-xs text-rose-500 font-bold",children:["Total Savings: $",T.toFixed(2)]})]}),(0,t.jsxs)("span",{className:"text-3xl font-black text-slate-900",children:["$",D.toFixed(2)]})]}),(0,t.jsxs)("button",{onClick:()=>C(!0),className:"w-full py-3 bg-indigo-50 text-indigo-600 rounded-xl font-bold border border-indigo-200 hover:bg-indigo-100 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ§¾"})," Verify & Rate Shop"]})]}),(0,t.jsx)(x,{isOpen:G,onClose:()=>C(!1),estimatedTotal:D,itemCount:e.items.reduce((e,t)=>e+t.quantity,0),store:localStorage.getItem("smartkete_prefs_v4")?JSON.parse(localStorage.getItem("smartkete_prefs_v4")||"{}").preferredStore:"General"}),(0,t.jsx)(v,{isOpen:F,onClose:()=>V(!1),onAdd:l})]})}let k=c("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),S=c("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),P=c("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),G=c("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),C=c("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function F({cart:e,adults:r,infants:s,durationDays:i,mealsPerDay:l,hasPantryStaples:n}){let[o,d]=(0,a.useState)(!1),[c,g]=(0,a.useState)(!1),u=(e,t)=>{navigator.clipboard.writeText(e),t(!0),setTimeout(()=>t(!1),2e3)},p=async()=>{let t,a=((t=[`ðŸ¥ SmartKete Haul ($${e.total.toFixed(2)})`]).push(`For ${r} Adults, ${s} Kids | ${i} Days`),t.push("--------------------------------"),["protein","veg","fruit","carb","fat","baby"].forEach(a=>{let r=e.items.filter(e=>e.product.category===a);r.length>0&&(t.push(`
[ ${a.toUpperCase()} ]`),r.forEach(e=>{t.push(`[ ] ${e.product.name} (${e.quantity>1?`x${e.quantity}`:e.product.unit})`)}))}),t.push("\n--------------------------------"),t.push("Generate your meal plan at: https://smartkete.com"),t.join("\n"));if(navigator.share)try{await navigator.share({title:"My SmartKete Haul",text:a})}catch(e){console.log("Error sharing:",e)}else u(a,g)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("button",{onClick:p,className:"w-full group relative overflow-hidden bg-white border border-emerald-100 rounded-2xl p-6 shadow-sm hover:shadow-lg transition-all text-left",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-50 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("div",{className:"bg-emerald-50 rounded-full p-2",children:(0,t.jsx)(S,{className:"w-5 h-5 text-emerald-600"})})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 relative z-10",children:[(0,t.jsx)("div",{className:"bg-emerald-100/50 p-3 rounded-xl group-hover:scale-110 transition-transform",children:(0,t.jsx)(G,{className:"w-8 h-8 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-emerald-700 transition-colors",children:"Send to Myself/Partner"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"WhatsApp, Messenger, or Copy Text"})]})]}),c&&(0,t.jsx)("div",{className:"absolute inset-0 bg-emerald-600/90 flex items-center justify-center backdrop-blur-sm animate-fade-in z-20",children:(0,t.jsxs)("span",{className:"text-white font-bold flex items-center gap-2",children:[(0,t.jsx)(P,{className:"w-5 h-5"})," Copied to Clipboard!"]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-violet-50 border border-indigo-100 rounded-2xl p-6 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-indigo-200/20 rounded-full blur-3xl"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[(0,t.jsx)("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:(0,t.jsx)(C,{className:"w-5 h-5 text-indigo-600"})}),(0,t.jsx)("h3",{className:"font-bold text-slate-800",children:"Generate Meal Plan"})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed relative z-10",children:["Want a chef to plan your week? Copy this ",(0,t.jsx)("strong",{children:"magic prompt"})," and paste it into ChatGPT, Claude, or DeepSeek. It knows exactly what you bought."]}),(0,t.jsxs)("button",{onClick:()=>{let t;return u((t=e.items.map(e=>`${e.quantity}x ${e.product.name}`).join(", "),`
Act as a cheeky, budget-conscious Kiwi Nutritionist.
I need a ${i}-day meal plan (${l} meals/day) for ${r} adults and ${s} infants.

MY SHOPPING HAUL:
${t}

MY PANTRY:
${n?"I have basic pantry staples (Oil, Spices, Flour, Rice, Pasta, Mayo, Soy Sauce).":"I have NO pantry staples. Only use what is in the list."}

MY PREFERENCES:
- Cooking Style: Flexible / Standard
- Health Goal: Balanced
${s>0?"- Infant logic: Suggest how to adapt the main meal for a baby, or specify when to use Formula/Pouches.":""}

OUTPUT FORMAT:
1. A summary of the "Vibe" of this week.
2. A Day-by-Day Table (Mon-Sun) with columns: Breakfast, Lunch, Dinner, Prep Notes.
3. A "Cheeky Tip" for saving money or time.

IMPORTANT:
- Use ONLY the ingredients provided or assumed in pantry.
- Do not suggest buying more stuff.
- If I run out of food, be creative with leftovers.
`.trim()),d)},className:"w-full py-4 bg-white border border-indigo-100 text-indigo-700 font-bold rounded-xl shadow-sm hover:shadow-md hover:border-indigo-300 transition-all flex items-center justify-center gap-2 relative z-10",children:[o?(0,t.jsx)(P,{className:"w-4 h-4"}):(0,t.jsx)(k,{className:"w-4 h-4"}),o?"Copied!":"Copy Magic Prompt"]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"SmartKete doesn't send data to external AI. You stay in control."})})]})}function V(){let[e,i]=(0,a.useState)(150),[l,n]=(0,a.useState)(2),[o,d]=(0,a.useState)(0),[c,g]=(0,a.useState)(7),[u,p]=(0,a.useState)(3),[m,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!1),[v,f]=(0,a.useState)(!1),[y,_]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[P,G]=(0,a.useState)("Any"),[C,V]=(0,a.useState)(!1),[$,M]=(0,a.useState)(!1),[A,B]=(0,a.useState)(5),[W,D]=(0,a.useState)(null),[T,q]=(0,a.useState)("haul"),[R,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{I(!0);let e=localStorage.getItem("smartkete_prefs_v4");if(e)try{let t=JSON.parse(e);i(t.budget||150),n(t.adults||2),d(t.infants||0),g(t.durationDays||7),p(t.mealsPerDay||3),x(t.isVegetarian||!1),b(t.isGlutenFree||!1),f(t.isPreservativeFree||!1),_(t.excludedAllergens||[]),S(t.hasPantryStaples||!1),G(t.preferredStore||"Any")}catch(e){console.error("Failed to load prefs",e)}},[]),(0,a.useEffect)(()=>{R&&(localStorage.setItem("smartkete_prefs_v4",JSON.stringify({budget:e,adults:l,infants:o,durationDays:c,mealsPerDay:u,isVegetarian:m,isGlutenFree:h,isPreservativeFree:v,excludedAllergens:y,hasPantryStaples:k,preferredStore:P})),D(((e,t,a,r=!1,i=!1,l=!1,n="Any",o=!1,d=[],c=7,g=3,u=!1,p=!1,m=!1)=>{let x=0,h=[],b=t*g*c,v=a>0,f=e=>{if(v&&"high"===e.sodium_level||r&&!e.isVegetarian||i&&!e.isGlutenFree||d.includes("Gluten")&&!e.isGlutenFree||l&&e.isPantryStaple||o&&e.preservatives&&e.preservatives.length>0||d.length>0&&e.allergens&&e.allergens.some(e=>d.some(t=>e.includes(t))))return!1;if("Any"!==n){if("General"===e.store)return!0;if("PaknSave"===n&&("Woolworths"===e.store||"NewWorld"===e.store)||"Woolworths"===n&&("PaknSave"===e.store||"NewWorld"===e.store)||"NewWorld"===n&&("PaknSave"===e.store||"Woolworths"===e.store))return!1}return!0},y=e=>!(d.length>0&&e.allergens&&e.allergens.some(e=>d.some(t=>e.includes(t))))&&!0,_=e=>{let t=e.price,a=0;return u&&("premium"===e.brand_tier?(t=.9*e.price,a=e.price-t):"standard"===e.brand_tier&&(t=.95*e.price,a=e.price-t)),{price:t,savings:a}};if(a>0){let t=s.filter(e=>"baby"===e.category&&e.name.includes("Formula")).filter(f).filter(y).sort((e,t)=>_(e).price-_(t).price)[0],r=Math.max(1,Math.ceil(c/7));t&&x+_(t).price*r<=e&&(h.push({product:t,quantity:r}),x+=_(t).price*r);let i=s.find(e=>"baby"===e.category&&"budget"===e.brand_tier&&e.id!==t?.id&&!e.name.includes("Formula")&&y(e))||s.find(e=>"baby"===e.category&&"standard"===e.brand_tier&&e.id!==t?.id&&!e.name.includes("Formula")&&y(e)),l=2*c*a;i&&x+_(i).price*l<=e&&(h.push({product:i,quantity:l}),x+=_(i).price*l)}if(m){let t=s.find(e=>"snack-dip-reduced-cream"===e.id),a=s.find(e=>"snack-dip-onion-soup"===e.id);t&&a&&x+_(t).price+_(a).price<=e&&(h.push({product:t,quantity:1,savings:0}),h.push({product:a,quantity:1,savings:0}),x+=_(t).price+_(a).price);let r=s.find(e=>"chips"===e.sub_category&&"standard"===e.brand_tier);r&&x+_(r).price<=e&&(h.push({product:r,quantity:1,savings:0}),x+=_(r).price);let i=s.find(e=>"biscuit"===e.sub_category&&"standard"===e.brand_tier);i&&x+_(i).price<=e&&(h.push({product:i,quantity:1,savings:0}),x+=_(i).price)}let w=[...s].filter(f).sort((e,t)=>{let a=e.protein_g/_(e).price;return t.protein_g/_(t).price-a}),j=(t,a,r)=>{if(p){let r=s.filter(e=>e.category===t&&e.sub_category===a&&e.weight_g>=2e3&&f(e)).sort((e,t)=>_(e).price-_(t).price)[0];if(r&&x+_(r).price<=e)return r}return s.find(e=>e.category===t&&e.sub_category===a&&f(e))},N=j("carb","rice","ðŸš")||j("carb","pasta","ðŸ"),k=j("carb","bread","ðŸž"),S=j("fat","milk","ðŸ¥›");if(N){let a=1;N.weight_g<1e3&&(t>2||c>7)&&(a=2);let{price:r,savings:s}=_(N);x+r*a<=e&&(h.find(e=>e.product.id===N.id)||(h.push({product:N,quantity:a,savings:s*a}),x+=r*a))}if(k&&!l){let a=Math.ceil(c/3)*Math.ceil(t/2),{price:r,savings:s}=_(k);x+r*a<=e&&(h.find(e=>e.product.id===k.id)||(h.push({product:k,quantity:a,savings:s*a}),x+=r*a))}if(S){let a=Math.ceil(c/7)*Math.ceil(t/2),{price:r,savings:s}=_(S);x+r*a<=e&&(h.find(e=>e.product.id===S.id)||(h.push({product:S,quantity:a,savings:s*a}),x+=r*a))}for(let t of w){if("baby"===t.category)continue;let{price:a,savings:r}=_(t);!h.some(e=>e.product.id===t.id)&&x+a<=e&&(h.push({product:t,quantity:1,savings:r||0}),x+=a)}if(x<e){if(e-x>8){let a=s.filter(e=>e.id.startsWith("treat-")&&f(e));if(a.length>0){let t=a.find(e=>e.name.includes("Whittakers"));if(t&&x+_(t).price<=e)h.push({product:t,quantity:1}),x+=_(t).price;else{let t=a.find(e=>e.name.includes("Arnotts"));t&&x+_(t).price<=e&&(h.push({product:t,quantity:1}),x+=_(t).price)}}if(h.some(e=>e.product.name.toLowerCase().includes("chips"))&&e-x>5){let t=s.find(e=>"snack-dip-reduced-cream"===e.id),a=s.find(e=>"snack-dip-onion-soup"===e.id);if(t&&a&&f(t)&&f(a)&&x+_(t).price+_(a).price<=e)h.push({product:t,quantity:1}),h.push({product:a,quantity:1}),x+=_(t).price+_(a).price;else{let t=s.find(e=>e.id.includes("hummus"));t&&f(t)&&x+_(t).price<=e&&(h.push({product:t,quantity:1}),x+=_(t).price)}}if(e-x>6&&t>1){let e=s.find(e=>"drink-juice-orange"===e.id);e&&f(e)&&(h.push({product:e,quantity:1}),x+=_(e).price)}}let a=["protein","veg","fruit","carb","fat"],r=!0;for(;r&&x<e;)for(let t of(r=!1,a)){for(let a of h.filter(e=>e.product.category===t&&"baby"!==e.product.category)){let{price:t,savings:s}=_(a.product);if(!(a.product.id.startsWith("treat-")||a.product.id.startsWith("snack-")||a.product.id.startsWith("drink-"))&&x+t<=e&&a.quantity<6&&(a.quantity++,x+=t,s>0&&(a.savings=(a.savings||0)+s),r=!0,x>=e))break}if(x>=e)break}}let P=0;h.forEach(e=>{let t=e.product.category,a=e.product.name.toLowerCase();"protein"===t?P+=e.product.servings_per_unit*e.quantity:"fat"===t&&(a.includes("egg")||a.includes("cheese")||a.includes("tofu"))&&(P+=e.product.servings_per_unit*e.quantity)});let G=t*c,C=Math.min(c,Math.floor(c*(G>0?P/G:0)));return{items:h,total:x,remainingBudget:e-x,totalMeals:Math.floor(P),daysCovered:C,infantCount:a,durationDays:c,mealsRequired:b,isSurvivalMode:(e-20*a)/b<1.5}})(e,l,o,m,h,k,P,v,y,c,u,C,$,w)||null))},[e,l,o,c,u,m,h,v,y,k,P,R,w]);let[E,O]=(0,a.useState)(new Set);return R?(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-20",children:[(0,t.jsxs)("div",{className:"bg-emerald-600 text-white text-center py-10 px-4 rounded-b-[3rem] shadow-xl mb-8 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),(0,t.jsxs)("h1",{className:"text-4xl font-black tracking-tight mb-2 relative z-10",children:["Smart",(0,t.jsx)("span",{className:"text-emerald-200",children:"Kete"})," ðŸ¥"]}),(0,t.jsx)("p",{className:"text-emerald-100 font-medium text-sm relative z-10 opacity-90",children:"Smart Shopping. Cheeky Savings."})]}),(0,t.jsxs)("div",{className:"max-w-md mx-auto px-4 space-y-6",children:[(0,t.jsx)(r,{budget:e,adults:l,infants:o,durationDays:c,mealsPerDay:u,onUpdate:(e,t)=>{"budget"===e&&i(t),"adults"===e&&n(t),"infants"===e&&d(t),"durationDays"===e&&g(t),"mealsPerDay"===e&&p(t),"isVegetarian"===e&&x(t),"isGlutenFree"===e&&b(t),"isPreservativeFree"===e&&f(t),"excludedAllergens"===e&&_(t),"hasPantryStaples"===e&&S(t),"preferredStore"===e&&G(t),"isBulkBuy"===e&&M(t),"safetyBuffer"===e&&B(t),"includeSnacks"===e&&j(t)},isVegetarian:m,isGlutenFree:h,isPreservativeFree:v,includeSnacks:w,excludedAllergens:y,hasPantryStaples:k,preferredStore:P,hasClubcard:C,isBulkBuy:$,safetyBuffer:A}),W&&(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex border-b border-slate-100",children:[(0,t.jsx)("button",{onClick:()=>q("haul"),className:`flex-1 py-4 font-bold text-xs uppercase tracking-widest ${"haul"===T?"bg-indigo-50 text-indigo-700 border-b-2 border-indigo-500":"text-slate-400 hover:bg-slate-50"}`,children:"ðŸ›’ The Haul"}),(0,t.jsx)("button",{onClick:()=>q("share"),className:`flex-1 py-4 font-bold text-xs uppercase tracking-widest ${"share"===T?"bg-indigo-50 text-indigo-700 border-b-2 border-indigo-500":"text-slate-400 hover:bg-slate-50"}`,children:"ðŸš€ Share"})]}),"haul"===T&&(0,t.jsx)("div",{className:"animate-fade-in",children:(0,t.jsx)(N,{cart:W,onUpdate:e=>{O(e)},onAddCustomItem:(e,t)=>{if(!W)return;let a={...W};a.items=[{product:e,quantity:t,savings:0},...a.items],a.total+=e.price*t,a.remainingBudget-=e.price*t,D(a)},safetyBuffer:A,hasClubcard:C,isBulkBuy:$})}),"share"===T&&(0,t.jsx)("div",{className:"p-6 space-y-6 animate-fade-in",children:(0,t.jsx)(F,{cart:W,adults:l,infants:o,durationDays:c,mealsPerDay:u,hasPantryStaples:k})}),(0,t.jsxs)("div",{className:"mt-8 text-center flex flex-col gap-4 p-6 pt-0",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-400",children:["Estimates based on Feb 2026 NZ Supermarket data.",(0,t.jsx)("br",{}),"Not financial or nutritional advice."]}),(0,t.jsx)("a",{href:"mailto:feedback@smartkete.co.nz?subject=SmartKete Feedback",className:"text-emerald-600 font-bold text-xs hover:underline decoration-emerald-200",children:"Have feedback? Let us know! ðŸ“£"})]})]})]})]}):null}e.s(["default",()=>V],31713)}]);